(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();var dh={exports:{}},ta={},ph={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function F_(){if(Zp)return Re;Zp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function A(L){return L===null||typeof L!="object"?null:(L=T&&L[T]||L["@@iterator"],typeof L=="function"?L:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,$={};function U(L,G,de){this.props=L,this.context=G,this.refs=$,this.updater=de||D}U.prototype.isReactComponent={},U.prototype.setState=function(L,G){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,G,"setState")},U.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function q(){}q.prototype=U.prototype;function ne(L,G,de){this.props=L,this.context=G,this.refs=$,this.updater=de||D}var Z=ne.prototype=new q;Z.constructor=ne,M(Z,U.prototype),Z.isPureReactComponent=!0;var fe=Array.isArray,Ce=Object.prototype.hasOwnProperty,Te={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function I(L,G,de){var Ie,Ae={},ke=null,Oe=null;if(G!=null)for(Ie in G.ref!==void 0&&(Oe=G.ref),G.key!==void 0&&(ke=""+G.key),G)Ce.call(G,Ie)&&!k.hasOwnProperty(Ie)&&(Ae[Ie]=G[Ie]);var Fe=arguments.length-2;if(Fe===1)Ae.children=de;else if(1<Fe){for(var Be=Array(Fe),gt=0;gt<Fe;gt++)Be[gt]=arguments[gt+2];Ae.children=Be}if(L&&L.defaultProps)for(Ie in Fe=L.defaultProps,Fe)Ae[Ie]===void 0&&(Ae[Ie]=Fe[Ie]);return{$$typeof:i,type:L,key:ke,ref:Oe,props:Ae,_owner:Te.current}}function R(L,G){return{$$typeof:i,type:L.type,key:G,ref:L.ref,props:L.props,_owner:L._owner}}function x(L){return typeof L=="object"&&L!==null&&L.$$typeof===i}function V(L){var G={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(de){return G[de]})}var O=/\/+/g;function C(L,G){return typeof L=="object"&&L!==null&&L.key!=null?V(""+L.key):G.toString(36)}function tt(L,G,de,Ie,Ae){var ke=typeof L;(ke==="undefined"||ke==="boolean")&&(L=null);var Oe=!1;if(L===null)Oe=!0;else switch(ke){case"string":case"number":Oe=!0;break;case"object":switch(L.$$typeof){case i:case e:Oe=!0}}if(Oe)return Oe=L,Ae=Ae(Oe),L=Ie===""?"."+C(Oe,0):Ie,fe(Ae)?(de="",L!=null&&(de=L.replace(O,"$&/")+"/"),tt(Ae,G,de,"",function(gt){return gt})):Ae!=null&&(x(Ae)&&(Ae=R(Ae,de+(!Ae.key||Oe&&Oe.key===Ae.key?"":(""+Ae.key).replace(O,"$&/")+"/")+L)),G.push(Ae)),1;if(Oe=0,Ie=Ie===""?".":Ie+":",fe(L))for(var Fe=0;Fe<L.length;Fe++){ke=L[Fe];var Be=Ie+C(ke,Fe);Oe+=tt(ke,G,de,Be,Ae)}else if(Be=A(L),typeof Be=="function")for(L=Be.call(L),Fe=0;!(ke=L.next()).done;)ke=ke.value,Be=Ie+C(ke,Fe++),Oe+=tt(ke,G,de,Be,Ae);else if(ke==="object")throw G=String(L),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Oe}function xt(L,G,de){if(L==null)return L;var Ie=[],Ae=0;return tt(L,Ie,"","",function(ke){return G.call(de,ke,Ae++)}),Ie}function kt(L){if(L._status===-1){var G=L._result;G=G(),G.then(function(de){(L._status===0||L._status===-1)&&(L._status=1,L._result=de)},function(de){(L._status===0||L._status===-1)&&(L._status=2,L._result=de)}),L._status===-1&&(L._status=0,L._result=G)}if(L._status===1)return L._result.default;throw L._result}var Ue={current:null},re={transition:null},me={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:re,ReactCurrentOwner:Te};function se(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:xt,forEach:function(L,G,de){xt(L,function(){G.apply(this,arguments)},de)},count:function(L){var G=0;return xt(L,function(){G++}),G},toArray:function(L){return xt(L,function(G){return G})||[]},only:function(L){if(!x(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Re.Component=U,Re.Fragment=n,Re.Profiler=a,Re.PureComponent=ne,Re.StrictMode=s,Re.Suspense=g,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Re.act=se,Re.cloneElement=function(L,G,de){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Ie=M({},L.props),Ae=L.key,ke=L.ref,Oe=L._owner;if(G!=null){if(G.ref!==void 0&&(ke=G.ref,Oe=Te.current),G.key!==void 0&&(Ae=""+G.key),L.type&&L.type.defaultProps)var Fe=L.type.defaultProps;for(Be in G)Ce.call(G,Be)&&!k.hasOwnProperty(Be)&&(Ie[Be]=G[Be]===void 0&&Fe!==void 0?Fe[Be]:G[Be])}var Be=arguments.length-2;if(Be===1)Ie.children=de;else if(1<Be){Fe=Array(Be);for(var gt=0;gt<Be;gt++)Fe[gt]=arguments[gt+2];Ie.children=Fe}return{$$typeof:i,type:L.type,key:Ae,ref:ke,props:Ie,_owner:Oe}},Re.createContext=function(L){return L={$$typeof:h,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:u,_context:L},L.Consumer=L},Re.createElement=I,Re.createFactory=function(L){var G=I.bind(null,L);return G.type=L,G},Re.createRef=function(){return{current:null}},Re.forwardRef=function(L){return{$$typeof:m,render:L}},Re.isValidElement=x,Re.lazy=function(L){return{$$typeof:E,_payload:{_status:-1,_result:L},_init:kt}},Re.memo=function(L,G){return{$$typeof:v,type:L,compare:G===void 0?null:G}},Re.startTransition=function(L){var G=re.transition;re.transition={};try{L()}finally{re.transition=G}},Re.unstable_act=se,Re.useCallback=function(L,G){return Ue.current.useCallback(L,G)},Re.useContext=function(L){return Ue.current.useContext(L)},Re.useDebugValue=function(){},Re.useDeferredValue=function(L){return Ue.current.useDeferredValue(L)},Re.useEffect=function(L,G){return Ue.current.useEffect(L,G)},Re.useId=function(){return Ue.current.useId()},Re.useImperativeHandle=function(L,G,de){return Ue.current.useImperativeHandle(L,G,de)},Re.useInsertionEffect=function(L,G){return Ue.current.useInsertionEffect(L,G)},Re.useLayoutEffect=function(L,G){return Ue.current.useLayoutEffect(L,G)},Re.useMemo=function(L,G){return Ue.current.useMemo(L,G)},Re.useReducer=function(L,G,de){return Ue.current.useReducer(L,G,de)},Re.useRef=function(L){return Ue.current.useRef(L)},Re.useState=function(L){return Ue.current.useState(L)},Re.useSyncExternalStore=function(L,G,de){return Ue.current.useSyncExternalStore(L,G,de)},Re.useTransition=function(){return Ue.current.useTransition()},Re.version="18.3.1",Re}var em;function nf(){return em||(em=1,ph.exports=F_()),ph.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm;function b_(){if(tm)return ta;tm=1;var i=nf(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(m,g,v){var E,T={},A=null,D=null;v!==void 0&&(A=""+v),g.key!==void 0&&(A=""+g.key),g.ref!==void 0&&(D=g.ref);for(E in g)s.call(g,E)&&!u.hasOwnProperty(E)&&(T[E]=g[E]);if(m&&m.defaultProps)for(E in g=m.defaultProps,g)T[E]===void 0&&(T[E]=g[E]);return{$$typeof:e,type:m,key:A,ref:D,props:T,_owner:a.current}}return ta.Fragment=n,ta.jsx=h,ta.jsxs=h,ta}var nm;function j_(){return nm||(nm=1,dh.exports=b_()),dh.exports}var H=j_(),W=nf(),ql={},mh={exports:{}},Yt={},gh={exports:{}},yh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm;function U_(){return rm||(rm=1,function(i){function e(re,me){var se=re.length;re.push(me);e:for(;0<se;){var L=se-1>>>1,G=re[L];if(0<a(G,me))re[L]=me,re[se]=G,se=L;else break e}}function n(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var me=re[0],se=re.pop();if(se!==me){re[0]=se;e:for(var L=0,G=re.length,de=G>>>1;L<de;){var Ie=2*(L+1)-1,Ae=re[Ie],ke=Ie+1,Oe=re[ke];if(0>a(Ae,se))ke<G&&0>a(Oe,Ae)?(re[L]=Oe,re[ke]=se,L=ke):(re[L]=Ae,re[Ie]=se,L=Ie);else if(ke<G&&0>a(Oe,se))re[L]=Oe,re[ke]=se,L=ke;else break e}}return me}function a(re,me){var se=re.sortIndex-me.sortIndex;return se!==0?se:re.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],v=[],E=1,T=null,A=3,D=!1,M=!1,$=!1,U=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(re){for(var me=n(v);me!==null;){if(me.callback===null)s(v);else if(me.startTime<=re)s(v),me.sortIndex=me.expirationTime,e(g,me);else break;me=n(v)}}function fe(re){if($=!1,Z(re),!M)if(n(g)!==null)M=!0,kt(Ce);else{var me=n(v);me!==null&&Ue(fe,me.startTime-re)}}function Ce(re,me){M=!1,$&&($=!1,q(I),I=-1),D=!0;var se=A;try{for(Z(me),T=n(g);T!==null&&(!(T.expirationTime>me)||re&&!V());){var L=T.callback;if(typeof L=="function"){T.callback=null,A=T.priorityLevel;var G=L(T.expirationTime<=me);me=i.unstable_now(),typeof G=="function"?T.callback=G:T===n(g)&&s(g),Z(me)}else s(g);T=n(g)}if(T!==null)var de=!0;else{var Ie=n(v);Ie!==null&&Ue(fe,Ie.startTime-me),de=!1}return de}finally{T=null,A=se,D=!1}}var Te=!1,k=null,I=-1,R=5,x=-1;function V(){return!(i.unstable_now()-x<R)}function O(){if(k!==null){var re=i.unstable_now();x=re;var me=!0;try{me=k(!0,re)}finally{me?C():(Te=!1,k=null)}}else Te=!1}var C;if(typeof ne=="function")C=function(){ne(O)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,xt=tt.port2;tt.port1.onmessage=O,C=function(){xt.postMessage(null)}}else C=function(){U(O,0)};function kt(re){k=re,Te||(Te=!0,C())}function Ue(re,me){I=U(function(){re(i.unstable_now())},me)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(re){re.callback=null},i.unstable_continueExecution=function(){M||D||(M=!0,kt(Ce))},i.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<re?Math.floor(1e3/re):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(re){switch(A){case 1:case 2:case 3:var me=3;break;default:me=A}var se=A;A=me;try{return re()}finally{A=se}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(re,me){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var se=A;A=re;try{return me()}finally{A=se}},i.unstable_scheduleCallback=function(re,me,se){var L=i.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?L+se:L):se=L,re){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=se+G,re={id:E++,callback:me,priorityLevel:re,startTime:se,expirationTime:G,sortIndex:-1},se>L?(re.sortIndex=se,e(v,re),n(g)===null&&re===n(v)&&($?(q(I),I=-1):$=!0,Ue(fe,se-L))):(re.sortIndex=G,e(g,re),M||D||(M=!0,kt(Ce))),re},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(re){var me=A;return function(){var se=A;A=me;try{return re.apply(this,arguments)}finally{A=se}}}}(yh)),yh}var im;function z_(){return im||(im=1,gh.exports=U_()),gh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm;function B_(){if(sm)return Yt;sm=1;var i=nf(),e=z_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function u(t,r){h(t,r),h(t+"Capture",r)}function h(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},T={};function A(t){return g.call(T,t)?!0:g.call(E,t)?!1:v.test(t)?T[t]=!0:(E[t]=!0,!1)}function D(t,r,o,c){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function M(t,r,o,c){if(r===null||typeof r>"u"||D(t,r,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function $(t,r,o,c,f,p,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=_}var U={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){U[t]=new $(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];U[r]=new $(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){U[t]=new $(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){U[t]=new $(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){U[t]=new $(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){U[t]=new $(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){U[t]=new $(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){U[t]=new $(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){U[t]=new $(t,5,!1,t.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function ne(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(q,ne);U[r]=new $(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(q,ne);U[r]=new $(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(q,ne);U[r]=new $(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){U[t]=new $(t,1,!1,t.toLowerCase(),null,!1,!1)}),U.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){U[t]=new $(t,1,!1,t.toLowerCase(),null,!0,!0)});function Z(t,r,o,c){var f=U.hasOwnProperty(r)?U[r]:null;(f!==null?f.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(M(r,o,f,c)&&(o=null),c||f===null?A(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):f.mustUseProperty?t[f.propertyName]=o===null?f.type===3?!1:"":o:(r=f.attributeName,c=f.attributeNamespace,o===null?t.removeAttribute(r):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,c?t.setAttributeNS(c,r,o):t.setAttribute(r,o))))}var fe=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ce=Symbol.for("react.element"),Te=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),V=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),xt=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),Ue=Symbol.for("react.offscreen"),re=Symbol.iterator;function me(t){return t===null||typeof t!="object"?null:(t=re&&t[re]||t["@@iterator"],typeof t=="function"?t:null)}var se=Object.assign,L;function G(t){if(L===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);L=r&&r[1]||""}return`
`+L+t}var de=!1;function Ie(t,r){if(!t||de)return"";de=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(z){var c=z}Reflect.construct(t,[],r)}else{try{r.call()}catch(z){c=z}t.call(r.prototype)}else{try{throw Error()}catch(z){c=z}t()}}catch(z){if(z&&c&&typeof z.stack=="string"){for(var f=z.stack.split(`
`),p=c.stack.split(`
`),_=f.length-1,S=p.length-1;1<=_&&0<=S&&f[_]!==p[S];)S--;for(;1<=_&&0<=S;_--,S--)if(f[_]!==p[S]){if(_!==1||S!==1)do if(_--,S--,0>S||f[_]!==p[S]){var P=`
`+f[_].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=_&&0<=S);break}}}finally{de=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?G(t):""}function Ae(t){switch(t.tag){case 5:return G(t.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return t=Ie(t.type,!1),t;case 11:return t=Ie(t.type.render,!1),t;case 1:return t=Ie(t.type,!0),t;default:return""}}function ke(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case Te:return"Portal";case R:return"Profiler";case I:return"StrictMode";case C:return"Suspense";case tt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V:return(t.displayName||"Context")+".Consumer";case x:return(t._context.displayName||"Context")+".Provider";case O:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xt:return r=t.displayName||null,r!==null?r:ke(t.type)||"Memo";case kt:r=t._payload,t=t._init;try{return ke(t(r))}catch{}}return null}function Oe(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(r);case 8:return r===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Fe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Be(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function gt(t){var r=Be(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),c=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){c=""+_,p.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function er(t){t._valueTracker||(t._valueTracker=gt(t))}function Wi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return t&&(c=Be(t)?t.checked?"true":"false":t.value),t=c,t!==o?(r.setValue(t),!0):!1}function Sr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ui(t,r){var o=r.checked;return se({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Qi(t,r){var o=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;o=Fe(r.value!=null?r.value:o),t._wrapperState={initialChecked:c,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function oo(t,r){r=r.checked,r!=null&&Z(t,"checked",r,!1)}function ao(t,r){oo(t,r);var o=Fe(r.value),c=r.type;if(o!=null)c==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Ki(t,r.type,o):r.hasOwnProperty("defaultValue")&&Ki(t,r.type,Fe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function ka(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Ki(t,r,o){(r!=="number"||Sr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var tr=Array.isArray;function nr(t,r,o,c){if(t=t.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=r.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&c&&(t[o].defaultSelected=!0)}else{for(o=""+Fe(o),r=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function lo(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return se({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Gi(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(tr(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Fe(o)}}function Yi(t,r){var o=Fe(r.value),c=Fe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),c!=null&&(t.defaultValue=""+c)}function uo(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function ut(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ct(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?ut(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rr,co=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,c,f){MSApp.execUnsafeLocalFunction(function(){return t(r,o,c,f)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(rr=rr||document.createElement("div"),rr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=rr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Ar(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var ci={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hi=["Webkit","ms","Moz","O"];Object.keys(ci).forEach(function(t){hi.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),ci[r]=ci[t]})});function ho(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||ci.hasOwnProperty(t)&&ci[t]?(""+r).trim():r+"px"}function fo(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var c=o.indexOf("--")===0,f=ho(o,r[o],c);o==="float"&&(o="cssFloat"),c?t.setProperty(o,f):t[o]=f}}var po=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mo(t,r){if(r){if(po[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function go(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fi=null;function Xi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ji=null,ln=null,Ln=null;function Zi(t){if(t=Uo(t)){if(typeof Ji!="function")throw Error(n(280));var r=t.stateNode;r&&(r=ol(r),Ji(t.stateNode,t.type,r))}}function Mn(t){ln?Ln?Ln.push(t):Ln=[t]:ln=t}function yo(){if(ln){var t=ln,r=Ln;if(Ln=ln=null,Zi(t),r)for(t=0;t<r.length;t++)Zi(r[t])}}function di(t,r){return t(r)}function vo(){}var ir=!1;function _o(t,r,o){if(ir)return t(r,o);ir=!0;try{return di(t,r,o)}finally{ir=!1,(ln!==null||Ln!==null)&&(vo(),yo())}}function nt(t,r){var o=t.stateNode;if(o===null)return null;var c=ol(o);if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var es=!1;if(m)try{var vn={};Object.defineProperty(vn,"passive",{get:function(){es=!0}}),window.addEventListener("test",vn,vn),window.removeEventListener("test",vn,vn)}catch{es=!1}function pi(t,r,o,c,f,p,_,S,P){var z=Array.prototype.slice.call(arguments,3);try{r.apply(o,z)}catch(X){this.onError(X)}}var mi=!1,ts=null,_n=!1,Eo=null,zu={onError:function(t){mi=!0,ts=t}};function ns(t,r,o,c,f,p,_,S,P){mi=!1,ts=null,pi.apply(zu,arguments)}function Na(t,r,o,c,f,p,_,S,P){if(ns.apply(this,arguments),mi){if(mi){var z=ts;mi=!1,ts=null}else throw Error(n(198));_n||(_n=!0,Eo=z)}}function En(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function gi(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function wn(t){if(En(t)!==t)throw Error(n(188))}function Va(t){var r=t.alternate;if(!r){if(r=En(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,c=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return wn(f),t;if(p===c)return wn(f),r;p=p.sibling}throw Error(n(188))}if(o.return!==c.return)o=f,c=p;else{for(var _=!1,S=f.child;S;){if(S===o){_=!0,o=f,c=p;break}if(S===c){_=!0,c=f,o=p;break}S=S.sibling}if(!_){for(S=p.child;S;){if(S===o){_=!0,o=p,c=f;break}if(S===c){_=!0,c=p,o=f;break}S=S.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==c)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function wo(t){return t=Va(t),t!==null?rs(t):null}function rs(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=rs(t);if(r!==null)return r;t=t.sibling}return null}var is=e.unstable_scheduleCallback,To=e.unstable_cancelCallback,Da=e.unstable_shouldYield,Bu=e.unstable_requestPaint,$e=e.unstable_now,La=e.unstable_getCurrentPriorityLevel,yi=e.unstable_ImmediatePriority,Rr=e.unstable_UserBlockingPriority,un=e.unstable_NormalPriority,Io=e.unstable_LowPriority,Ma=e.unstable_IdlePriority,vi=null,Zt=null;function Oa(t){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(vi,t,void 0,(t.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:ba,So=Math.log,Fa=Math.LN2;function ba(t){return t>>>=0,t===0?32:31-(So(t)/Fa|0)|0}var ss=64,os=4194304;function Cr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _i(t,r){var o=t.pendingLanes;if(o===0)return 0;var c=0,f=t.suspendedLanes,p=t.pingedLanes,_=o&268435455;if(_!==0){var S=_&~f;S!==0?c=Cr(S):(p&=_,p!==0&&(c=Cr(p)))}else _=o&~f,_!==0?c=Cr(_):p!==0&&(c=Cr(p));if(c===0)return 0;if(r!==0&&r!==c&&(r&f)===0&&(f=c&-c,p=r&-r,f>=p||f===16&&(p&4194240)!==0))return r;if((c&4)!==0&&(c|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=c;0<r;)o=31-bt(r),f=1<<o,c|=t[o],r&=~f;return c}function $u(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sr(t,r){for(var o=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,p=t.pendingLanes;0<p;){var _=31-bt(p),S=1<<_,P=f[_];P===-1?((S&o)===0||(S&c)!==0)&&(f[_]=$u(S,r)):P<=r&&(t.expiredLanes|=S),p&=~S}}function en(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ei(){var t=ss;return ss<<=1,(ss&4194240)===0&&(ss=64),t}function Pr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function xr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-bt(r),t[r]=o}function ze(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<o;){var f=31-bt(o),p=1<<f;r[f]=0,c[f]=-1,t[f]=-1,o&=~p}}function kr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var c=31-bt(o),f=1<<c;f&r|t[c]&r&&(t[c]|=r),o&=~f}}var xe=0;function Nr(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var ja,as,Ua,za,Ba,Ao=!1,On=[],Tt=null,Tn=null,In=null,Vr=new Map,cn=new Map,Fn=[],Hu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $a(t,r){switch(t){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":Vr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":cn.delete(r.pointerId)}}function $t(t,r,o,c,f,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},r!==null&&(r=Uo(r),r!==null&&as(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function qu(t,r,o,c,f){switch(r){case"focusin":return Tt=$t(Tt,t,r,o,c,f),!0;case"dragenter":return Tn=$t(Tn,t,r,o,c,f),!0;case"mouseover":return In=$t(In,t,r,o,c,f),!0;case"pointerover":var p=f.pointerId;return Vr.set(p,$t(Vr.get(p)||null,t,r,o,c,f)),!0;case"gotpointercapture":return p=f.pointerId,cn.set(p,$t(cn.get(p)||null,t,r,o,c,f)),!0}return!1}function Ha(t){var r=Ai(t.target);if(r!==null){var o=En(r);if(o!==null){if(r=o.tag,r===13){if(r=gi(o),r!==null){t.blockedOn=r,Ba(t.priority,function(){Ua(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function or(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=ls(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);fi=c,o.target.dispatchEvent(c),fi=null}else return r=Uo(o),r!==null&&as(r),t.blockedOn=o,!1;r.shift()}return!0}function wi(t,r,o){or(t)&&o.delete(r)}function qa(){Ao=!1,Tt!==null&&or(Tt)&&(Tt=null),Tn!==null&&or(Tn)&&(Tn=null),In!==null&&or(In)&&(In=null),Vr.forEach(wi),cn.forEach(wi)}function Sn(t,r){t.blockedOn===r&&(t.blockedOn=null,Ao||(Ao=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qa)))}function An(t){function r(f){return Sn(f,t)}if(0<On.length){Sn(On[0],t);for(var o=1;o<On.length;o++){var c=On[o];c.blockedOn===t&&(c.blockedOn=null)}}for(Tt!==null&&Sn(Tt,t),Tn!==null&&Sn(Tn,t),In!==null&&Sn(In,t),Vr.forEach(r),cn.forEach(r),o=0;o<Fn.length;o++)c=Fn[o],c.blockedOn===t&&(c.blockedOn=null);for(;0<Fn.length&&(o=Fn[0],o.blockedOn===null);)Ha(o),o.blockedOn===null&&Fn.shift()}var ar=fe.ReactCurrentBatchConfig,Dr=!0;function Ke(t,r,o,c){var f=xe,p=ar.transition;ar.transition=null;try{xe=1,Ro(t,r,o,c)}finally{xe=f,ar.transition=p}}function Wu(t,r,o,c){var f=xe,p=ar.transition;ar.transition=null;try{xe=4,Ro(t,r,o,c)}finally{xe=f,ar.transition=p}}function Ro(t,r,o,c){if(Dr){var f=ls(t,r,o,c);if(f===null)rc(t,r,c,Ti,o),$a(t,c);else if(qu(f,t,r,o,c))c.stopPropagation();else if($a(t,c),r&4&&-1<Hu.indexOf(t)){for(;f!==null;){var p=Uo(f);if(p!==null&&ja(p),p=ls(t,r,o,c),p===null&&rc(t,r,c,Ti,o),p===f)break;f=p}f!==null&&c.stopPropagation()}else rc(t,r,c,null,o)}}var Ti=null;function ls(t,r,o,c){if(Ti=null,t=Xi(c),t=Ai(t),t!==null)if(r=En(t),r===null)t=null;else if(o=r.tag,o===13){if(t=gi(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Ti=t,null}function Co(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(La()){case yi:return 1;case Rr:return 4;case un:case Io:return 16;case Ma:return 536870912;default:return 16}default:return 16}}var tn=null,us=null,Ht=null;function Po(){if(Ht)return Ht;var t,r=us,o=r.length,c,f="value"in tn?tn.value:tn.textContent,p=f.length;for(t=0;t<o&&r[t]===f[t];t++);var _=o-t;for(c=1;c<=_&&r[o-c]===f[p-c];c++);return Ht=f.slice(t,1<c?1-c:void 0)}function cs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function bn(){return!0}function xo(){return!1}function It(t){function r(o,c,f,p,_){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(o=t[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?bn:xo,this.isPropagationStopped=xo,this}return se(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=bn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=bn)},persist:function(){},isPersistent:bn}),r}var Rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hs=It(Rn),jn=se({},Rn,{view:0,detail:0}),Qu=It(jn),fs,lr,Lr,Ii=se({},jn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Un,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lr&&(Lr&&t.type==="mousemove"?(fs=t.screenX-Lr.screenX,lr=t.screenY-Lr.screenY):lr=fs=0,Lr=t),fs)},movementY:function(t){return"movementY"in t?t.movementY:lr}}),ds=It(Ii),ko=se({},Ii,{dataTransfer:0}),Wa=It(ko),ps=se({},jn,{relatedTarget:0}),ms=It(ps),Qa=se({},Rn,{animationName:0,elapsedTime:0,pseudoElement:0}),ur=It(Qa),Ka=se({},Rn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ga=It(Ka),Ya=se({},Rn,{data:0}),No=It(Ya),gs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ja(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Xa[t])?!!r[t]:!1}function Un(){return Ja}var l=se({},jn,{key:function(t){if(t.key){var r=gs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=cs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Un,charCode:function(t){return t.type==="keypress"?cs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=It(l),y=se({},Ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=It(y),F=se({},jn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Un}),B=It(F),te=se({},Rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),je=It(te),ht=se({},Ii,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ne=It(ht),yt=[9,13,27,32],st=m&&"CompositionEvent"in window,hn=null;m&&"documentMode"in document&&(hn=document.documentMode);var nn=m&&"TextEvent"in window&&!hn,Si=m&&(!st||hn&&8<hn&&11>=hn),ys=" ",Qf=!1;function Kf(t,r){switch(t){case"keyup":return yt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vs=!1;function Lv(t,r){switch(t){case"compositionend":return Gf(r);case"keypress":return r.which!==32?null:(Qf=!0,ys);case"textInput":return t=r.data,t===ys&&Qf?null:t;default:return null}}function Mv(t,r){if(vs)return t==="compositionend"||!st&&Kf(t,r)?(t=Po(),Ht=us=tn=null,vs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Si&&r.locale!=="ko"?null:r.data;default:return null}}var Ov={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Ov[t.type]:r==="textarea"}function Xf(t,r,o,c){Mn(c),r=rl(r,"onChange"),0<r.length&&(o=new hs("onChange","change",null,o,c),t.push({event:o,listeners:r}))}var Vo=null,Do=null;function Fv(t){md(t,0)}function Za(t){var r=Is(t);if(Wi(r))return t}function bv(t,r){if(t==="change")return r}var Jf=!1;if(m){var Ku;if(m){var Gu="oninput"in document;if(!Gu){var Zf=document.createElement("div");Zf.setAttribute("oninput","return;"),Gu=typeof Zf.oninput=="function"}Ku=Gu}else Ku=!1;Jf=Ku&&(!document.documentMode||9<document.documentMode)}function ed(){Vo&&(Vo.detachEvent("onpropertychange",td),Do=Vo=null)}function td(t){if(t.propertyName==="value"&&Za(Do)){var r=[];Xf(r,Do,t,Xi(t)),_o(Fv,r)}}function jv(t,r,o){t==="focusin"?(ed(),Vo=r,Do=o,Vo.attachEvent("onpropertychange",td)):t==="focusout"&&ed()}function Uv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Za(Do)}function zv(t,r){if(t==="click")return Za(r)}function Bv(t,r){if(t==="input"||t==="change")return Za(r)}function $v(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Cn=typeof Object.is=="function"?Object.is:$v;function Lo(t,r){if(Cn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!g.call(r,f)||!Cn(t[f],r[f]))return!1}return!0}function nd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rd(t,r){var o=nd(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=r&&c>=r)return{node:o,offset:r-t};t=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=nd(o)}}function id(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?id(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function sd(){for(var t=window,r=Sr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Sr(t.document)}return r}function Yu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Hv(t){var r=sd(),o=t.focusedElem,c=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&id(o.ownerDocument.documentElement,o)){if(c!==null&&Yu(o)){if(r=c.start,t=c.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var f=o.textContent.length,p=Math.min(c.start,f);c=c.end===void 0?p:Math.min(c.end,f),!t.extend&&p>c&&(f=c,c=p,p=f),f=rd(o,p);var _=rd(o,c);f&&_&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),t.removeAllRanges(),p>c?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var qv=m&&"documentMode"in document&&11>=document.documentMode,_s=null,Xu=null,Mo=null,Ju=!1;function od(t,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ju||_s==null||_s!==Sr(c)||(c=_s,"selectionStart"in c&&Yu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Mo&&Lo(Mo,c)||(Mo=c,c=rl(Xu,"onSelect"),0<c.length&&(r=new hs("onSelect","select",null,r,o),t.push({event:r,listeners:c}),r.target=_s)))}function el(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var Es={animationend:el("Animation","AnimationEnd"),animationiteration:el("Animation","AnimationIteration"),animationstart:el("Animation","AnimationStart"),transitionend:el("Transition","TransitionEnd")},Zu={},ad={};m&&(ad=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function tl(t){if(Zu[t])return Zu[t];if(!Es[t])return t;var r=Es[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in ad)return Zu[t]=r[o];return t}var ld=tl("animationend"),ud=tl("animationiteration"),cd=tl("animationstart"),hd=tl("transitionend"),fd=new Map,dd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(t,r){fd.set(t,r),u(r,[t])}for(var ec=0;ec<dd.length;ec++){var tc=dd[ec],Wv=tc.toLowerCase(),Qv=tc[0].toUpperCase()+tc.slice(1);Mr(Wv,"on"+Qv)}Mr(ld,"onAnimationEnd"),Mr(ud,"onAnimationIteration"),Mr(cd,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(hd,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oo));function pd(t,r,o){var c=t.type||"unknown-event";t.currentTarget=o,Na(c,r,void 0,t),t.currentTarget=null}function md(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],f=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var _=c.length-1;0<=_;_--){var S=c[_],P=S.instance,z=S.currentTarget;if(S=S.listener,P!==p&&f.isPropagationStopped())break e;pd(f,S,z),p=P}else for(_=0;_<c.length;_++){if(S=c[_],P=S.instance,z=S.currentTarget,S=S.listener,P!==p&&f.isPropagationStopped())break e;pd(f,S,z),p=P}}}if(_n)throw t=Eo,_n=!1,Eo=null,t}function qe(t,r){var o=r[uc];o===void 0&&(o=r[uc]=new Set);var c=t+"__bubble";o.has(c)||(gd(r,t,2,!1),o.add(c))}function nc(t,r,o){var c=0;r&&(c|=4),gd(o,t,c,r)}var nl="_reactListening"+Math.random().toString(36).slice(2);function Fo(t){if(!t[nl]){t[nl]=!0,s.forEach(function(o){o!=="selectionchange"&&(Kv.has(o)||nc(o,!1,t),nc(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[nl]||(r[nl]=!0,nc("selectionchange",!1,r))}}function gd(t,r,o,c){switch(Co(r)){case 1:var f=Ke;break;case 4:f=Wu;break;default:f=Ro}o=f.bind(null,r,o,t),f=void 0,!es||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(r,o,{capture:!0,passive:f}):t.addEventListener(r,o,!0):f!==void 0?t.addEventListener(r,o,{passive:f}):t.addEventListener(r,o,!1)}function rc(t,r,o,c,f){var p=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var S=c.stateNode.containerInfo;if(S===f||S.nodeType===8&&S.parentNode===f)break;if(_===4)for(_=c.return;_!==null;){var P=_.tag;if((P===3||P===4)&&(P=_.stateNode.containerInfo,P===f||P.nodeType===8&&P.parentNode===f))return;_=_.return}for(;S!==null;){if(_=Ai(S),_===null)return;if(P=_.tag,P===5||P===6){c=p=_;continue e}S=S.parentNode}}c=c.return}_o(function(){var z=p,X=Xi(o),J=[];e:{var Y=fd.get(t);if(Y!==void 0){var ie=hs,ue=t;switch(t){case"keypress":if(cs(o)===0)break e;case"keydown":case"keyup":ie=d;break;case"focusin":ue="focus",ie=ms;break;case"focusout":ue="blur",ie=ms;break;case"beforeblur":case"afterblur":ie=ms;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=ds;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Wa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=B;break;case ld:case ud:case cd:ie=ur;break;case hd:ie=je;break;case"scroll":ie=Qu;break;case"wheel":ie=Ne;break;case"copy":case"cut":case"paste":ie=Ga;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=w}var ce=(r&4)!==0,rt=!ce&&t==="scroll",b=ce?Y!==null?Y+"Capture":null:Y;ce=[];for(var N=z,j;N!==null;){j=N;var ee=j.stateNode;if(j.tag===5&&ee!==null&&(j=ee,b!==null&&(ee=nt(N,b),ee!=null&&ce.push(bo(N,ee,j)))),rt)break;N=N.return}0<ce.length&&(Y=new ie(Y,ue,null,o,X),J.push({event:Y,listeners:ce}))}}if((r&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",ie=t==="mouseout"||t==="pointerout",Y&&o!==fi&&(ue=o.relatedTarget||o.fromElement)&&(Ai(ue)||ue[cr]))break e;if((ie||Y)&&(Y=X.window===X?X:(Y=X.ownerDocument)?Y.defaultView||Y.parentWindow:window,ie?(ue=o.relatedTarget||o.toElement,ie=z,ue=ue?Ai(ue):null,ue!==null&&(rt=En(ue),ue!==rt||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(ie=null,ue=z),ie!==ue)){if(ce=ds,ee="onMouseLeave",b="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(ce=w,ee="onPointerLeave",b="onPointerEnter",N="pointer"),rt=ie==null?Y:Is(ie),j=ue==null?Y:Is(ue),Y=new ce(ee,N+"leave",ie,o,X),Y.target=rt,Y.relatedTarget=j,ee=null,Ai(X)===z&&(ce=new ce(b,N+"enter",ue,o,X),ce.target=j,ce.relatedTarget=rt,ee=ce),rt=ee,ie&&ue)t:{for(ce=ie,b=ue,N=0,j=ce;j;j=ws(j))N++;for(j=0,ee=b;ee;ee=ws(ee))j++;for(;0<N-j;)ce=ws(ce),N--;for(;0<j-N;)b=ws(b),j--;for(;N--;){if(ce===b||b!==null&&ce===b.alternate)break t;ce=ws(ce),b=ws(b)}ce=null}else ce=null;ie!==null&&yd(J,Y,ie,ce,!1),ue!==null&&rt!==null&&yd(J,rt,ue,ce,!0)}}e:{if(Y=z?Is(z):window,ie=Y.nodeName&&Y.nodeName.toLowerCase(),ie==="select"||ie==="input"&&Y.type==="file")var he=bv;else if(Yf(Y))if(Jf)he=Bv;else{he=Uv;var ge=jv}else(ie=Y.nodeName)&&ie.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(he=zv);if(he&&(he=he(t,z))){Xf(J,he,o,X);break e}ge&&ge(t,Y,z),t==="focusout"&&(ge=Y._wrapperState)&&ge.controlled&&Y.type==="number"&&Ki(Y,"number",Y.value)}switch(ge=z?Is(z):window,t){case"focusin":(Yf(ge)||ge.contentEditable==="true")&&(_s=ge,Xu=z,Mo=null);break;case"focusout":Mo=Xu=_s=null;break;case"mousedown":Ju=!0;break;case"contextmenu":case"mouseup":case"dragend":Ju=!1,od(J,o,X);break;case"selectionchange":if(qv)break;case"keydown":case"keyup":od(J,o,X)}var ye;if(st)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else vs?Kf(t,o)&&(_e="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(_e="onCompositionStart");_e&&(Si&&o.locale!=="ko"&&(vs||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&vs&&(ye=Po()):(tn=X,us="value"in tn?tn.value:tn.textContent,vs=!0)),ge=rl(z,_e),0<ge.length&&(_e=new No(_e,t,null,o,X),J.push({event:_e,listeners:ge}),ye?_e.data=ye:(ye=Gf(o),ye!==null&&(_e.data=ye)))),(ye=nn?Lv(t,o):Mv(t,o))&&(z=rl(z,"onBeforeInput"),0<z.length&&(X=new No("onBeforeInput","beforeinput",null,o,X),J.push({event:X,listeners:z}),X.data=ye))}md(J,r)})}function bo(t,r,o){return{instance:t,listener:r,currentTarget:o}}function rl(t,r){for(var o=r+"Capture",c=[];t!==null;){var f=t,p=f.stateNode;f.tag===5&&p!==null&&(f=p,p=nt(t,o),p!=null&&c.unshift(bo(t,p,f)),p=nt(t,r),p!=null&&c.push(bo(t,p,f))),t=t.return}return c}function ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yd(t,r,o,c,f){for(var p=r._reactName,_=[];o!==null&&o!==c;){var S=o,P=S.alternate,z=S.stateNode;if(P!==null&&P===c)break;S.tag===5&&z!==null&&(S=z,f?(P=nt(o,p),P!=null&&_.unshift(bo(o,P,S))):f||(P=nt(o,p),P!=null&&_.push(bo(o,P,S)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var Gv=/\r\n?/g,Yv=/\u0000|\uFFFD/g;function vd(t){return(typeof t=="string"?t:""+t).replace(Gv,`
`).replace(Yv,"")}function il(t,r,o){if(r=vd(r),vd(t)!==r&&o)throw Error(n(425))}function sl(){}var ic=null,sc=null;function oc(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ac=typeof setTimeout=="function"?setTimeout:void 0,Xv=typeof clearTimeout=="function"?clearTimeout:void 0,_d=typeof Promise=="function"?Promise:void 0,Jv=typeof queueMicrotask=="function"?queueMicrotask:typeof _d<"u"?function(t){return _d.resolve(null).then(t).catch(Zv)}:ac;function Zv(t){setTimeout(function(){throw t})}function lc(t,r){var o=r,c=0;do{var f=o.nextSibling;if(t.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(c===0){t.removeChild(f),An(r);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=f}while(o);An(r)}function Or(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Ed(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var Ts=Math.random().toString(36).slice(2),zn="__reactFiber$"+Ts,jo="__reactProps$"+Ts,cr="__reactContainer$"+Ts,uc="__reactEvents$"+Ts,e_="__reactListeners$"+Ts,t_="__reactHandles$"+Ts;function Ai(t){var r=t[zn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[cr]||o[zn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Ed(t);t!==null;){if(o=t[zn])return o;t=Ed(t)}return r}t=o,o=t.parentNode}return null}function Uo(t){return t=t[zn]||t[cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Is(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function ol(t){return t[jo]||null}var cc=[],Ss=-1;function Fr(t){return{current:t}}function We(t){0>Ss||(t.current=cc[Ss],cc[Ss]=null,Ss--)}function He(t,r){Ss++,cc[Ss]=t.current,t.current=r}var br={},Nt=Fr(br),qt=Fr(!1),Ri=br;function As(t,r){var o=t.type.contextTypes;if(!o)return br;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var f={},p;for(p in o)f[p]=r[p];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=f),f}function Wt(t){return t=t.childContextTypes,t!=null}function al(){We(qt),We(Nt)}function wd(t,r,o){if(Nt.current!==br)throw Error(n(168));He(Nt,r),He(qt,o)}function Td(t,r,o){var c=t.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var f in c)if(!(f in r))throw Error(n(108,Oe(t)||"Unknown",f));return se({},o,c)}function ll(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||br,Ri=Nt.current,He(Nt,t),He(qt,qt.current),!0}function Id(t,r,o){var c=t.stateNode;if(!c)throw Error(n(169));o?(t=Td(t,r,Ri),c.__reactInternalMemoizedMergedChildContext=t,We(qt),We(Nt),He(Nt,t)):We(qt),He(qt,o)}var hr=null,ul=!1,hc=!1;function Sd(t){hr===null?hr=[t]:hr.push(t)}function n_(t){ul=!0,Sd(t)}function jr(){if(!hc&&hr!==null){hc=!0;var t=0,r=xe;try{var o=hr;for(xe=1;t<o.length;t++){var c=o[t];do c=c(!0);while(c!==null)}hr=null,ul=!1}catch(f){throw hr!==null&&(hr=hr.slice(t+1)),is(yi,jr),f}finally{xe=r,hc=!1}}return null}var Rs=[],Cs=0,cl=null,hl=0,fn=[],dn=0,Ci=null,fr=1,dr="";function Pi(t,r){Rs[Cs++]=hl,Rs[Cs++]=cl,cl=t,hl=r}function Ad(t,r,o){fn[dn++]=fr,fn[dn++]=dr,fn[dn++]=Ci,Ci=t;var c=fr;t=dr;var f=32-bt(c)-1;c&=~(1<<f),o+=1;var p=32-bt(r)+f;if(30<p){var _=f-f%5;p=(c&(1<<_)-1).toString(32),c>>=_,f-=_,fr=1<<32-bt(r)+f|o<<f|c,dr=p+t}else fr=1<<p|o<<f|c,dr=t}function fc(t){t.return!==null&&(Pi(t,1),Ad(t,1,0))}function dc(t){for(;t===cl;)cl=Rs[--Cs],Rs[Cs]=null,hl=Rs[--Cs],Rs[Cs]=null;for(;t===Ci;)Ci=fn[--dn],fn[dn]=null,dr=fn[--dn],fn[dn]=null,fr=fn[--dn],fn[dn]=null}var rn=null,sn=null,Ge=!1,Pn=null;function Rd(t,r){var o=yn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Cd(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,rn=t,sn=Or(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,rn=t,sn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Ci!==null?{id:fr,overflow:dr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=yn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,rn=t,sn=null,!0):!1;default:return!1}}function pc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function mc(t){if(Ge){var r=sn;if(r){var o=r;if(!Cd(t,r)){if(pc(t))throw Error(n(418));r=Or(o.nextSibling);var c=rn;r&&Cd(t,r)?Rd(c,o):(t.flags=t.flags&-4097|2,Ge=!1,rn=t)}}else{if(pc(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ge=!1,rn=t}}}function Pd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rn=t}function fl(t){if(t!==rn)return!1;if(!Ge)return Pd(t),Ge=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!oc(t.type,t.memoizedProps)),r&&(r=sn)){if(pc(t))throw xd(),Error(n(418));for(;r;)Rd(t,r),r=Or(r.nextSibling)}if(Pd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){sn=Or(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}sn=null}}else sn=rn?Or(t.stateNode.nextSibling):null;return!0}function xd(){for(var t=sn;t;)t=Or(t.nextSibling)}function Ps(){sn=rn=null,Ge=!1}function gc(t){Pn===null?Pn=[t]:Pn.push(t)}var r_=fe.ReactCurrentBatchConfig;function zo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var c=o.stateNode}if(!c)throw Error(n(147,t));var f=c,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(_){var S=f.refs;_===null?delete S[p]:S[p]=_},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function dl(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function kd(t){var r=t._init;return r(t._payload)}function Nd(t){function r(b,N){if(t){var j=b.deletions;j===null?(b.deletions=[N],b.flags|=16):j.push(N)}}function o(b,N){if(!t)return null;for(;N!==null;)r(b,N),N=N.sibling;return null}function c(b,N){for(b=new Map;N!==null;)N.key!==null?b.set(N.key,N):b.set(N.index,N),N=N.sibling;return b}function f(b,N){return b=Qr(b,N),b.index=0,b.sibling=null,b}function p(b,N,j){return b.index=j,t?(j=b.alternate,j!==null?(j=j.index,j<N?(b.flags|=2,N):j):(b.flags|=2,N)):(b.flags|=1048576,N)}function _(b){return t&&b.alternate===null&&(b.flags|=2),b}function S(b,N,j,ee){return N===null||N.tag!==6?(N=ah(j,b.mode,ee),N.return=b,N):(N=f(N,j),N.return=b,N)}function P(b,N,j,ee){var he=j.type;return he===k?X(b,N,j.props.children,ee,j.key):N!==null&&(N.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===kt&&kd(he)===N.type)?(ee=f(N,j.props),ee.ref=zo(b,N,j),ee.return=b,ee):(ee=Fl(j.type,j.key,j.props,null,b.mode,ee),ee.ref=zo(b,N,j),ee.return=b,ee)}function z(b,N,j,ee){return N===null||N.tag!==4||N.stateNode.containerInfo!==j.containerInfo||N.stateNode.implementation!==j.implementation?(N=lh(j,b.mode,ee),N.return=b,N):(N=f(N,j.children||[]),N.return=b,N)}function X(b,N,j,ee,he){return N===null||N.tag!==7?(N=Oi(j,b.mode,ee,he),N.return=b,N):(N=f(N,j),N.return=b,N)}function J(b,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return N=ah(""+N,b.mode,j),N.return=b,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ce:return j=Fl(N.type,N.key,N.props,null,b.mode,j),j.ref=zo(b,null,N),j.return=b,j;case Te:return N=lh(N,b.mode,j),N.return=b,N;case kt:var ee=N._init;return J(b,ee(N._payload),j)}if(tr(N)||me(N))return N=Oi(N,b.mode,j,null),N.return=b,N;dl(b,N)}return null}function Y(b,N,j,ee){var he=N!==null?N.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return he!==null?null:S(b,N,""+j,ee);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ce:return j.key===he?P(b,N,j,ee):null;case Te:return j.key===he?z(b,N,j,ee):null;case kt:return he=j._init,Y(b,N,he(j._payload),ee)}if(tr(j)||me(j))return he!==null?null:X(b,N,j,ee,null);dl(b,j)}return null}function ie(b,N,j,ee,he){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return b=b.get(j)||null,S(N,b,""+ee,he);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case Ce:return b=b.get(ee.key===null?j:ee.key)||null,P(N,b,ee,he);case Te:return b=b.get(ee.key===null?j:ee.key)||null,z(N,b,ee,he);case kt:var ge=ee._init;return ie(b,N,j,ge(ee._payload),he)}if(tr(ee)||me(ee))return b=b.get(j)||null,X(N,b,ee,he,null);dl(N,ee)}return null}function ue(b,N,j,ee){for(var he=null,ge=null,ye=N,_e=N=0,Et=null;ye!==null&&_e<j.length;_e++){ye.index>_e?(Et=ye,ye=null):Et=ye.sibling;var Me=Y(b,ye,j[_e],ee);if(Me===null){ye===null&&(ye=Et);break}t&&ye&&Me.alternate===null&&r(b,ye),N=p(Me,N,_e),ge===null?he=Me:ge.sibling=Me,ge=Me,ye=Et}if(_e===j.length)return o(b,ye),Ge&&Pi(b,_e),he;if(ye===null){for(;_e<j.length;_e++)ye=J(b,j[_e],ee),ye!==null&&(N=p(ye,N,_e),ge===null?he=ye:ge.sibling=ye,ge=ye);return Ge&&Pi(b,_e),he}for(ye=c(b,ye);_e<j.length;_e++)Et=ie(ye,b,_e,j[_e],ee),Et!==null&&(t&&Et.alternate!==null&&ye.delete(Et.key===null?_e:Et.key),N=p(Et,N,_e),ge===null?he=Et:ge.sibling=Et,ge=Et);return t&&ye.forEach(function(Kr){return r(b,Kr)}),Ge&&Pi(b,_e),he}function ce(b,N,j,ee){var he=me(j);if(typeof he!="function")throw Error(n(150));if(j=he.call(j),j==null)throw Error(n(151));for(var ge=he=null,ye=N,_e=N=0,Et=null,Me=j.next();ye!==null&&!Me.done;_e++,Me=j.next()){ye.index>_e?(Et=ye,ye=null):Et=ye.sibling;var Kr=Y(b,ye,Me.value,ee);if(Kr===null){ye===null&&(ye=Et);break}t&&ye&&Kr.alternate===null&&r(b,ye),N=p(Kr,N,_e),ge===null?he=Kr:ge.sibling=Kr,ge=Kr,ye=Et}if(Me.done)return o(b,ye),Ge&&Pi(b,_e),he;if(ye===null){for(;!Me.done;_e++,Me=j.next())Me=J(b,Me.value,ee),Me!==null&&(N=p(Me,N,_e),ge===null?he=Me:ge.sibling=Me,ge=Me);return Ge&&Pi(b,_e),he}for(ye=c(b,ye);!Me.done;_e++,Me=j.next())Me=ie(ye,b,_e,Me.value,ee),Me!==null&&(t&&Me.alternate!==null&&ye.delete(Me.key===null?_e:Me.key),N=p(Me,N,_e),ge===null?he=Me:ge.sibling=Me,ge=Me);return t&&ye.forEach(function(O_){return r(b,O_)}),Ge&&Pi(b,_e),he}function rt(b,N,j,ee){if(typeof j=="object"&&j!==null&&j.type===k&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Ce:e:{for(var he=j.key,ge=N;ge!==null;){if(ge.key===he){if(he=j.type,he===k){if(ge.tag===7){o(b,ge.sibling),N=f(ge,j.props.children),N.return=b,b=N;break e}}else if(ge.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===kt&&kd(he)===ge.type){o(b,ge.sibling),N=f(ge,j.props),N.ref=zo(b,ge,j),N.return=b,b=N;break e}o(b,ge);break}else r(b,ge);ge=ge.sibling}j.type===k?(N=Oi(j.props.children,b.mode,ee,j.key),N.return=b,b=N):(ee=Fl(j.type,j.key,j.props,null,b.mode,ee),ee.ref=zo(b,N,j),ee.return=b,b=ee)}return _(b);case Te:e:{for(ge=j.key;N!==null;){if(N.key===ge)if(N.tag===4&&N.stateNode.containerInfo===j.containerInfo&&N.stateNode.implementation===j.implementation){o(b,N.sibling),N=f(N,j.children||[]),N.return=b,b=N;break e}else{o(b,N);break}else r(b,N);N=N.sibling}N=lh(j,b.mode,ee),N.return=b,b=N}return _(b);case kt:return ge=j._init,rt(b,N,ge(j._payload),ee)}if(tr(j))return ue(b,N,j,ee);if(me(j))return ce(b,N,j,ee);dl(b,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,N!==null&&N.tag===6?(o(b,N.sibling),N=f(N,j),N.return=b,b=N):(o(b,N),N=ah(j,b.mode,ee),N.return=b,b=N),_(b)):o(b,N)}return rt}var xs=Nd(!0),Vd=Nd(!1),pl=Fr(null),ml=null,ks=null,yc=null;function vc(){yc=ks=ml=null}function _c(t){var r=pl.current;We(pl),t._currentValue=r}function Ec(t,r,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===o)break;t=t.return}}function Ns(t,r){ml=t,yc=ks=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(Qt=!0),t.firstContext=null)}function pn(t){var r=t._currentValue;if(yc!==t)if(t={context:t,memoizedValue:r,next:null},ks===null){if(ml===null)throw Error(n(308));ks=t,ml.dependencies={lanes:0,firstContext:t}}else ks=ks.next=t;return r}var xi=null;function wc(t){xi===null?xi=[t]:xi.push(t)}function Dd(t,r,o,c){var f=r.interleaved;return f===null?(o.next=o,wc(r)):(o.next=f.next,f.next=o),r.interleaved=o,pr(t,c)}function pr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Ur=!1;function Tc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ld(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function zr(t,r,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Le&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,pr(t,o)}return f=c.interleaved,f===null?(r.next=r,wc(c)):(r.next=f.next,f.next=r),c.interleaved=r,pr(t,o)}function gl(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,kr(t,o)}}function Md(t,r){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?f=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,effects:c.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function yl(t,r,o,c){var f=t.updateQueue;Ur=!1;var p=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var P=S,z=P.next;P.next=null,_===null?p=z:_.next=z,_=P;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==_&&(S===null?X.firstBaseUpdate=z:S.next=z,X.lastBaseUpdate=P))}if(p!==null){var J=f.baseState;_=0,X=z=P=null,S=p;do{var Y=S.lane,ie=S.eventTime;if((c&Y)===Y){X!==null&&(X=X.next={eventTime:ie,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ue=t,ce=S;switch(Y=r,ie=o,ce.tag){case 1:if(ue=ce.payload,typeof ue=="function"){J=ue.call(ie,J,Y);break e}J=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ce.payload,Y=typeof ue=="function"?ue.call(ie,J,Y):ue,Y==null)break e;J=se({},J,Y);break e;case 2:Ur=!0}}S.callback!==null&&S.lane!==0&&(t.flags|=64,Y=f.effects,Y===null?f.effects=[S]:Y.push(S))}else ie={eventTime:ie,lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(z=X=ie,P=J):X=X.next=ie,_|=Y;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);if(X===null&&(P=J),f.baseState=P,f.firstBaseUpdate=z,f.lastBaseUpdate=X,r=f.shared.interleaved,r!==null){f=r;do _|=f.lane,f=f.next;while(f!==r)}else p===null&&(f.shared.lanes=0);Vi|=_,t.lanes=_,t.memoizedState=J}}function Od(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var c=t[r],f=c.callback;if(f!==null){if(c.callback=null,c=o,typeof f!="function")throw Error(n(191,f));f.call(c)}}}var Bo={},Bn=Fr(Bo),$o=Fr(Bo),Ho=Fr(Bo);function ki(t){if(t===Bo)throw Error(n(174));return t}function Ic(t,r){switch(He(Ho,r),He($o,t),He(Bn,Bo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ct(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ct(r,t)}We(Bn),He(Bn,r)}function Vs(){We(Bn),We($o),We(Ho)}function Fd(t){ki(Ho.current);var r=ki(Bn.current),o=ct(r,t.type);r!==o&&(He($o,t),He(Bn,o))}function Sc(t){$o.current===t&&(We(Bn),We($o))}var Ye=Fr(0);function vl(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ac=[];function Rc(){for(var t=0;t<Ac.length;t++)Ac[t]._workInProgressVersionPrimary=null;Ac.length=0}var _l=fe.ReactCurrentDispatcher,Cc=fe.ReactCurrentBatchConfig,Ni=0,Xe=null,ft=null,vt=null,El=!1,qo=!1,Wo=0,i_=0;function Vt(){throw Error(n(321))}function Pc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Cn(t[o],r[o]))return!1;return!0}function xc(t,r,o,c,f,p){if(Ni=p,Xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,_l.current=t===null||t.memoizedState===null?l_:u_,t=o(c,f),qo){p=0;do{if(qo=!1,Wo=0,25<=p)throw Error(n(301));p+=1,vt=ft=null,r.updateQueue=null,_l.current=c_,t=o(c,f)}while(qo)}if(_l.current=Il,r=ft!==null&&ft.next!==null,Ni=0,vt=ft=Xe=null,El=!1,r)throw Error(n(300));return t}function kc(){var t=Wo!==0;return Wo=0,t}function $n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Xe.memoizedState=vt=t:vt=vt.next=t,vt}function mn(){if(ft===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var r=vt===null?Xe.memoizedState:vt.next;if(r!==null)vt=r,ft=t;else{if(t===null)throw Error(n(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},vt===null?Xe.memoizedState=vt=t:vt=vt.next=t}return vt}function Qo(t,r){return typeof r=="function"?r(t):r}function Nc(t){var r=mn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=ft,f=c.baseQueue,p=o.pending;if(p!==null){if(f!==null){var _=f.next;f.next=p.next,p.next=_}c.baseQueue=f=p,o.pending=null}if(f!==null){p=f.next,c=c.baseState;var S=_=null,P=null,z=p;do{var X=z.lane;if((Ni&X)===X)P!==null&&(P=P.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),c=z.hasEagerState?z.eagerState:t(c,z.action);else{var J={lane:X,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};P===null?(S=P=J,_=c):P=P.next=J,Xe.lanes|=X,Vi|=X}z=z.next}while(z!==null&&z!==p);P===null?_=c:P.next=S,Cn(c,r.memoizedState)||(Qt=!0),r.memoizedState=c,r.baseState=_,r.baseQueue=P,o.lastRenderedState=c}if(t=o.interleaved,t!==null){f=t;do p=f.lane,Xe.lanes|=p,Vi|=p,f=f.next;while(f!==t)}else f===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Vc(t){var r=mn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do p=t(p,_.action),_=_.next;while(_!==f);Cn(p,r.memoizedState)||(Qt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,c]}function bd(){}function jd(t,r){var o=Xe,c=mn(),f=r(),p=!Cn(c.memoizedState,f);if(p&&(c.memoizedState=f,Qt=!0),c=c.queue,Dc(Bd.bind(null,o,c,t),[t]),c.getSnapshot!==r||p||vt!==null&&vt.memoizedState.tag&1){if(o.flags|=2048,Ko(9,zd.bind(null,o,c,f,r),void 0,null),_t===null)throw Error(n(349));(Ni&30)!==0||Ud(o,r,f)}return f}function Ud(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Xe.updateQueue,r===null?(r={lastEffect:null,stores:null},Xe.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function zd(t,r,o,c){r.value=o,r.getSnapshot=c,$d(r)&&Hd(t)}function Bd(t,r,o){return o(function(){$d(r)&&Hd(t)})}function $d(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Cn(t,o)}catch{return!0}}function Hd(t){var r=pr(t,1);r!==null&&Vn(r,t,1,-1)}function qd(t){var r=$n();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:t},r.queue=t,t=t.dispatch=a_.bind(null,Xe,t),[r.memoizedState,t]}function Ko(t,r,o,c){return t={tag:t,create:r,destroy:o,deps:c,next:null},r=Xe.updateQueue,r===null?(r={lastEffect:null,stores:null},Xe.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,r.lastEffect=t)),t}function Wd(){return mn().memoizedState}function wl(t,r,o,c){var f=$n();Xe.flags|=t,f.memoizedState=Ko(1|r,o,void 0,c===void 0?null:c)}function Tl(t,r,o,c){var f=mn();c=c===void 0?null:c;var p=void 0;if(ft!==null){var _=ft.memoizedState;if(p=_.destroy,c!==null&&Pc(c,_.deps)){f.memoizedState=Ko(r,o,p,c);return}}Xe.flags|=t,f.memoizedState=Ko(1|r,o,p,c)}function Qd(t,r){return wl(8390656,8,t,r)}function Dc(t,r){return Tl(2048,8,t,r)}function Kd(t,r){return Tl(4,2,t,r)}function Gd(t,r){return Tl(4,4,t,r)}function Yd(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Xd(t,r,o){return o=o!=null?o.concat([t]):null,Tl(4,4,Yd.bind(null,r,t),o)}function Lc(){}function Jd(t,r){var o=mn();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&Pc(r,c[1])?c[0]:(o.memoizedState=[t,r],t)}function Zd(t,r){var o=mn();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&Pc(r,c[1])?c[0]:(t=t(),o.memoizedState=[t,r],t)}function ep(t,r,o){return(Ni&21)===0?(t.baseState&&(t.baseState=!1,Qt=!0),t.memoizedState=o):(Cn(o,r)||(o=Ei(),Xe.lanes|=o,Vi|=o,t.baseState=!0),r)}function s_(t,r){var o=xe;xe=o!==0&&4>o?o:4,t(!0);var c=Cc.transition;Cc.transition={};try{t(!1),r()}finally{xe=o,Cc.transition=c}}function tp(){return mn().memoizedState}function o_(t,r,o){var c=qr(t);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},np(t))rp(r,o);else if(o=Dd(t,r,o,c),o!==null){var f=zt();Vn(o,t,c,f),ip(o,r,c)}}function a_(t,r,o){var c=qr(t),f={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(np(t))rp(r,f);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,S=p(_,o);if(f.hasEagerState=!0,f.eagerState=S,Cn(S,_)){var P=r.interleaved;P===null?(f.next=f,wc(r)):(f.next=P.next,P.next=f),r.interleaved=f;return}}catch{}finally{}o=Dd(t,r,f,c),o!==null&&(f=zt(),Vn(o,t,c,f),ip(o,r,c))}}function np(t){var r=t.alternate;return t===Xe||r!==null&&r===Xe}function rp(t,r){qo=El=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function ip(t,r,o){if((o&4194240)!==0){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,kr(t,o)}}var Il={readContext:pn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},l_={readContext:pn,useCallback:function(t,r){return $n().memoizedState=[t,r===void 0?null:r],t},useContext:pn,useEffect:Qd,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,wl(4194308,4,Yd.bind(null,r,t),o)},useLayoutEffect:function(t,r){return wl(4194308,4,t,r)},useInsertionEffect:function(t,r){return wl(4,2,t,r)},useMemo:function(t,r){var o=$n();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var c=$n();return r=o!==void 0?o(r):r,c.memoizedState=c.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},c.queue=t,t=t.dispatch=o_.bind(null,Xe,t),[c.memoizedState,t]},useRef:function(t){var r=$n();return t={current:t},r.memoizedState=t},useState:qd,useDebugValue:Lc,useDeferredValue:function(t){return $n().memoizedState=t},useTransition:function(){var t=qd(!1),r=t[0];return t=s_.bind(null,t[1]),$n().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var c=Xe,f=$n();if(Ge){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),_t===null)throw Error(n(349));(Ni&30)!==0||Ud(c,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,Qd(Bd.bind(null,c,p,t),[t]),c.flags|=2048,Ko(9,zd.bind(null,c,p,o,r),void 0,null),o},useId:function(){var t=$n(),r=_t.identifierPrefix;if(Ge){var o=dr,c=fr;o=(c&~(1<<32-bt(c)-1)).toString(32)+o,r=":"+r+"R"+o,o=Wo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=i_++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},u_={readContext:pn,useCallback:Jd,useContext:pn,useEffect:Dc,useImperativeHandle:Xd,useInsertionEffect:Kd,useLayoutEffect:Gd,useMemo:Zd,useReducer:Nc,useRef:Wd,useState:function(){return Nc(Qo)},useDebugValue:Lc,useDeferredValue:function(t){var r=mn();return ep(r,ft.memoizedState,t)},useTransition:function(){var t=Nc(Qo)[0],r=mn().memoizedState;return[t,r]},useMutableSource:bd,useSyncExternalStore:jd,useId:tp,unstable_isNewReconciler:!1},c_={readContext:pn,useCallback:Jd,useContext:pn,useEffect:Dc,useImperativeHandle:Xd,useInsertionEffect:Kd,useLayoutEffect:Gd,useMemo:Zd,useReducer:Vc,useRef:Wd,useState:function(){return Vc(Qo)},useDebugValue:Lc,useDeferredValue:function(t){var r=mn();return ft===null?r.memoizedState=t:ep(r,ft.memoizedState,t)},useTransition:function(){var t=Vc(Qo)[0],r=mn().memoizedState;return[t,r]},useMutableSource:bd,useSyncExternalStore:jd,useId:tp,unstable_isNewReconciler:!1};function xn(t,r){if(t&&t.defaultProps){r=se({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Mc(t,r,o,c){r=t.memoizedState,o=o(c,r),o=o==null?r:se({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Sl={isMounted:function(t){return(t=t._reactInternals)?En(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var c=zt(),f=qr(t),p=mr(c,f);p.payload=r,o!=null&&(p.callback=o),r=zr(t,p,f),r!==null&&(Vn(r,t,f,c),gl(r,t,f))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var c=zt(),f=qr(t),p=mr(c,f);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=zr(t,p,f),r!==null&&(Vn(r,t,f,c),gl(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=zt(),c=qr(t),f=mr(o,c);f.tag=2,r!=null&&(f.callback=r),r=zr(t,f,c),r!==null&&(Vn(r,t,c,o),gl(r,t,c))}};function sp(t,r,o,c,f,p,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,p,_):r.prototype&&r.prototype.isPureReactComponent?!Lo(o,c)||!Lo(f,p):!0}function op(t,r,o){var c=!1,f=br,p=r.contextType;return typeof p=="object"&&p!==null?p=pn(p):(f=Wt(r)?Ri:Nt.current,c=r.contextTypes,p=(c=c!=null)?As(t,f):br),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Sl,t.stateNode=r,r._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=p),r}function ap(t,r,o,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==t&&Sl.enqueueReplaceState(r,r.state,null)}function Oc(t,r,o,c){var f=t.stateNode;f.props=o,f.state=t.memoizedState,f.refs={},Tc(t);var p=r.contextType;typeof p=="object"&&p!==null?f.context=pn(p):(p=Wt(r)?Ri:Nt.current,f.context=As(t,p)),f.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Mc(t,r,p,o),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&Sl.enqueueReplaceState(f,f.state,null),yl(t,o,f,c),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function Ds(t,r){try{var o="",c=r;do o+=Ae(c),c=c.return;while(c);var f=o}catch(p){f=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:f,digest:null}}function Fc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function bc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var h_=typeof WeakMap=="function"?WeakMap:Map;function lp(t,r,o){o=mr(-1,o),o.tag=3,o.payload={element:null};var c=r.value;return o.callback=function(){Nl||(Nl=!0,Zc=c),bc(t,r)},o}function up(t,r,o){o=mr(-1,o),o.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;o.payload=function(){return c(f)},o.callback=function(){bc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){bc(t,r),typeof c!="function"&&($r===null?$r=new Set([this]):$r.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function cp(t,r,o){var c=t.pingCache;if(c===null){c=t.pingCache=new h_;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(o)||(f.add(o),t=A_.bind(null,t,r,o),r.then(t,t))}function hp(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function fp(t,r,o,c,f){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=mr(-1,1),r.tag=2,zr(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=f,t)}var f_=fe.ReactCurrentOwner,Qt=!1;function Ut(t,r,o,c){r.child=t===null?Vd(r,null,o,c):xs(r,t.child,o,c)}function dp(t,r,o,c,f){o=o.render;var p=r.ref;return Ns(r,f),c=xc(t,r,o,c,p,f),o=kc(),t!==null&&!Qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,gr(t,r,f)):(Ge&&o&&fc(r),r.flags|=1,Ut(t,r,c,f),r.child)}function pp(t,r,o,c,f){if(t===null){var p=o.type;return typeof p=="function"&&!oh(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,mp(t,r,p,c,f)):(t=Fl(o.type,null,c,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,(t.lanes&f)===0){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:Lo,o(_,c)&&t.ref===r.ref)return gr(t,r,f)}return r.flags|=1,t=Qr(p,c),t.ref=r.ref,t.return=r,r.child=t}function mp(t,r,o,c,f){if(t!==null){var p=t.memoizedProps;if(Lo(p,c)&&t.ref===r.ref)if(Qt=!1,r.pendingProps=c=p,(t.lanes&f)!==0)(t.flags&131072)!==0&&(Qt=!0);else return r.lanes=t.lanes,gr(t,r,f)}return jc(t,r,o,c,f)}function gp(t,r,o){var c=r.pendingProps,f=c.children,p=t!==null?t.memoizedState:null;if(c.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Ms,on),on|=o;else{if((o&1073741824)===0)return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,He(Ms,on),on|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:o,He(Ms,on),on|=c}else p!==null?(c=p.baseLanes|o,r.memoizedState=null):c=o,He(Ms,on),on|=c;return Ut(t,r,f,o),r.child}function yp(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function jc(t,r,o,c,f){var p=Wt(o)?Ri:Nt.current;return p=As(r,p),Ns(r,f),o=xc(t,r,o,c,p,f),c=kc(),t!==null&&!Qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,gr(t,r,f)):(Ge&&c&&fc(r),r.flags|=1,Ut(t,r,o,f),r.child)}function vp(t,r,o,c,f){if(Wt(o)){var p=!0;ll(r)}else p=!1;if(Ns(r,f),r.stateNode===null)Rl(t,r),op(r,o,c),Oc(r,o,c,f),c=!0;else if(t===null){var _=r.stateNode,S=r.memoizedProps;_.props=S;var P=_.context,z=o.contextType;typeof z=="object"&&z!==null?z=pn(z):(z=Wt(o)?Ri:Nt.current,z=As(r,z));var X=o.getDerivedStateFromProps,J=typeof X=="function"||typeof _.getSnapshotBeforeUpdate=="function";J||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==c||P!==z)&&ap(r,_,c,z),Ur=!1;var Y=r.memoizedState;_.state=Y,yl(r,c,_,f),P=r.memoizedState,S!==c||Y!==P||qt.current||Ur?(typeof X=="function"&&(Mc(r,o,X,c),P=r.memoizedState),(S=Ur||sp(r,o,S,c,Y,P,z))?(J||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=P),_.props=c,_.state=P,_.context=z,c=S):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{_=r.stateNode,Ld(t,r),S=r.memoizedProps,z=r.type===r.elementType?S:xn(r.type,S),_.props=z,J=r.pendingProps,Y=_.context,P=o.contextType,typeof P=="object"&&P!==null?P=pn(P):(P=Wt(o)?Ri:Nt.current,P=As(r,P));var ie=o.getDerivedStateFromProps;(X=typeof ie=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==J||Y!==P)&&ap(r,_,c,P),Ur=!1,Y=r.memoizedState,_.state=Y,yl(r,c,_,f);var ue=r.memoizedState;S!==J||Y!==ue||qt.current||Ur?(typeof ie=="function"&&(Mc(r,o,ie,c),ue=r.memoizedState),(z=Ur||sp(r,o,z,c,Y,ue,P)||!1)?(X||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ue,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ue,P)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||S===t.memoizedProps&&Y===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&Y===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ue),_.props=c,_.state=ue,_.context=P,c=z):(typeof _.componentDidUpdate!="function"||S===t.memoizedProps&&Y===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&Y===t.memoizedState||(r.flags|=1024),c=!1)}return Uc(t,r,o,c,p,f)}function Uc(t,r,o,c,f,p){yp(t,r);var _=(r.flags&128)!==0;if(!c&&!_)return f&&Id(r,o,!1),gr(t,r,p);c=r.stateNode,f_.current=r;var S=_&&typeof o.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,t!==null&&_?(r.child=xs(r,t.child,null,p),r.child=xs(r,null,S,p)):Ut(t,r,S,p),r.memoizedState=c.state,f&&Id(r,o,!0),r.child}function _p(t){var r=t.stateNode;r.pendingContext?wd(t,r.pendingContext,r.pendingContext!==r.context):r.context&&wd(t,r.context,!1),Ic(t,r.containerInfo)}function Ep(t,r,o,c,f){return Ps(),gc(f),r.flags|=256,Ut(t,r,o,c),r.child}var zc={dehydrated:null,treeContext:null,retryLane:0};function Bc(t){return{baseLanes:t,cachePool:null,transitions:null}}function wp(t,r,o){var c=r.pendingProps,f=Ye.current,p=!1,_=(r.flags&128)!==0,S;if((S=_)||(S=t!==null&&t.memoizedState===null?!1:(f&2)!==0),S?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),He(Ye,f&1),t===null)return mc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(_=c.children,t=c.fallback,p?(c=r.mode,p=r.child,_={mode:"hidden",children:_},(c&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=_):p=bl(_,c,0,null),t=Oi(t,c,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=Bc(o),r.memoizedState=zc,t):$c(r,_));if(f=t.memoizedState,f!==null&&(S=f.dehydrated,S!==null))return d_(t,r,_,c,S,f,o);if(p){p=c.fallback,_=r.mode,f=t.child,S=f.sibling;var P={mode:"hidden",children:c.children};return(_&1)===0&&r.child!==f?(c=r.child,c.childLanes=0,c.pendingProps=P,r.deletions=null):(c=Qr(f,P),c.subtreeFlags=f.subtreeFlags&14680064),S!==null?p=Qr(S,p):(p=Oi(p,_,o,null),p.flags|=2),p.return=r,c.return=r,c.sibling=p,r.child=c,c=p,p=r.child,_=t.child.memoizedState,_=_===null?Bc(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=t.childLanes&~o,r.memoizedState=zc,c}return p=t.child,t=p.sibling,c=Qr(p,{mode:"visible",children:c.children}),(r.mode&1)===0&&(c.lanes=o),c.return=r,c.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=c,r.memoizedState=null,c}function $c(t,r){return r=bl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Al(t,r,o,c){return c!==null&&gc(c),xs(r,t.child,null,o),t=$c(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function d_(t,r,o,c,f,p,_){if(o)return r.flags&256?(r.flags&=-257,c=Fc(Error(n(422))),Al(t,r,_,c)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=c.fallback,f=r.mode,c=bl({mode:"visible",children:c.children},f,0,null),p=Oi(p,f,_,null),p.flags|=2,c.return=r,p.return=r,c.sibling=p,r.child=c,(r.mode&1)!==0&&xs(r,t.child,null,_),r.child.memoizedState=Bc(_),r.memoizedState=zc,p);if((r.mode&1)===0)return Al(t,r,_,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var S=c.dgst;return c=S,p=Error(n(419)),c=Fc(p,c,void 0),Al(t,r,_,c)}if(S=(_&t.childLanes)!==0,Qt||S){if(c=_t,c!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|_))!==0?0:f,f!==0&&f!==p.retryLane&&(p.retryLane=f,pr(t,f),Vn(c,t,f,-1))}return sh(),c=Fc(Error(n(421))),Al(t,r,_,c)}return f.data==="$?"?(r.flags|=128,r.child=t.child,r=R_.bind(null,t),f._reactRetry=r,null):(t=p.treeContext,sn=Or(f.nextSibling),rn=r,Ge=!0,Pn=null,t!==null&&(fn[dn++]=fr,fn[dn++]=dr,fn[dn++]=Ci,fr=t.id,dr=t.overflow,Ci=r),r=$c(r,c.children),r.flags|=4096,r)}function Tp(t,r,o){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),Ec(t.return,r,o)}function Hc(t,r,o,c,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=o,p.tailMode=f)}function Ip(t,r,o){var c=r.pendingProps,f=c.revealOrder,p=c.tail;if(Ut(t,r,c.children,o),c=Ye.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tp(t,o,r);else if(t.tag===19)Tp(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(He(Ye,c),(r.mode&1)===0)r.memoizedState=null;else switch(f){case"forwards":for(o=r.child,f=null;o!==null;)t=o.alternate,t!==null&&vl(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Hc(r,!1,f,o,p);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&vl(t)===null){r.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}Hc(r,!0,o,null,p);break;case"together":Hc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Rl(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function gr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Vi|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Qr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Qr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function p_(t,r,o){switch(r.tag){case 3:_p(r),Ps();break;case 5:Fd(r);break;case 1:Wt(r.type)&&ll(r);break;case 4:Ic(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,f=r.memoizedProps.value;He(pl,c._currentValue),c._currentValue=f;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(He(Ye,Ye.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?wp(t,r,o):(He(Ye,Ye.current&1),t=gr(t,r,o),t!==null?t.sibling:null);He(Ye,Ye.current&1);break;case 19:if(c=(o&r.childLanes)!==0,(t.flags&128)!==0){if(c)return Ip(t,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),He(Ye,Ye.current),c)break;return null;case 22:case 23:return r.lanes=0,gp(t,r,o)}return gr(t,r,o)}var Sp,qc,Ap,Rp;Sp=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},qc=function(){},Ap=function(t,r,o,c){var f=t.memoizedProps;if(f!==c){t=r.stateNode,ki(Bn.current);var p=null;switch(o){case"input":f=ui(t,f),c=ui(t,c),p=[];break;case"select":f=se({},f,{value:void 0}),c=se({},c,{value:void 0}),p=[];break;case"textarea":f=lo(t,f),c=lo(t,c),p=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=sl)}mo(o,c);var _;o=null;for(z in f)if(!c.hasOwnProperty(z)&&f.hasOwnProperty(z)&&f[z]!=null)if(z==="style"){var S=f[z];for(_ in S)S.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(a.hasOwnProperty(z)?p||(p=[]):(p=p||[]).push(z,null));for(z in c){var P=c[z];if(S=f!=null?f[z]:void 0,c.hasOwnProperty(z)&&P!==S&&(P!=null||S!=null))if(z==="style")if(S){for(_ in S)!S.hasOwnProperty(_)||P&&P.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in P)P.hasOwnProperty(_)&&S[_]!==P[_]&&(o||(o={}),o[_]=P[_])}else o||(p||(p=[]),p.push(z,o)),o=P;else z==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,S=S?S.__html:void 0,P!=null&&S!==P&&(p=p||[]).push(z,P)):z==="children"?typeof P!="string"&&typeof P!="number"||(p=p||[]).push(z,""+P):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(a.hasOwnProperty(z)?(P!=null&&z==="onScroll"&&qe("scroll",t),p||S===P||(p=[])):(p=p||[]).push(z,P))}o&&(p=p||[]).push("style",o);var z=p;(r.updateQueue=z)&&(r.flags|=4)}},Rp=function(t,r,o,c){o!==c&&(r.flags|=4)};function Go(t,r){if(!Ge)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Dt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(r)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=o,r}function m_(t,r,o){var c=r.pendingProps;switch(dc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(r),null;case 1:return Wt(r.type)&&al(),Dt(r),null;case 3:return c=r.stateNode,Vs(),We(qt),We(Nt),Rc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(fl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Pn!==null&&(nh(Pn),Pn=null))),qc(t,r),Dt(r),null;case 5:Sc(r);var f=ki(Ho.current);if(o=r.type,t!==null&&r.stateNode!=null)Ap(t,r,o,c,f),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(n(166));return Dt(r),null}if(t=ki(Bn.current),fl(r)){c=r.stateNode,o=r.type;var p=r.memoizedProps;switch(c[zn]=r,c[jo]=p,t=(r.mode&1)!==0,o){case"dialog":qe("cancel",c),qe("close",c);break;case"iframe":case"object":case"embed":qe("load",c);break;case"video":case"audio":for(f=0;f<Oo.length;f++)qe(Oo[f],c);break;case"source":qe("error",c);break;case"img":case"image":case"link":qe("error",c),qe("load",c);break;case"details":qe("toggle",c);break;case"input":Qi(c,p),qe("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},qe("invalid",c);break;case"textarea":Gi(c,p),qe("invalid",c)}mo(o,p),f=null;for(var _ in p)if(p.hasOwnProperty(_)){var S=p[_];_==="children"?typeof S=="string"?c.textContent!==S&&(p.suppressHydrationWarning!==!0&&il(c.textContent,S,t),f=["children",S]):typeof S=="number"&&c.textContent!==""+S&&(p.suppressHydrationWarning!==!0&&il(c.textContent,S,t),f=["children",""+S]):a.hasOwnProperty(_)&&S!=null&&_==="onScroll"&&qe("scroll",c)}switch(o){case"input":er(c),ka(c,p,!0);break;case"textarea":er(c),uo(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=sl)}c=f,r.updateQueue=c,c!==null&&(r.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ut(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=_.createElement(o,{is:c.is}):(t=_.createElement(o),o==="select"&&(_=t,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):t=_.createElementNS(t,o),t[zn]=r,t[jo]=c,Sp(t,r,!1,!1),r.stateNode=t;e:{switch(_=go(o,c),o){case"dialog":qe("cancel",t),qe("close",t),f=c;break;case"iframe":case"object":case"embed":qe("load",t),f=c;break;case"video":case"audio":for(f=0;f<Oo.length;f++)qe(Oo[f],t);f=c;break;case"source":qe("error",t),f=c;break;case"img":case"image":case"link":qe("error",t),qe("load",t),f=c;break;case"details":qe("toggle",t),f=c;break;case"input":Qi(t,c),f=ui(t,c),qe("invalid",t);break;case"option":f=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},f=se({},c,{value:void 0}),qe("invalid",t);break;case"textarea":Gi(t,c),f=lo(t,c),qe("invalid",t);break;default:f=c}mo(o,f),S=f;for(p in S)if(S.hasOwnProperty(p)){var P=S[p];p==="style"?fo(t,P):p==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&co(t,P)):p==="children"?typeof P=="string"?(o!=="textarea"||P!=="")&&Ar(t,P):typeof P=="number"&&Ar(t,""+P):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?P!=null&&p==="onScroll"&&qe("scroll",t):P!=null&&Z(t,p,P,_))}switch(o){case"input":er(t),ka(t,c,!1);break;case"textarea":er(t),uo(t);break;case"option":c.value!=null&&t.setAttribute("value",""+Fe(c.value));break;case"select":t.multiple=!!c.multiple,p=c.value,p!=null?nr(t,!!c.multiple,p,!1):c.defaultValue!=null&&nr(t,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=sl)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Dt(r),null;case 6:if(t&&r.stateNode!=null)Rp(t,r,t.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(n(166));if(o=ki(Ho.current),ki(Bn.current),fl(r)){if(c=r.stateNode,o=r.memoizedProps,c[zn]=r,(p=c.nodeValue!==o)&&(t=rn,t!==null))switch(t.tag){case 3:il(c.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&il(c.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[zn]=r,r.stateNode=c}return Dt(r),null;case 13:if(We(Ye),c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&sn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)xd(),Ps(),r.flags|=98560,p=!1;else if(p=fl(r),c!==null&&c.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[zn]=r}else Ps(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Dt(r),p=!1}else Pn!==null&&(nh(Pn),Pn=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Ye.current&1)!==0?dt===0&&(dt=3):sh())),r.updateQueue!==null&&(r.flags|=4),Dt(r),null);case 4:return Vs(),qc(t,r),t===null&&Fo(r.stateNode.containerInfo),Dt(r),null;case 10:return _c(r.type._context),Dt(r),null;case 17:return Wt(r.type)&&al(),Dt(r),null;case 19:if(We(Ye),p=r.memoizedState,p===null)return Dt(r),null;if(c=(r.flags&128)!==0,_=p.rendering,_===null)if(c)Go(p,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(_=vl(t),_!==null){for(r.flags|=128,Go(p,!1),c=_.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=o,o=r.child;o!==null;)p=o,t=c,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,t=_.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return He(Ye,Ye.current&1|2),r.child}t=t.sibling}p.tail!==null&&$e()>Os&&(r.flags|=128,c=!0,Go(p,!1),r.lanes=4194304)}else{if(!c)if(t=vl(_),t!==null){if(r.flags|=128,c=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Go(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Ge)return Dt(r),null}else 2*$e()-p.renderingStartTime>Os&&o!==1073741824&&(r.flags|=128,c=!0,Go(p,!1),r.lanes=4194304);p.isBackwards?(_.sibling=r.child,r.child=_):(o=p.last,o!==null?o.sibling=_:r.child=_,p.last=_)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=$e(),r.sibling=null,o=Ye.current,He(Ye,c?o&1|2:o&1),r):(Dt(r),null);case 22:case 23:return ih(),c=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(r.flags|=8192),c&&(r.mode&1)!==0?(on&1073741824)!==0&&(Dt(r),r.subtreeFlags&6&&(r.flags|=8192)):Dt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function g_(t,r){switch(dc(r),r.tag){case 1:return Wt(r.type)&&al(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Vs(),We(qt),We(Nt),Rc(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return Sc(r),null;case 13:if(We(Ye),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Ps()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return We(Ye),null;case 4:return Vs(),null;case 10:return _c(r.type._context),null;case 22:case 23:return ih(),null;case 24:return null;default:return null}}var Cl=!1,Lt=!1,y_=typeof WeakSet=="function"?WeakSet:Set,le=null;function Ls(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){et(t,r,c)}else o.current=null}function Wc(t,r,o){try{o()}catch(c){et(t,r,c)}}var Cp=!1;function v_(t,r){if(ic=Dr,t=sd(),Yu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,S=-1,P=-1,z=0,X=0,J=t,Y=null;t:for(;;){for(var ie;J!==o||f!==0&&J.nodeType!==3||(S=_+f),J!==p||c!==0&&J.nodeType!==3||(P=_+c),J.nodeType===3&&(_+=J.nodeValue.length),(ie=J.firstChild)!==null;)Y=J,J=ie;for(;;){if(J===t)break t;if(Y===o&&++z===f&&(S=_),Y===p&&++X===c&&(P=_),(ie=J.nextSibling)!==null)break;J=Y,Y=J.parentNode}J=ie}o=S===-1||P===-1?null:{start:S,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(sc={focusedElem:t,selectionRange:o},Dr=!1,le=r;le!==null;)if(r=le,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,le=t;else for(;le!==null;){r=le;try{var ue=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var ce=ue.memoizedProps,rt=ue.memoizedState,b=r.stateNode,N=b.getSnapshotBeforeUpdate(r.elementType===r.type?ce:xn(r.type,ce),rt);b.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var j=r.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ee){et(r,r.return,ee)}if(t=r.sibling,t!==null){t.return=r.return,le=t;break}le=r.return}return ue=Cp,Cp=!1,ue}function Yo(t,r,o){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&t)===t){var p=f.destroy;f.destroy=void 0,p!==void 0&&Wc(r,o,p)}f=f.next}while(f!==c)}}function Pl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var c=o.create;o.destroy=c()}o=o.next}while(o!==r)}}function Qc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Pp(t){var r=t.alternate;r!==null&&(t.alternate=null,Pp(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[zn],delete r[jo],delete r[uc],delete r[e_],delete r[t_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xp(t){return t.tag===5||t.tag===3||t.tag===4}function kp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kc(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=sl));else if(c!==4&&(t=t.child,t!==null))for(Kc(t,r,o),t=t.sibling;t!==null;)Kc(t,r,o),t=t.sibling}function Gc(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(Gc(t,r,o),t=t.sibling;t!==null;)Gc(t,r,o),t=t.sibling}var St=null,kn=!1;function Br(t,r,o){for(o=o.child;o!==null;)Np(t,r,o),o=o.sibling}function Np(t,r,o){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(vi,o)}catch{}switch(o.tag){case 5:Lt||Ls(o,r);case 6:var c=St,f=kn;St=null,Br(t,r,o),St=c,kn=f,St!==null&&(kn?(t=St,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):St.removeChild(o.stateNode));break;case 18:St!==null&&(kn?(t=St,o=o.stateNode,t.nodeType===8?lc(t.parentNode,o):t.nodeType===1&&lc(t,o),An(t)):lc(St,o.stateNode));break;case 4:c=St,f=kn,St=o.stateNode.containerInfo,kn=!0,Br(t,r,o),St=c,kn=f;break;case 0:case 11:case 14:case 15:if(!Lt&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var p=f,_=p.destroy;p=p.tag,_!==void 0&&((p&2)!==0||(p&4)!==0)&&Wc(o,r,_),f=f.next}while(f!==c)}Br(t,r,o);break;case 1:if(!Lt&&(Ls(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(S){et(o,r,S)}Br(t,r,o);break;case 21:Br(t,r,o);break;case 22:o.mode&1?(Lt=(c=Lt)||o.memoizedState!==null,Br(t,r,o),Lt=c):Br(t,r,o);break;default:Br(t,r,o)}}function Vp(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new y_),r.forEach(function(c){var f=C_.bind(null,t,c);o.has(c)||(o.add(c),c.then(f,f))})}}function Nn(t,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];try{var p=t,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 5:St=S.stateNode,kn=!1;break e;case 3:St=S.stateNode.containerInfo,kn=!0;break e;case 4:St=S.stateNode.containerInfo,kn=!0;break e}S=S.return}if(St===null)throw Error(n(160));Np(p,_,f),St=null,kn=!1;var P=f.alternate;P!==null&&(P.return=null),f.return=null}catch(z){et(f,r,z)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Dp(r,t),r=r.sibling}function Dp(t,r){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nn(r,t),Hn(t),c&4){try{Yo(3,t,t.return),Pl(3,t)}catch(ce){et(t,t.return,ce)}try{Yo(5,t,t.return)}catch(ce){et(t,t.return,ce)}}break;case 1:Nn(r,t),Hn(t),c&512&&o!==null&&Ls(o,o.return);break;case 5:if(Nn(r,t),Hn(t),c&512&&o!==null&&Ls(o,o.return),t.flags&32){var f=t.stateNode;try{Ar(f,"")}catch(ce){et(t,t.return,ce)}}if(c&4&&(f=t.stateNode,f!=null)){var p=t.memoizedProps,_=o!==null?o.memoizedProps:p,S=t.type,P=t.updateQueue;if(t.updateQueue=null,P!==null)try{S==="input"&&p.type==="radio"&&p.name!=null&&oo(f,p),go(S,_);var z=go(S,p);for(_=0;_<P.length;_+=2){var X=P[_],J=P[_+1];X==="style"?fo(f,J):X==="dangerouslySetInnerHTML"?co(f,J):X==="children"?Ar(f,J):Z(f,X,J,z)}switch(S){case"input":ao(f,p);break;case"textarea":Yi(f,p);break;case"select":var Y=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!p.multiple;var ie=p.value;ie!=null?nr(f,!!p.multiple,ie,!1):Y!==!!p.multiple&&(p.defaultValue!=null?nr(f,!!p.multiple,p.defaultValue,!0):nr(f,!!p.multiple,p.multiple?[]:"",!1))}f[jo]=p}catch(ce){et(t,t.return,ce)}}break;case 6:if(Nn(r,t),Hn(t),c&4){if(t.stateNode===null)throw Error(n(162));f=t.stateNode,p=t.memoizedProps;try{f.nodeValue=p}catch(ce){et(t,t.return,ce)}}break;case 3:if(Nn(r,t),Hn(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{An(r.containerInfo)}catch(ce){et(t,t.return,ce)}break;case 4:Nn(r,t),Hn(t);break;case 13:Nn(r,t),Hn(t),f=t.child,f.flags&8192&&(p=f.memoizedState!==null,f.stateNode.isHidden=p,!p||f.alternate!==null&&f.alternate.memoizedState!==null||(Jc=$e())),c&4&&Vp(t);break;case 22:if(X=o!==null&&o.memoizedState!==null,t.mode&1?(Lt=(z=Lt)||X,Nn(r,t),Lt=z):Nn(r,t),Hn(t),c&8192){if(z=t.memoizedState!==null,(t.stateNode.isHidden=z)&&!X&&(t.mode&1)!==0)for(le=t,X=t.child;X!==null;){for(J=le=X;le!==null;){switch(Y=le,ie=Y.child,Y.tag){case 0:case 11:case 14:case 15:Yo(4,Y,Y.return);break;case 1:Ls(Y,Y.return);var ue=Y.stateNode;if(typeof ue.componentWillUnmount=="function"){c=Y,o=Y.return;try{r=c,ue.props=r.memoizedProps,ue.state=r.memoizedState,ue.componentWillUnmount()}catch(ce){et(c,o,ce)}}break;case 5:Ls(Y,Y.return);break;case 22:if(Y.memoizedState!==null){Op(J);continue}}ie!==null?(ie.return=Y,le=ie):Op(J)}X=X.sibling}e:for(X=null,J=t;;){if(J.tag===5){if(X===null){X=J;try{f=J.stateNode,z?(p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(S=J.stateNode,P=J.memoizedProps.style,_=P!=null&&P.hasOwnProperty("display")?P.display:null,S.style.display=ho("display",_))}catch(ce){et(t,t.return,ce)}}}else if(J.tag===6){if(X===null)try{J.stateNode.nodeValue=z?"":J.memoizedProps}catch(ce){et(t,t.return,ce)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===t)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===t)break e;for(;J.sibling===null;){if(J.return===null||J.return===t)break e;X===J&&(X=null),J=J.return}X===J&&(X=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:Nn(r,t),Hn(t),c&4&&Vp(t);break;case 21:break;default:Nn(r,t),Hn(t)}}function Hn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(xp(o)){var c=o;break e}o=o.return}throw Error(n(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Ar(f,""),c.flags&=-33);var p=kp(t);Gc(t,p,f);break;case 3:case 4:var _=c.stateNode.containerInfo,S=kp(t);Kc(t,S,_);break;default:throw Error(n(161))}}catch(P){et(t,t.return,P)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function __(t,r,o){le=t,Lp(t)}function Lp(t,r,o){for(var c=(t.mode&1)!==0;le!==null;){var f=le,p=f.child;if(f.tag===22&&c){var _=f.memoizedState!==null||Cl;if(!_){var S=f.alternate,P=S!==null&&S.memoizedState!==null||Lt;S=Cl;var z=Lt;if(Cl=_,(Lt=P)&&!z)for(le=f;le!==null;)_=le,P=_.child,_.tag===22&&_.memoizedState!==null?Fp(f):P!==null?(P.return=_,le=P):Fp(f);for(;p!==null;)le=p,Lp(p),p=p.sibling;le=f,Cl=S,Lt=z}Mp(t)}else(f.subtreeFlags&8772)!==0&&p!==null?(p.return=f,le=p):Mp(t)}}function Mp(t){for(;le!==null;){var r=le;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Lt||Pl(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!Lt)if(o===null)c.componentDidMount();else{var f=r.elementType===r.type?o.memoizedProps:xn(r.type,o.memoizedProps);c.componentDidUpdate(f,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&Od(r,p,c);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Od(r,_,o)}break;case 5:var S=r.stateNode;if(o===null&&r.flags&4){o=S;var P=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&o.focus();break;case"img":P.src&&(o.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var z=r.alternate;if(z!==null){var X=z.memoizedState;if(X!==null){var J=X.dehydrated;J!==null&&An(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Lt||r.flags&512&&Qc(r)}catch(Y){et(r,r.return,Y)}}if(r===t){le=null;break}if(o=r.sibling,o!==null){o.return=r.return,le=o;break}le=r.return}}function Op(t){for(;le!==null;){var r=le;if(r===t){le=null;break}var o=r.sibling;if(o!==null){o.return=r.return,le=o;break}le=r.return}}function Fp(t){for(;le!==null;){var r=le;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{Pl(4,r)}catch(P){et(r,o,P)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var f=r.return;try{c.componentDidMount()}catch(P){et(r,f,P)}}var p=r.return;try{Qc(r)}catch(P){et(r,p,P)}break;case 5:var _=r.return;try{Qc(r)}catch(P){et(r,_,P)}}}catch(P){et(r,r.return,P)}if(r===t){le=null;break}var S=r.sibling;if(S!==null){S.return=r.return,le=S;break}le=r.return}}var E_=Math.ceil,xl=fe.ReactCurrentDispatcher,Yc=fe.ReactCurrentOwner,gn=fe.ReactCurrentBatchConfig,Le=0,_t=null,ot=null,At=0,on=0,Ms=Fr(0),dt=0,Xo=null,Vi=0,kl=0,Xc=0,Jo=null,Kt=null,Jc=0,Os=1/0,yr=null,Nl=!1,Zc=null,$r=null,Vl=!1,Hr=null,Dl=0,Zo=0,eh=null,Ll=-1,Ml=0;function zt(){return(Le&6)!==0?$e():Ll!==-1?Ll:Ll=$e()}function qr(t){return(t.mode&1)===0?1:(Le&2)!==0&&At!==0?At&-At:r_.transition!==null?(Ml===0&&(Ml=Ei()),Ml):(t=xe,t!==0||(t=window.event,t=t===void 0?16:Co(t.type)),t)}function Vn(t,r,o,c){if(50<Zo)throw Zo=0,eh=null,Error(n(185));xr(t,o,c),((Le&2)===0||t!==_t)&&(t===_t&&((Le&2)===0&&(kl|=o),dt===4&&Wr(t,At)),Gt(t,c),o===1&&Le===0&&(r.mode&1)===0&&(Os=$e()+500,ul&&jr()))}function Gt(t,r){var o=t.callbackNode;sr(t,r);var c=_i(t,t===_t?At:0);if(c===0)o!==null&&To(o),t.callbackNode=null,t.callbackPriority=0;else if(r=c&-c,t.callbackPriority!==r){if(o!=null&&To(o),r===1)t.tag===0?n_(jp.bind(null,t)):Sd(jp.bind(null,t)),Jv(function(){(Le&6)===0&&jr()}),o=null;else{switch(Nr(c)){case 1:o=yi;break;case 4:o=Rr;break;case 16:o=un;break;case 536870912:o=Ma;break;default:o=un}o=Qp(o,bp.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function bp(t,r){if(Ll=-1,Ml=0,(Le&6)!==0)throw Error(n(327));var o=t.callbackNode;if(Fs()&&t.callbackNode!==o)return null;var c=_i(t,t===_t?At:0);if(c===0)return null;if((c&30)!==0||(c&t.expiredLanes)!==0||r)r=Ol(t,c);else{r=c;var f=Le;Le|=2;var p=zp();(_t!==t||At!==r)&&(yr=null,Os=$e()+500,Li(t,r));do try{I_();break}catch(S){Up(t,S)}while(!0);vc(),xl.current=p,Le=f,ot!==null?r=0:(_t=null,At=0,r=dt)}if(r!==0){if(r===2&&(f=en(t),f!==0&&(c=f,r=th(t,f))),r===1)throw o=Xo,Li(t,0),Wr(t,c),Gt(t,$e()),o;if(r===6)Wr(t,c);else{if(f=t.current.alternate,(c&30)===0&&!w_(f)&&(r=Ol(t,c),r===2&&(p=en(t),p!==0&&(c=p,r=th(t,p))),r===1))throw o=Xo,Li(t,0),Wr(t,c),Gt(t,$e()),o;switch(t.finishedWork=f,t.finishedLanes=c,r){case 0:case 1:throw Error(n(345));case 2:Mi(t,Kt,yr);break;case 3:if(Wr(t,c),(c&130023424)===c&&(r=Jc+500-$e(),10<r)){if(_i(t,0)!==0)break;if(f=t.suspendedLanes,(f&c)!==c){zt(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=ac(Mi.bind(null,t,Kt,yr),r);break}Mi(t,Kt,yr);break;case 4:if(Wr(t,c),(c&4194240)===c)break;for(r=t.eventTimes,f=-1;0<c;){var _=31-bt(c);p=1<<_,_=r[_],_>f&&(f=_),c&=~p}if(c=f,c=$e()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*E_(c/1960))-c,10<c){t.timeoutHandle=ac(Mi.bind(null,t,Kt,yr),c);break}Mi(t,Kt,yr);break;case 5:Mi(t,Kt,yr);break;default:throw Error(n(329))}}}return Gt(t,$e()),t.callbackNode===o?bp.bind(null,t):null}function th(t,r){var o=Jo;return t.current.memoizedState.isDehydrated&&(Li(t,r).flags|=256),t=Ol(t,r),t!==2&&(r=Kt,Kt=o,r!==null&&nh(r)),t}function nh(t){Kt===null?Kt=t:Kt.push.apply(Kt,t)}function w_(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var f=o[c],p=f.getSnapshot;f=f.value;try{if(!Cn(p(),f))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Wr(t,r){for(r&=~Xc,r&=~kl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-bt(r),c=1<<o;t[o]=-1,r&=~c}}function jp(t){if((Le&6)!==0)throw Error(n(327));Fs();var r=_i(t,0);if((r&1)===0)return Gt(t,$e()),null;var o=Ol(t,r);if(t.tag!==0&&o===2){var c=en(t);c!==0&&(r=c,o=th(t,c))}if(o===1)throw o=Xo,Li(t,0),Wr(t,r),Gt(t,$e()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Mi(t,Kt,yr),Gt(t,$e()),null}function rh(t,r){var o=Le;Le|=1;try{return t(r)}finally{Le=o,Le===0&&(Os=$e()+500,ul&&jr())}}function Di(t){Hr!==null&&Hr.tag===0&&(Le&6)===0&&Fs();var r=Le;Le|=1;var o=gn.transition,c=xe;try{if(gn.transition=null,xe=1,t)return t()}finally{xe=c,gn.transition=o,Le=r,(Le&6)===0&&jr()}}function ih(){on=Ms.current,We(Ms)}function Li(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Xv(o)),ot!==null)for(o=ot.return;o!==null;){var c=o;switch(dc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&al();break;case 3:Vs(),We(qt),We(Nt),Rc();break;case 5:Sc(c);break;case 4:Vs();break;case 13:We(Ye);break;case 19:We(Ye);break;case 10:_c(c.type._context);break;case 22:case 23:ih()}o=o.return}if(_t=t,ot=t=Qr(t.current,null),At=on=r,dt=0,Xo=null,Xc=kl=Vi=0,Kt=Jo=null,xi!==null){for(r=0;r<xi.length;r++)if(o=xi[r],c=o.interleaved,c!==null){o.interleaved=null;var f=c.next,p=o.pending;if(p!==null){var _=p.next;p.next=f,c.next=_}o.pending=c}xi=null}return t}function Up(t,r){do{var o=ot;try{if(vc(),_l.current=Il,El){for(var c=Xe.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}El=!1}if(Ni=0,vt=ft=Xe=null,qo=!1,Wo=0,Yc.current=null,o===null||o.return===null){dt=1,Xo=r,ot=null;break}e:{var p=t,_=o.return,S=o,P=r;if(r=At,S.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var z=P,X=S,J=X.tag;if((X.mode&1)===0&&(J===0||J===11||J===15)){var Y=X.alternate;Y?(X.updateQueue=Y.updateQueue,X.memoizedState=Y.memoizedState,X.lanes=Y.lanes):(X.updateQueue=null,X.memoizedState=null)}var ie=hp(_);if(ie!==null){ie.flags&=-257,fp(ie,_,S,p,r),ie.mode&1&&cp(p,z,r),r=ie,P=z;var ue=r.updateQueue;if(ue===null){var ce=new Set;ce.add(P),r.updateQueue=ce}else ue.add(P);break e}else{if((r&1)===0){cp(p,z,r),sh();break e}P=Error(n(426))}}else if(Ge&&S.mode&1){var rt=hp(_);if(rt!==null){(rt.flags&65536)===0&&(rt.flags|=256),fp(rt,_,S,p,r),gc(Ds(P,S));break e}}p=P=Ds(P,S),dt!==4&&(dt=2),Jo===null?Jo=[p]:Jo.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var b=lp(p,P,r);Md(p,b);break e;case 1:S=P;var N=p.type,j=p.stateNode;if((p.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&($r===null||!$r.has(j)))){p.flags|=65536,r&=-r,p.lanes|=r;var ee=up(p,S,r);Md(p,ee);break e}}p=p.return}while(p!==null)}$p(o)}catch(he){r=he,ot===o&&o!==null&&(ot=o=o.return);continue}break}while(!0)}function zp(){var t=xl.current;return xl.current=Il,t===null?Il:t}function sh(){(dt===0||dt===3||dt===2)&&(dt=4),_t===null||(Vi&268435455)===0&&(kl&268435455)===0||Wr(_t,At)}function Ol(t,r){var o=Le;Le|=2;var c=zp();(_t!==t||At!==r)&&(yr=null,Li(t,r));do try{T_();break}catch(f){Up(t,f)}while(!0);if(vc(),Le=o,xl.current=c,ot!==null)throw Error(n(261));return _t=null,At=0,dt}function T_(){for(;ot!==null;)Bp(ot)}function I_(){for(;ot!==null&&!Da();)Bp(ot)}function Bp(t){var r=Wp(t.alternate,t,on);t.memoizedProps=t.pendingProps,r===null?$p(t):ot=r,Yc.current=null}function $p(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=m_(o,r,on),o!==null){ot=o;return}}else{if(o=g_(o,r),o!==null){o.flags&=32767,ot=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dt=6,ot=null;return}}if(r=r.sibling,r!==null){ot=r;return}ot=r=t}while(r!==null);dt===0&&(dt=5)}function Mi(t,r,o){var c=xe,f=gn.transition;try{gn.transition=null,xe=1,S_(t,r,o,c)}finally{gn.transition=f,xe=c}return null}function S_(t,r,o,c){do Fs();while(Hr!==null);if((Le&6)!==0)throw Error(n(327));o=t.finishedWork;var f=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(ze(t,p),t===_t&&(ot=_t=null,At=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Vl||(Vl=!0,Qp(un,function(){return Fs(),null})),p=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||p){p=gn.transition,gn.transition=null;var _=xe;xe=1;var S=Le;Le|=4,Yc.current=null,v_(t,o),Dp(o,t),Hv(sc),Dr=!!ic,sc=ic=null,t.current=o,__(o),Bu(),Le=S,xe=_,gn.transition=p}else t.current=o;if(Vl&&(Vl=!1,Hr=t,Dl=f),p=t.pendingLanes,p===0&&($r=null),Oa(o.stateNode),Gt(t,$e()),r!==null)for(c=t.onRecoverableError,o=0;o<r.length;o++)f=r[o],c(f.value,{componentStack:f.stack,digest:f.digest});if(Nl)throw Nl=!1,t=Zc,Zc=null,t;return(Dl&1)!==0&&t.tag!==0&&Fs(),p=t.pendingLanes,(p&1)!==0?t===eh?Zo++:(Zo=0,eh=t):Zo=0,jr(),null}function Fs(){if(Hr!==null){var t=Nr(Dl),r=gn.transition,o=xe;try{if(gn.transition=null,xe=16>t?16:t,Hr===null)var c=!1;else{if(t=Hr,Hr=null,Dl=0,(Le&6)!==0)throw Error(n(331));var f=Le;for(Le|=4,le=t.current;le!==null;){var p=le,_=p.child;if((le.flags&16)!==0){var S=p.deletions;if(S!==null){for(var P=0;P<S.length;P++){var z=S[P];for(le=z;le!==null;){var X=le;switch(X.tag){case 0:case 11:case 15:Yo(8,X,p)}var J=X.child;if(J!==null)J.return=X,le=J;else for(;le!==null;){X=le;var Y=X.sibling,ie=X.return;if(Pp(X),X===z){le=null;break}if(Y!==null){Y.return=ie,le=Y;break}le=ie}}}var ue=p.alternate;if(ue!==null){var ce=ue.child;if(ce!==null){ue.child=null;do{var rt=ce.sibling;ce.sibling=null,ce=rt}while(ce!==null)}}le=p}}if((p.subtreeFlags&2064)!==0&&_!==null)_.return=p,le=_;else e:for(;le!==null;){if(p=le,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Yo(9,p,p.return)}var b=p.sibling;if(b!==null){b.return=p.return,le=b;break e}le=p.return}}var N=t.current;for(le=N;le!==null;){_=le;var j=_.child;if((_.subtreeFlags&2064)!==0&&j!==null)j.return=_,le=j;else e:for(_=N;le!==null;){if(S=le,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:Pl(9,S)}}catch(he){et(S,S.return,he)}if(S===_){le=null;break e}var ee=S.sibling;if(ee!==null){ee.return=S.return,le=ee;break e}le=S.return}}if(Le=f,jr(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(vi,t)}catch{}c=!0}return c}finally{xe=o,gn.transition=r}}return!1}function Hp(t,r,o){r=Ds(o,r),r=lp(t,r,1),t=zr(t,r,1),r=zt(),t!==null&&(xr(t,1,r),Gt(t,r))}function et(t,r,o){if(t.tag===3)Hp(t,t,o);else for(;r!==null;){if(r.tag===3){Hp(r,t,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&($r===null||!$r.has(c))){t=Ds(o,t),t=up(r,t,1),r=zr(r,t,1),t=zt(),r!==null&&(xr(r,1,t),Gt(r,t));break}}r=r.return}}function A_(t,r,o){var c=t.pingCache;c!==null&&c.delete(r),r=zt(),t.pingedLanes|=t.suspendedLanes&o,_t===t&&(At&o)===o&&(dt===4||dt===3&&(At&130023424)===At&&500>$e()-Jc?Li(t,0):Xc|=o),Gt(t,r)}function qp(t,r){r===0&&((t.mode&1)===0?r=1:(r=os,os<<=1,(os&130023424)===0&&(os=4194304)));var o=zt();t=pr(t,r),t!==null&&(xr(t,r,o),Gt(t,o))}function R_(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),qp(t,o)}function C_(t,r){var o=0;switch(t.tag){case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(r),qp(t,o)}var Wp;Wp=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||qt.current)Qt=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return Qt=!1,p_(t,r,o);Qt=(t.flags&131072)!==0}else Qt=!1,Ge&&(r.flags&1048576)!==0&&Ad(r,hl,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;Rl(t,r),t=r.pendingProps;var f=As(r,Nt.current);Ns(r,o),f=xc(null,r,c,t,f,o);var p=kc();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Wt(c)?(p=!0,ll(r)):p=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Tc(r),f.updater=Sl,r.stateNode=f,f._reactInternals=r,Oc(r,c,t,o),r=Uc(null,r,c,!0,p,o)):(r.tag=0,Ge&&p&&fc(r),Ut(null,r,f,o),r=r.child),r;case 16:c=r.elementType;e:{switch(Rl(t,r),t=r.pendingProps,f=c._init,c=f(c._payload),r.type=c,f=r.tag=x_(c),t=xn(c,t),f){case 0:r=jc(null,r,c,t,o);break e;case 1:r=vp(null,r,c,t,o);break e;case 11:r=dp(null,r,c,t,o);break e;case 14:r=pp(null,r,c,xn(c.type,t),o);break e}throw Error(n(306,c,""))}return r;case 0:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:xn(c,f),jc(t,r,c,f,o);case 1:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:xn(c,f),vp(t,r,c,f,o);case 3:e:{if(_p(r),t===null)throw Error(n(387));c=r.pendingProps,p=r.memoizedState,f=p.element,Ld(t,r),yl(r,c,null,o);var _=r.memoizedState;if(c=_.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){f=Ds(Error(n(423)),r),r=Ep(t,r,c,o,f);break e}else if(c!==f){f=Ds(Error(n(424)),r),r=Ep(t,r,c,o,f);break e}else for(sn=Or(r.stateNode.containerInfo.firstChild),rn=r,Ge=!0,Pn=null,o=Vd(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ps(),c===f){r=gr(t,r,o);break e}Ut(t,r,c,o)}r=r.child}return r;case 5:return Fd(r),t===null&&mc(r),c=r.type,f=r.pendingProps,p=t!==null?t.memoizedProps:null,_=f.children,oc(c,f)?_=null:p!==null&&oc(c,p)&&(r.flags|=32),yp(t,r),Ut(t,r,_,o),r.child;case 6:return t===null&&mc(r),null;case 13:return wp(t,r,o);case 4:return Ic(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=xs(r,null,c,o):Ut(t,r,c,o),r.child;case 11:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:xn(c,f),dp(t,r,c,f,o);case 7:return Ut(t,r,r.pendingProps,o),r.child;case 8:return Ut(t,r,r.pendingProps.children,o),r.child;case 12:return Ut(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(c=r.type._context,f=r.pendingProps,p=r.memoizedProps,_=f.value,He(pl,c._currentValue),c._currentValue=_,p!==null)if(Cn(p.value,_)){if(p.children===f.children&&!qt.current){r=gr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var S=p.dependencies;if(S!==null){_=p.child;for(var P=S.firstContext;P!==null;){if(P.context===c){if(p.tag===1){P=mr(-1,o&-o),P.tag=2;var z=p.updateQueue;if(z!==null){z=z.shared;var X=z.pending;X===null?P.next=P:(P.next=X.next,X.next=P),z.pending=P}}p.lanes|=o,P=p.alternate,P!==null&&(P.lanes|=o),Ec(p.return,o,r),S.lanes|=o;break}P=P.next}}else if(p.tag===10)_=p.type===r.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(n(341));_.lanes|=o,S=_.alternate,S!==null&&(S.lanes|=o),Ec(_,o,r),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===r){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}Ut(t,r,f.children,o),r=r.child}return r;case 9:return f=r.type,c=r.pendingProps.children,Ns(r,o),f=pn(f),c=c(f),r.flags|=1,Ut(t,r,c,o),r.child;case 14:return c=r.type,f=xn(c,r.pendingProps),f=xn(c.type,f),pp(t,r,c,f,o);case 15:return mp(t,r,r.type,r.pendingProps,o);case 17:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:xn(c,f),Rl(t,r),r.tag=1,Wt(c)?(t=!0,ll(r)):t=!1,Ns(r,o),op(r,c,f),Oc(r,c,f,o),Uc(null,r,c,!0,t,o);case 19:return Ip(t,r,o);case 22:return gp(t,r,o)}throw Error(n(156,r.tag))};function Qp(t,r){return is(t,r)}function P_(t,r,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,r,o,c){return new P_(t,r,o,c)}function oh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function x_(t){if(typeof t=="function")return oh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===O)return 11;if(t===xt)return 14}return 2}function Qr(t,r){var o=t.alternate;return o===null?(o=yn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Fl(t,r,o,c,f,p){var _=2;if(c=t,typeof t=="function")oh(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case k:return Oi(o.children,f,p,r);case I:_=8,f|=8;break;case R:return t=yn(12,o,r,f|2),t.elementType=R,t.lanes=p,t;case C:return t=yn(13,o,r,f),t.elementType=C,t.lanes=p,t;case tt:return t=yn(19,o,r,f),t.elementType=tt,t.lanes=p,t;case Ue:return bl(o,f,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case x:_=10;break e;case V:_=9;break e;case O:_=11;break e;case xt:_=14;break e;case kt:_=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=yn(_,o,r,f),r.elementType=t,r.type=c,r.lanes=p,r}function Oi(t,r,o,c){return t=yn(7,t,c,r),t.lanes=o,t}function bl(t,r,o,c){return t=yn(22,t,c,r),t.elementType=Ue,t.lanes=o,t.stateNode={isHidden:!1},t}function ah(t,r,o){return t=yn(6,t,null,r),t.lanes=o,t}function lh(t,r,o){return r=yn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function k_(t,r,o,c,f){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pr(0),this.expirationTimes=Pr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pr(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function uh(t,r,o,c,f,p,_,S,P){return t=new k_(t,r,o,S,P),r===1?(r=1,p===!0&&(r|=8)):r=0,p=yn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tc(p),t}function N_(t,r,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Te,key:c==null?null:""+c,children:t,containerInfo:r,implementation:o}}function Kp(t){if(!t)return br;t=t._reactInternals;e:{if(En(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Wt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Wt(o))return Td(t,o,r)}return r}function Gp(t,r,o,c,f,p,_,S,P){return t=uh(o,c,!0,t,f,p,_,S,P),t.context=Kp(null),o=t.current,c=zt(),f=qr(o),p=mr(c,f),p.callback=r??null,zr(o,p,f),t.current.lanes=f,xr(t,f,c),Gt(t,c),t}function jl(t,r,o,c){var f=r.current,p=zt(),_=qr(f);return o=Kp(o),r.context===null?r.context=o:r.pendingContext=o,r=mr(p,_),r.payload={element:t},c=c===void 0?null:c,c!==null&&(r.callback=c),t=zr(f,r,_),t!==null&&(Vn(t,f,_,p),gl(t,f,_)),_}function Ul(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function ch(t,r){Yp(t,r),(t=t.alternate)&&Yp(t,r)}function V_(){return null}var Xp=typeof reportError=="function"?reportError:function(t){console.error(t)};function hh(t){this._internalRoot=t}zl.prototype.render=hh.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));jl(t,r,null,null)},zl.prototype.unmount=hh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Di(function(){jl(null,t,null,null)}),r[cr]=null}};function zl(t){this._internalRoot=t}zl.prototype.unstable_scheduleHydration=function(t){if(t){var r=za();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Fn.length&&r!==0&&r<Fn[o].priority;o++);Fn.splice(o,0,t),o===0&&Ha(t)}};function fh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jp(){}function D_(t,r,o,c,f){if(f){if(typeof c=="function"){var p=c;c=function(){var z=Ul(_);p.call(z)}}var _=Gp(r,c,t,0,null,!1,!1,"",Jp);return t._reactRootContainer=_,t[cr]=_.current,Fo(t.nodeType===8?t.parentNode:t),Di(),_}for(;f=t.lastChild;)t.removeChild(f);if(typeof c=="function"){var S=c;c=function(){var z=Ul(P);S.call(z)}}var P=uh(t,0,!1,null,null,!1,!1,"",Jp);return t._reactRootContainer=P,t[cr]=P.current,Fo(t.nodeType===8?t.parentNode:t),Di(function(){jl(r,P,o,c)}),P}function $l(t,r,o,c,f){var p=o._reactRootContainer;if(p){var _=p;if(typeof f=="function"){var S=f;f=function(){var P=Ul(_);S.call(P)}}jl(r,_,t,f)}else _=D_(o,r,t,f,c);return Ul(_)}ja=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Cr(r.pendingLanes);o!==0&&(kr(r,o|1),Gt(r,$e()),(Le&6)===0&&(Os=$e()+500,jr()))}break;case 13:Di(function(){var c=pr(t,1);if(c!==null){var f=zt();Vn(c,t,1,f)}}),ch(t,1)}},as=function(t){if(t.tag===13){var r=pr(t,134217728);if(r!==null){var o=zt();Vn(r,t,134217728,o)}ch(t,134217728)}},Ua=function(t){if(t.tag===13){var r=qr(t),o=pr(t,r);if(o!==null){var c=zt();Vn(o,t,r,c)}ch(t,r)}},za=function(){return xe},Ba=function(t,r){var o=xe;try{return xe=t,r()}finally{xe=o}},Ji=function(t,r,o){switch(r){case"input":if(ao(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==t&&c.form===t.form){var f=ol(c);if(!f)throw Error(n(90));Wi(c),ao(c,f)}}}break;case"textarea":Yi(t,o);break;case"select":r=o.value,r!=null&&nr(t,!!o.multiple,r,!1)}},di=rh,vo=Di;var L_={usingClientEntryPoint:!1,Events:[Uo,Is,ol,Mn,yo,rh]},ea={findFiberByHostInstance:Ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},M_={bundleType:ea.bundleType,version:ea.version,rendererPackageName:ea.rendererPackageName,rendererConfig:ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fe.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wo(t),t===null?null:t.stateNode},findFiberByHostInstance:ea.findFiberByHostInstance||V_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hl.isDisabled&&Hl.supportsFiber)try{vi=Hl.inject(M_),Zt=Hl}catch{}}return Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L_,Yt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fh(r))throw Error(n(200));return N_(t,r,null,o)},Yt.createRoot=function(t,r){if(!fh(t))throw Error(n(299));var o=!1,c="",f=Xp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=uh(t,1,!1,null,null,o,!1,c,f),t[cr]=r.current,Fo(t.nodeType===8?t.parentNode:t),new hh(r)},Yt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=wo(r),t=t===null?null:t.stateNode,t},Yt.flushSync=function(t){return Di(t)},Yt.hydrate=function(t,r,o){if(!Bl(r))throw Error(n(200));return $l(null,t,r,!0,o)},Yt.hydrateRoot=function(t,r,o){if(!fh(t))throw Error(n(405));var c=o!=null&&o.hydratedSources||null,f=!1,p="",_=Xp;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=Gp(r,null,t,1,o??null,f,!1,p,_),t[cr]=r.current,Fo(t),c)for(t=0;t<c.length;t++)o=c[t],f=o._getVersion,f=f(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,f]:r.mutableSourceEagerHydrationData.push(o,f);return new zl(r)},Yt.render=function(t,r,o){if(!Bl(r))throw Error(n(200));return $l(null,t,r,!1,o)},Yt.unmountComponentAtNode=function(t){if(!Bl(t))throw Error(n(40));return t._reactRootContainer?(Di(function(){$l(null,null,t,!1,function(){t._reactRootContainer=null,t[cr]=null})}),!0):!1},Yt.unstable_batchedUpdates=rh,Yt.unstable_renderSubtreeIntoContainer=function(t,r,o,c){if(!Bl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return $l(t,r,o,!1,c)},Yt.version="18.3.1-next-f1338f8080-20240426",Yt}var om;function $_(){if(om)return mh.exports;om=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),mh.exports=B_(),mh.exports}var am;function H_(){if(am)return ql;am=1;var i=$_();return ql.createRoot=i.createRoot,ql.hydrateRoot=i.hydrateRoot,ql}var q_=H_(),na={},lm;function W_(){if(lm)return na;lm=1,Object.defineProperty(na,"__esModule",{value:!0}),na.parse=h,na.serialize=v;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function h(A,D){const M=new u,$=A.length;if($<2)return M;const U=(D==null?void 0:D.decode)||E;let q=0;do{const ne=A.indexOf("=",q);if(ne===-1)break;const Z=A.indexOf(";",q),fe=Z===-1?$:Z;if(ne>fe){q=A.lastIndexOf(";",ne-1)+1;continue}const Ce=m(A,q,ne),Te=g(A,ne,Ce),k=A.slice(Ce,Te);if(M[k]===void 0){let I=m(A,ne+1,fe),R=g(A,fe,I);const x=U(A.slice(I,R));M[k]=x}q=fe+1}while(q<$);return M}function m(A,D,M){do{const $=A.charCodeAt(D);if($!==32&&$!==9)return D}while(++D<M);return M}function g(A,D,M){for(;D>M;){const $=A.charCodeAt(--D);if($!==32&&$!==9)return D+1}return M}function v(A,D,M){const $=(M==null?void 0:M.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const U=$(D);if(!e.test(U))throw new TypeError(`argument val is invalid: ${D}`);let q=A+"="+U;if(!M)return q;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);q+="; Max-Age="+M.maxAge}if(M.domain){if(!n.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);q+="; Domain="+M.domain}if(M.path){if(!s.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);q+="; Path="+M.path}if(M.expires){if(!T(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);q+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(q+="; HttpOnly"),M.secure&&(q+="; Secure"),M.partitioned&&(q+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return q}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function T(A){return a.call(A)==="[object Date]"}return na}W_();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var um="popstate";function Q_(i={}){function e(s,a){let{pathname:u,search:h,hash:m}=s.location;return Ph("",{pathname:u,search:h,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:fa(a)}return G_(e,n,null,i)}function Je(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Gn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function K_(){return Math.random().toString(36).substring(2,10)}function cm(i,e){return{usr:i.state,key:i.key,idx:e}}function Ph(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Js(e):e,state:n,key:e&&e.key||s||K_()}}function fa({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Js(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function G_(i,e,n,s={}){let{window:a=document.defaultView,v5Compat:u=!1}=s,h=a.history,m="POP",g=null,v=E();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function E(){return(h.state||{idx:null}).idx}function T(){m="POP";let U=E(),q=U==null?null:U-v;v=U,g&&g({action:m,location:$.location,delta:q})}function A(U,q){m="PUSH";let ne=Ph($.location,U,q);v=E()+1;let Z=cm(ne,v),fe=$.createHref(ne);try{h.pushState(Z,"",fe)}catch(Ce){if(Ce instanceof DOMException&&Ce.name==="DataCloneError")throw Ce;a.location.assign(fe)}u&&g&&g({action:m,location:$.location,delta:1})}function D(U,q){m="REPLACE";let ne=Ph($.location,U,q);v=E();let Z=cm(ne,v),fe=$.createHref(ne);h.replaceState(Z,"",fe),u&&g&&g({action:m,location:$.location,delta:0})}function M(U){let q=a.location.origin!=="null"?a.location.origin:a.location.href,ne=typeof U=="string"?U:fa(U);return ne=ne.replace(/ $/,"%20"),Je(q,`No window.location.(origin|href) available to create URL for href: ${ne}`),new URL(ne,q)}let $={get action(){return m},get location(){return i(a,h)},listen(U){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(um,T),g=U,()=>{a.removeEventListener(um,T),g=null}},createHref(U){return e(a,U)},createURL:M,encodeLocation(U){let q=M(U);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:A,replace:D,go(U){return h.go(U)}};return $}function Ag(i,e,n="/"){return Y_(i,e,n,!1)}function Y_(i,e,n,s){let a=typeof e=="string"?Js(e):e,u=Er(a.pathname||"/",n);if(u==null)return null;let h=Rg(i);X_(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let v=lE(u);m=oE(h[g],v,s)}return m}function Rg(i,e=[],n=[],s=""){let a=(u,h,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(Je(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let v=vr([s,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Rg(u.children,e,E,v)),!(u.path==null&&!u.index)&&e.push({path:v,score:iE(v,u.index),routesMeta:E})};return i.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))a(u,h);else for(let g of Cg(u.path))a(u,h,g)}),e}function Cg(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return a?[u,""]:[u];let h=Cg(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),a&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function X_(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:sE(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var J_=/^:[\w-]+$/,Z_=3,eE=2,tE=1,nE=10,rE=-2,hm=i=>i==="*";function iE(i,e){let n=i.split("/"),s=n.length;return n.some(hm)&&(s+=rE),e&&(s+=eE),n.filter(a=>!hm(a)).reduce((a,u)=>a+(J_.test(u)?Z_:u===""?tE:nE),s)}function sE(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function oE(i,e,n=!1){let{routesMeta:s}=i,a={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],v=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=ou({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},E),A=g.route;if(!T&&v&&n&&!s[s.length-1].route.index&&(T=ou({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!T)return null;Object.assign(a,T.params),h.push({params:a,pathname:vr([u,T.pathname]),pathnameBase:fE(vr([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=vr([u,T.pathnameBase]))}return h}function ou(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=aE(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let u=a[0],h=u.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:s.reduce((v,{paramName:E,isOptional:T},A)=>{if(E==="*"){let M=m[A]||"";h=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const D=m[A];return T&&!D?v[E]=void 0:v[E]=(D||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:i}}function aE(i,e=!1,n=!0){Gn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function lE(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Er(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function uE(i,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?Js(i):i;return{pathname:n?n.startsWith("/")?n:cE(n,e):e,search:dE(s),hash:pE(a)}}function cE(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function vh(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hE(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Pg(i){let e=hE(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function xg(i,e,n,s=!1){let a;typeof i=="string"?a=Js(i):(a={...i},Je(!a.pathname||!a.pathname.includes("?"),vh("?","pathname","search",a)),Je(!a.pathname||!a.pathname.includes("#"),vh("#","pathname","hash",a)),Je(!a.search||!a.search.includes("#"),vh("#","search","hash",a)));let u=i===""||a.pathname==="",h=u?"/":a.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;a.pathname=A.join("/")}m=T>=0?e[T]:"/"}let g=uE(a,m),v=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(v||E)&&(g.pathname+="/"),g}var vr=i=>i.join("/").replace(/\/\/+/g,"/"),fE=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),dE=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,pE=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function mE(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var kg=["POST","PUT","PATCH","DELETE"];new Set(kg);var gE=["GET",...kg];new Set(gE);var Zs=W.createContext(null);Zs.displayName="DataRouter";var Iu=W.createContext(null);Iu.displayName="DataRouterState";var Ng=W.createContext({isTransitioning:!1});Ng.displayName="ViewTransition";var yE=W.createContext(new Map);yE.displayName="Fetchers";var vE=W.createContext(null);vE.displayName="Await";var Jn=W.createContext(null);Jn.displayName="Navigation";var Ta=W.createContext(null);Ta.displayName="Location";var Zn=W.createContext({outlet:null,matches:[],isDataRoute:!1});Zn.displayName="Route";var rf=W.createContext(null);rf.displayName="RouteError";function _E(i,{relative:e}={}){Je(Ia(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=W.useContext(Jn),{hash:a,pathname:u,search:h}=Sa(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:vr([n,u])),s.createHref({pathname:m,search:h,hash:a})}function Ia(){return W.useContext(Ta)!=null}function Bi(){return Je(Ia(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(Ta).location}var Vg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Dg(i){W.useContext(Jn).static||W.useLayoutEffect(i)}function EE(){let{isDataRoute:i}=W.useContext(Zn);return i?LE():wE()}function wE(){Je(Ia(),"useNavigate() may be used only in the context of a <Router> component.");let i=W.useContext(Zs),{basename:e,navigator:n}=W.useContext(Jn),{matches:s}=W.useContext(Zn),{pathname:a}=Bi(),u=JSON.stringify(Pg(s)),h=W.useRef(!1);return Dg(()=>{h.current=!0}),W.useCallback((g,v={})=>{if(Gn(h.current,Vg),!h.current)return;if(typeof g=="number"){n.go(g);return}let E=xg(g,JSON.parse(u),a,v.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:vr([e,E.pathname])),(v.replace?n.replace:n.push)(E,v.state,v)},[e,n,u,a,i])}W.createContext(null);function TE(){let{matches:i}=W.useContext(Zn),e=i[i.length-1];return e?e.params:{}}function Sa(i,{relative:e}={}){let{matches:n}=W.useContext(Zn),{pathname:s}=Bi(),a=JSON.stringify(Pg(n));return W.useMemo(()=>xg(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function IE(i,e){return Lg(i,e)}function Lg(i,e,n,s){var ne;Je(Ia(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:u}=W.useContext(Jn),{matches:h}=W.useContext(Zn),m=h[h.length-1],g=m?m.params:{},v=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let Z=T&&T.path||"";Mg(v,!T||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let A=Bi(),D;if(e){let Z=typeof e=="string"?Js(e):e;Je(E==="/"||((ne=Z.pathname)==null?void 0:ne.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),D=Z}else D=A;let M=D.pathname||"/",$=M;if(E!=="/"){let Z=E.replace(/^\//,"").split("/");$="/"+M.replace(/^\//,"").split("/").slice(Z.length).join("/")}let U=!u&&n&&n.matches&&n.matches.length>0?n.matches:Ag(i,{pathname:$});Gn(T||U!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Gn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=PE(U&&U.map(Z=>Object.assign({},Z,{params:Object.assign({},g,Z.params),pathname:vr([E,a.encodeLocation?a.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?E:vr([E,a.encodeLocation?a.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),h,n,s);return e&&q?W.createElement(Ta.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},q):q}function SE(){let i=DE(),e=mE(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:u},"ErrorBoundary")," or"," ",W.createElement("code",{style:u},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:a},n):null,h)}var AE=W.createElement(SE,null),RE=class extends W.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?W.createElement(Zn.Provider,{value:this.props.routeContext},W.createElement(rf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CE({routeContext:i,match:e,children:n}){let s=W.useContext(Zs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(Zn.Provider,{value:i},n)}function PE(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let a=i,u=n==null?void 0:n.errors;if(u!=null){let g=a.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);Je(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let h=!1,m=-1;if(n)for(let g=0;g<a.length;g++){let v=a[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:E,errors:T}=n,A=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!T||T[v.route.id]===void 0);if(v.route.lazy||A){h=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}return a.reduceRight((g,v,E)=>{let T,A=!1,D=null,M=null;n&&(T=u&&v.route.id?u[v.route.id]:void 0,D=v.route.errorElement||AE,h&&(m<0&&E===0?(Mg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,M=null):m===E&&(A=!0,M=v.route.hydrateFallbackElement||null)));let $=e.concat(a.slice(0,E+1)),U=()=>{let q;return T?q=D:A?q=M:v.route.Component?q=W.createElement(v.route.Component,null):v.route.element?q=v.route.element:q=g,W.createElement(CE,{match:v,routeContext:{outlet:g,matches:$,isDataRoute:n!=null},children:q})};return n&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?W.createElement(RE,{location:n.location,revalidation:n.revalidation,component:D,error:T,children:U(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):U()},null)}function sf(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xE(i){let e=W.useContext(Zs);return Je(e,sf(i)),e}function kE(i){let e=W.useContext(Iu);return Je(e,sf(i)),e}function NE(i){let e=W.useContext(Zn);return Je(e,sf(i)),e}function of(i){let e=NE(i),n=e.matches[e.matches.length-1];return Je(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function VE(){return of("useRouteId")}function DE(){var s;let i=W.useContext(rf),e=kE("useRouteError"),n=of("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function LE(){let{router:i}=xE("useNavigate"),e=of("useNavigate"),n=W.useRef(!1);return Dg(()=>{n.current=!0}),W.useCallback(async(a,u={})=>{Gn(n.current,Vg),n.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...u}))},[i,e])}var fm={};function Mg(i,e,n){!e&&!fm[i]&&(fm[i]=!0,Gn(!1,n))}W.memo(ME);function ME({routes:i,future:e,state:n}){return Lg(i,void 0,n,e)}function Fi(i){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OE({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:u=!1}){Je(!Ia(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=W.useMemo(()=>({basename:h,navigator:a,static:u,future:{}}),[h,a,u]);typeof n=="string"&&(n=Js(n));let{pathname:g="/",search:v="",hash:E="",state:T=null,key:A="default"}=n,D=W.useMemo(()=>{let M=Er(g,h);return M==null?null:{location:{pathname:M,search:v,hash:E,state:T,key:A},navigationType:s}},[h,g,v,E,T,A,s]);return Gn(D!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${E}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:W.createElement(Jn.Provider,{value:m},W.createElement(Ta.Provider,{children:e,value:D}))}function FE({children:i,location:e}){return IE(xh(i),e)}function xh(i,e=[]){let n=[];return W.Children.forEach(i,(s,a)=>{if(!W.isValidElement(s))return;let u=[...e,a];if(s.type===W.Fragment){n.push.apply(n,xh(s.props.children,u));return}Je(s.type===Fi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=xh(s.props.children,u)),n.push(h)}),n}var Jl="get",Zl="application/x-www-form-urlencoded";function Su(i){return i!=null&&typeof i.tagName=="string"}function bE(i){return Su(i)&&i.tagName.toLowerCase()==="button"}function jE(i){return Su(i)&&i.tagName.toLowerCase()==="form"}function UE(i){return Su(i)&&i.tagName.toLowerCase()==="input"}function zE(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function BE(i,e){return i.button===0&&(!e||e==="_self")&&!zE(i)}var Wl=null;function $E(){if(Wl===null)try{new FormData(document.createElement("form"),0),Wl=!1}catch{Wl=!0}return Wl}var HE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _h(i){return i!=null&&!HE.has(i)?(Gn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zl}"`),null):i}function qE(i,e){let n,s,a,u,h;if(jE(i)){let m=i.getAttribute("action");s=m?Er(m,e):null,n=i.getAttribute("method")||Jl,a=_h(i.getAttribute("enctype"))||Zl,u=new FormData(i)}else if(bE(i)||UE(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?Er(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Jl,a=_h(i.getAttribute("formenctype"))||_h(m.getAttribute("enctype"))||Zl,u=new FormData(m,i),!$E()){let{name:v,type:E,value:T}=i;if(E==="image"){let A=v?`${v}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else v&&u.append(v,T)}}else{if(Su(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Jl,s=null,a=Zl,h=i}return u&&a==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:u,body:h}}function af(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function WE(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QE(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function KE(i,e,n){let s=await Promise.all(i.map(async a=>{let u=e.routes[a.route.id];if(u){let h=await WE(u,n);return h.links?h.links():[]}return[]}));return JE(s.flat(1).filter(QE).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function dm(i,e,n,s,a,u){let h=(g,v)=>n[v]?g.route.id!==n[v].route.id:!0,m=(g,v)=>{var E;return n[v].pathname!==g.pathname||((E=n[v].route.path)==null?void 0:E.endsWith("*"))&&n[v].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,v)=>h(g,v)||m(g,v)):u==="data"?e.filter((g,v)=>{var T;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,v)||m(g,v))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function GE(i,e,{includeHydrateFallback:n}={}){return YE(i.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let u=[a.module];return a.clientActionModule&&(u=u.concat(a.clientActionModule)),a.clientLoaderModule&&(u=u.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(u=u.concat(a.hydrateFallbackModule)),a.imports&&(u=u.concat(a.imports)),u}).flat(1))}function YE(i){return[...new Set(i)]}function XE(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function JE(i,e){let n=new Set;return new Set(e),i.reduce((s,a)=>{let u=JSON.stringify(XE(a));return n.has(u)||(n.add(u),s.push({key:u,link:a})),s},[])}var ZE=new Set([100,101,204,205]);function e0(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&Er(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Og(){let i=W.useContext(Zs);return af(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function t0(){let i=W.useContext(Iu);return af(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var lf=W.createContext(void 0);lf.displayName="FrameworkContext";function Fg(){let i=W.useContext(lf);return af(i,"You must render this element inside a <HydratedRouter> element"),i}function n0(i,e){let n=W.useContext(lf),[s,a]=W.useState(!1),[u,h]=W.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:v,onMouseLeave:E,onTouchStart:T}=e,A=W.useRef(null);W.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let $=q=>{q.forEach(ne=>{h(ne.isIntersecting)})},U=new IntersectionObserver($,{threshold:.5});return A.current&&U.observe(A.current),()=>{U.disconnect()}}},[i]),W.useEffect(()=>{if(s){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[s]);let D=()=>{a(!0)},M=()=>{a(!1),h(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:ra(m,D),onBlur:ra(g,M),onMouseEnter:ra(v,D),onMouseLeave:ra(E,M),onTouchStart:ra(T,D)}]:[!1,A,{}]}function ra(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function r0({page:i,...e}){let{router:n}=Og(),s=W.useMemo(()=>Ag(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?W.createElement(s0,{page:i,matches:s,...e}):null}function i0(i){let{manifest:e,routeModules:n}=Fg(),[s,a]=W.useState([]);return W.useEffect(()=>{let u=!1;return KE(i,e,n).then(h=>{u||a(h)}),()=>{u=!0}},[i,e,n]),s}function s0({page:i,matches:e,...n}){let s=Bi(),{manifest:a,routeModules:u}=Fg(),{basename:h}=Og(),{loaderData:m,matches:g}=t0(),v=W.useMemo(()=>dm(i,e,g,a,s,"data"),[i,e,g,a,s]),E=W.useMemo(()=>dm(i,e,g,a,s,"assets"),[i,e,g,a,s]),T=W.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let M=new Set,$=!1;if(e.forEach(q=>{var Z;let ne=a.routes[q.route.id];!ne||!ne.hasLoader||(!v.some(fe=>fe.route.id===q.route.id)&&q.route.id in m&&((Z=u[q.route.id])!=null&&Z.shouldRevalidate)||ne.hasClientLoader?$=!0:M.add(q.route.id))}),M.size===0)return[];let U=e0(i,h);return $&&M.size>0&&U.searchParams.set("_routes",e.filter(q=>M.has(q.route.id)).map(q=>q.route.id).join(",")),[U.pathname+U.search]},[h,m,s,a,v,e,i,u]),A=W.useMemo(()=>GE(E,a),[E,a]),D=i0(E);return W.createElement(W.Fragment,null,T.map(M=>W.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),A.map(M=>W.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),D.map(({key:M,link:$})=>W.createElement("link",{key:M,...$})))}function o0(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var bg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bg&&(window.__reactRouterVersion="7.5.1")}catch{}function a0({basename:i,children:e,window:n}){let s=W.useRef();s.current==null&&(s.current=Q_({window:n,v5Compat:!0}));let a=s.current,[u,h]=W.useState({action:a.action,location:a.location}),m=W.useCallback(g=>{W.startTransition(()=>h(g))},[h]);return W.useLayoutEffect(()=>a.listen(m),[a,m]),W.createElement(OE,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:a})}var jg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ug=W.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:u,replace:h,state:m,target:g,to:v,preventScrollReset:E,viewTransition:T,...A},D){let{basename:M}=W.useContext(Jn),$=typeof v=="string"&&jg.test(v),U,q=!1;if(typeof v=="string"&&$&&(U=v,bg))try{let R=new URL(window.location.href),x=v.startsWith("//")?new URL(R.protocol+v):new URL(v),V=Er(x.pathname,M);x.origin===R.origin&&V!=null?v=V+x.search+x.hash:q=!0}catch{Gn(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=_E(v,{relative:a}),[Z,fe,Ce]=n0(s,A),Te=h0(v,{replace:h,state:m,target:g,preventScrollReset:E,relative:a,viewTransition:T});function k(R){e&&e(R),R.defaultPrevented||Te(R)}let I=W.createElement("a",{...A,...Ce,href:U||ne,onClick:q||u?e:k,ref:o0(D,fe),target:g,"data-discover":!$&&n==="render"?"true":void 0});return Z&&!$?W.createElement(W.Fragment,null,I,W.createElement(r0,{page:ne})):I});Ug.displayName="Link";var l0=W.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:u,to:h,viewTransition:m,children:g,...v},E){let T=Sa(h,{relative:v.relative}),A=Bi(),D=W.useContext(Iu),{navigator:M,basename:$}=W.useContext(Jn),U=D!=null&&g0(T)&&m===!0,q=M.encodeLocation?M.encodeLocation(T).pathname:T.pathname,ne=A.pathname,Z=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),Z=Z?Z.toLowerCase():null,q=q.toLowerCase()),Z&&$&&(Z=Er(Z,$)||Z);const fe=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let Ce=ne===q||!a&&ne.startsWith(q)&&ne.charAt(fe)==="/",Te=Z!=null&&(Z===q||!a&&Z.startsWith(q)&&Z.charAt(q.length)==="/"),k={isActive:Ce,isPending:Te,isTransitioning:U},I=Ce?e:void 0,R;typeof s=="function"?R=s(k):R=[s,Ce?"active":null,Te?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(k):u;return W.createElement(Ug,{...v,"aria-current":I,className:R,ref:E,style:x,to:h,viewTransition:m},typeof g=="function"?g(k):g)});l0.displayName="NavLink";var u0=W.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:u,method:h=Jl,action:m,onSubmit:g,relative:v,preventScrollReset:E,viewTransition:T,...A},D)=>{let M=p0(),$=m0(m,{relative:v}),U=h.toLowerCase()==="get"?"get":"post",q=typeof m=="string"&&jg.test(m),ne=Z=>{if(g&&g(Z),Z.defaultPrevented)return;Z.preventDefault();let fe=Z.nativeEvent.submitter,Ce=(fe==null?void 0:fe.getAttribute("formmethod"))||h;M(fe||Z.currentTarget,{fetcherKey:e,method:Ce,navigate:n,replace:a,state:u,relative:v,preventScrollReset:E,viewTransition:T})};return W.createElement("form",{ref:D,method:U,action:$,onSubmit:s?g:ne,...A,"data-discover":!q&&i==="render"?"true":void 0})});u0.displayName="Form";function c0(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zg(i){let e=W.useContext(Zs);return Je(e,c0(i)),e}function h0(i,{target:e,replace:n,state:s,preventScrollReset:a,relative:u,viewTransition:h}={}){let m=EE(),g=Bi(),v=Sa(i,{relative:u});return W.useCallback(E=>{if(BE(E,e)){E.preventDefault();let T=n!==void 0?n:fa(g)===fa(v);m(i,{replace:T,state:s,preventScrollReset:a,relative:u,viewTransition:h})}},[g,m,v,n,s,e,i,a,u,h])}var f0=0,d0=()=>`__${String(++f0)}__`;function p0(){let{router:i}=zg("useSubmit"),{basename:e}=W.useContext(Jn),n=VE();return W.useCallback(async(s,a={})=>{let{action:u,method:h,encType:m,formData:g,body:v}=qE(s,e);if(a.navigate===!1){let E=a.fetcherKey||d0();await i.fetch(E,n,a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||m,flushSync:a.flushSync})}else await i.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,n])}function m0(i,{relative:e}={}){let{basename:n}=W.useContext(Jn),s=W.useContext(Zn);Je(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),u={...Sa(i||".",{relative:e})},h=Bi();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:vr([n,u.pathname])),fa(u)}function g0(i,e={}){let n=W.useContext(Ng);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=zg("useViewTransitionState"),a=Sa(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Er(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Er(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ou(a.pathname,h)!=null||ou(a.pathname,u)!=null}new TextEncoder;[...ZE];const y0="Rizem Mahendra",Bg=y0+" | ",v0=()=>(document.title=Bg+"Home Page",H.jsxs(H.Fragment,{children:[H.jsx("section",{id:"hero-section",className:"bg-grey-700 h-[100dvh] w-full"}),H.jsx("section",{id:"project-section",className:"h-[100dvh] w-full bg-violet-700"}),H.jsx("section",{id:"about-section",className:"h-[100dvh] w-full bg-blue-900"}),H.jsx("section",{id:"contact-section",className:"h-[100dvh] w-full bg-green-900"})]})),_0=()=>(document.title=Bg+"About Page",H.jsx(H.Fragment,{children:H.jsx("h1",{className:"text-blue-600",children:"About Page"})})),E0=()=>{};var pm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},w0=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=i[n++];e[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=i[n++],h=i[n++],m=i[n++],g=((a&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Hg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const u=i[a],h=a+1<i.length,m=h?i[a+1]:0,g=a+2<i.length,v=g?i[a+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|v>>6,D=v&63;g||(D=64,h||(A=64)),s.push(n[E],n[T],n[A],n[D])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray($g(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):w0(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const u=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const v=a<i.length?n[i.charAt(a)]:64;++a;const T=a<i.length?n[i.charAt(a)]:64;if(++a,u==null||m==null||v==null||T==null)throw new T0;const A=u<<2|m>>4;if(s.push(A),v!==64){const D=m<<4&240|v>>2;if(s.push(D),T!==64){const M=v<<6&192|T;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class T0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I0=function(i){const e=$g(i);return Hg.encodeByteArray(e,!0)},au=function(i){return I0(i).replace(/\./g,"")},S0=function(i){try{return Hg.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=()=>A0().__FIREBASE_DEFAULTS__,C0=()=>{if(typeof process>"u"||typeof pm>"u")return;const i=pm.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},P0=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&S0(i[1]);return e&&JSON.parse(e)},uf=()=>{try{return E0()||R0()||C0()||P0()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},x0=i=>{var e,n;return(n=(e=uf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},k0=i=>{const e=x0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},qg=()=>{var i;return(i=uf())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[au(JSON.stringify(n)),au(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function L0(){var i;const e=(i=uf())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function M0(){return!L0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O0(){try{return typeof indexedDB=="object"}catch{return!1}}function F0(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var u;e(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="FirebaseError";class eo extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=b0,Object.setPrototypeOf(this,eo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wg.prototype.create)}}class Wg{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,u=this.errors[e],h=u?j0(u,s):"Error",m=`${this.serviceName}: ${h} (${a}).`;return new eo(a,m,s)}}function j0(i,e){return i.replace(U0,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const U0=/\{\$([^}]+)}/g;function lu(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const u=i[a],h=e[a];if(mm(u)&&mm(h)){if(!lu(u,h))return!1}else if(u!==h)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function mm(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(i){return i&&i._delegate?i._delegate:i}class da{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new N0;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($0(e))try{this.getOrInitializeService({instanceIdentifier:bi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(e=bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bi){return this.instances.has(e)}getOptions(e=bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:B0(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=bi){return this.component?this.component.multipleInstances?e:bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B0(i){return i===bi?void 0:i}function $0(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new z0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(De||(De={}));const q0={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},W0=De.INFO,Q0={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},K0=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=Q0[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qg{constructor(e){this.name=e,this._logLevel=W0,this._logHandler=K0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?q0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const G0=(i,e)=>e.some(n=>i instanceof n);let gm,ym;function Y0(){return gm||(gm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X0(){return ym||(ym=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kg=new WeakMap,kh=new WeakMap,Gg=new WeakMap,Eh=new WeakMap,cf=new WeakMap;function J0(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(Yr(i.result)),a()},h=()=>{s(i.error),a()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&Kg.set(n,i)}).catch(()=>{}),cf.set(e,i),e}function Z0(i){if(kh.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),a()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});kh.set(i,e)}let Nh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return kh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Gg.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function ew(i){Nh=i(Nh)}function tw(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(wh(this),e,...n);return Gg.set(s,e.sort?e.sort():[e]),Yr(s)}:X0().includes(i)?function(...e){return i.apply(wh(this),e),Yr(Kg.get(this))}:function(...e){return Yr(i.apply(wh(this),e))}}function nw(i){return typeof i=="function"?tw(i):(i instanceof IDBTransaction&&Z0(i),G0(i,Y0())?new Proxy(i,Nh):i)}function Yr(i){if(i instanceof IDBRequest)return J0(i);if(Eh.has(i))return Eh.get(i);const e=nw(i);return e!==i&&(Eh.set(i,e),cf.set(e,i)),e}const wh=i=>cf.get(i);function rw(i,e,{blocked:n,upgrade:s,blocking:a,terminated:u}={}){const h=indexedDB.open(i,e),m=Yr(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Yr(h.result),g.oldVersion,g.newVersion,Yr(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),a&&g.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const iw=["get","getKey","getAll","getAllKeys","count"],sw=["put","add","delete","clear"],Th=new Map;function vm(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Th.get(e))return Th.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=sw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||iw.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,a?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(m.shift())),(await Promise.all([v[n](...m),a&&g.done]))[0]};return Th.set(e,u),u}ew(i=>({...i,get:(e,n,s)=>vm(e,n)||i.get(e,n,s),has:(e,n)=>!!vm(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function aw(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vh="@firebase/app",_m="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr=new Qg("@firebase/app"),lw="@firebase/app-compat",uw="@firebase/analytics-compat",cw="@firebase/analytics",hw="@firebase/app-check-compat",fw="@firebase/app-check",dw="@firebase/auth",pw="@firebase/auth-compat",mw="@firebase/database",gw="@firebase/data-connect",yw="@firebase/database-compat",vw="@firebase/functions",_w="@firebase/functions-compat",Ew="@firebase/installations",ww="@firebase/installations-compat",Tw="@firebase/messaging",Iw="@firebase/messaging-compat",Sw="@firebase/performance",Aw="@firebase/performance-compat",Rw="@firebase/remote-config",Cw="@firebase/remote-config-compat",Pw="@firebase/storage",xw="@firebase/storage-compat",kw="@firebase/firestore",Nw="@firebase/vertexai",Vw="@firebase/firestore-compat",Dw="firebase",Lw="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh="[DEFAULT]",Mw={[Vh]:"fire-core",[lw]:"fire-core-compat",[cw]:"fire-analytics",[uw]:"fire-analytics-compat",[fw]:"fire-app-check",[hw]:"fire-app-check-compat",[dw]:"fire-auth",[pw]:"fire-auth-compat",[mw]:"fire-rtdb",[gw]:"fire-data-connect",[yw]:"fire-rtdb-compat",[vw]:"fire-fn",[_w]:"fire-fn-compat",[Ew]:"fire-iid",[ww]:"fire-iid-compat",[Tw]:"fire-fcm",[Iw]:"fire-fcm-compat",[Sw]:"fire-perf",[Aw]:"fire-perf-compat",[Rw]:"fire-rc",[Cw]:"fire-rc-compat",[Pw]:"fire-gcs",[xw]:"fire-gcs-compat",[kw]:"fire-fst",[Vw]:"fire-fst-compat",[Nw]:"fire-vertex","fire-js":"fire-js",[Dw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=new Map,Ow=new Map,Lh=new Map;function Em(i,e){try{i.container.addComponent(e)}catch(n){wr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function cu(i){const e=i.name;if(Lh.has(e))return wr.debug(`There were multiple attempts to register component ${e}.`),!1;Lh.set(e,i);for(const n of uu.values())Em(n,i);for(const n of Ow.values())Em(n,i);return!0}function Fw(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function bw(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new Wg("app","Firebase",jw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=Lw;function Yg(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Dh,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw Xr.create("bad-app-name",{appName:String(a)});if(n||(n=qg()),!n)throw Xr.create("no-options");const u=uu.get(a);if(u){if(lu(n,u.options)&&lu(s,u.config))return u;throw Xr.create("duplicate-app",{appName:a})}const h=new H0(a);for(const g of Lh.values())h.addComponent(g);const m=new Uw(n,s,h);return uu.set(a,m),m}function Bw(i=Dh){const e=uu.get(i);if(!e&&i===Dh&&qg())return Yg();if(!e)throw Xr.create("no-app",{appName:i});return e}function Bs(i,e,n){var s;let a=(s=Mw[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${a}" with version "${e}":`];u&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wr.warn(m.join(" "));return}cu(new da(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="firebase-heartbeat-database",Hw=1,pa="firebase-heartbeat-store";let Ih=null;function Xg(){return Ih||(Ih=rw($w,Hw,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(pa)}catch(n){console.warn(n)}}}}).catch(i=>{throw Xr.create("idb-open",{originalErrorMessage:i.message})})),Ih}async function qw(i){try{const n=(await Xg()).transaction(pa),s=await n.objectStore(pa).get(Jg(i));return await n.done,s}catch(e){if(e instanceof eo)wr.warn(e.message);else{const n=Xr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wr.warn(n.message)}}}async function wm(i,e){try{const s=(await Xg()).transaction(pa,"readwrite");await s.objectStore(pa).put(e,Jg(i)),await s.done}catch(n){if(n instanceof eo)wr.warn(n.message);else{const s=Xr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});wr.warn(s.message)}}}function Jg(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=1024,Qw=30;class Kw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Yw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Tm();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats.length>Qw){const h=Xw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){wr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Tm(),{heartbeatsToSend:s,unsentEntries:a}=Gw(this._heartbeatsCache.heartbeats),u=au(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return wr.warn(n),""}}}function Tm(){return new Date().toISOString().substring(0,10)}function Gw(i,e=Ww){const n=[];let s=i.slice();for(const a of i){const u=n.find(h=>h.agent===a.agent);if(u){if(u.dates.push(a.date),Im(n)>e){u.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Im(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Yw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O0()?F0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return wm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return wm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Im(i){return au(JSON.stringify({version:2,heartbeats:i})).length}function Xw(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(i){cu(new da("platform-logger",e=>new ow(e),"PRIVATE")),cu(new da("heartbeat",e=>new Kw(e),"PRIVATE")),Bs(Vh,_m,i),Bs(Vh,_m,"esm2017"),Bs("fire-js","")}Jw("");var Zw="firebase",eT="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bs(Zw,eT,"app");var Sm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jr,Zg;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,I){function R(){}R.prototype=I.prototype,k.D=I.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(x,V,O){for(var C=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)C[tt-2]=arguments[tt];return I.prototype[V].apply(x,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,I,R){R||(R=0);var x=Array(16);if(typeof I=="string")for(var V=0;16>V;++V)x[V]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(V=0;16>V;++V)x[V]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=k.g[0],R=k.g[1],V=k.g[2];var O=k.g[3],C=I+(O^R&(V^O))+x[0]+3614090360&4294967295;I=R+(C<<7&4294967295|C>>>25),C=O+(V^I&(R^V))+x[1]+3905402710&4294967295,O=I+(C<<12&4294967295|C>>>20),C=V+(R^O&(I^R))+x[2]+606105819&4294967295,V=O+(C<<17&4294967295|C>>>15),C=R+(I^V&(O^I))+x[3]+3250441966&4294967295,R=V+(C<<22&4294967295|C>>>10),C=I+(O^R&(V^O))+x[4]+4118548399&4294967295,I=R+(C<<7&4294967295|C>>>25),C=O+(V^I&(R^V))+x[5]+1200080426&4294967295,O=I+(C<<12&4294967295|C>>>20),C=V+(R^O&(I^R))+x[6]+2821735955&4294967295,V=O+(C<<17&4294967295|C>>>15),C=R+(I^V&(O^I))+x[7]+4249261313&4294967295,R=V+(C<<22&4294967295|C>>>10),C=I+(O^R&(V^O))+x[8]+1770035416&4294967295,I=R+(C<<7&4294967295|C>>>25),C=O+(V^I&(R^V))+x[9]+2336552879&4294967295,O=I+(C<<12&4294967295|C>>>20),C=V+(R^O&(I^R))+x[10]+4294925233&4294967295,V=O+(C<<17&4294967295|C>>>15),C=R+(I^V&(O^I))+x[11]+2304563134&4294967295,R=V+(C<<22&4294967295|C>>>10),C=I+(O^R&(V^O))+x[12]+1804603682&4294967295,I=R+(C<<7&4294967295|C>>>25),C=O+(V^I&(R^V))+x[13]+4254626195&4294967295,O=I+(C<<12&4294967295|C>>>20),C=V+(R^O&(I^R))+x[14]+2792965006&4294967295,V=O+(C<<17&4294967295|C>>>15),C=R+(I^V&(O^I))+x[15]+1236535329&4294967295,R=V+(C<<22&4294967295|C>>>10),C=I+(V^O&(R^V))+x[1]+4129170786&4294967295,I=R+(C<<5&4294967295|C>>>27),C=O+(R^V&(I^R))+x[6]+3225465664&4294967295,O=I+(C<<9&4294967295|C>>>23),C=V+(I^R&(O^I))+x[11]+643717713&4294967295,V=O+(C<<14&4294967295|C>>>18),C=R+(O^I&(V^O))+x[0]+3921069994&4294967295,R=V+(C<<20&4294967295|C>>>12),C=I+(V^O&(R^V))+x[5]+3593408605&4294967295,I=R+(C<<5&4294967295|C>>>27),C=O+(R^V&(I^R))+x[10]+38016083&4294967295,O=I+(C<<9&4294967295|C>>>23),C=V+(I^R&(O^I))+x[15]+3634488961&4294967295,V=O+(C<<14&4294967295|C>>>18),C=R+(O^I&(V^O))+x[4]+3889429448&4294967295,R=V+(C<<20&4294967295|C>>>12),C=I+(V^O&(R^V))+x[9]+568446438&4294967295,I=R+(C<<5&4294967295|C>>>27),C=O+(R^V&(I^R))+x[14]+3275163606&4294967295,O=I+(C<<9&4294967295|C>>>23),C=V+(I^R&(O^I))+x[3]+4107603335&4294967295,V=O+(C<<14&4294967295|C>>>18),C=R+(O^I&(V^O))+x[8]+1163531501&4294967295,R=V+(C<<20&4294967295|C>>>12),C=I+(V^O&(R^V))+x[13]+2850285829&4294967295,I=R+(C<<5&4294967295|C>>>27),C=O+(R^V&(I^R))+x[2]+4243563512&4294967295,O=I+(C<<9&4294967295|C>>>23),C=V+(I^R&(O^I))+x[7]+1735328473&4294967295,V=O+(C<<14&4294967295|C>>>18),C=R+(O^I&(V^O))+x[12]+2368359562&4294967295,R=V+(C<<20&4294967295|C>>>12),C=I+(R^V^O)+x[5]+4294588738&4294967295,I=R+(C<<4&4294967295|C>>>28),C=O+(I^R^V)+x[8]+2272392833&4294967295,O=I+(C<<11&4294967295|C>>>21),C=V+(O^I^R)+x[11]+1839030562&4294967295,V=O+(C<<16&4294967295|C>>>16),C=R+(V^O^I)+x[14]+4259657740&4294967295,R=V+(C<<23&4294967295|C>>>9),C=I+(R^V^O)+x[1]+2763975236&4294967295,I=R+(C<<4&4294967295|C>>>28),C=O+(I^R^V)+x[4]+1272893353&4294967295,O=I+(C<<11&4294967295|C>>>21),C=V+(O^I^R)+x[7]+4139469664&4294967295,V=O+(C<<16&4294967295|C>>>16),C=R+(V^O^I)+x[10]+3200236656&4294967295,R=V+(C<<23&4294967295|C>>>9),C=I+(R^V^O)+x[13]+681279174&4294967295,I=R+(C<<4&4294967295|C>>>28),C=O+(I^R^V)+x[0]+3936430074&4294967295,O=I+(C<<11&4294967295|C>>>21),C=V+(O^I^R)+x[3]+3572445317&4294967295,V=O+(C<<16&4294967295|C>>>16),C=R+(V^O^I)+x[6]+76029189&4294967295,R=V+(C<<23&4294967295|C>>>9),C=I+(R^V^O)+x[9]+3654602809&4294967295,I=R+(C<<4&4294967295|C>>>28),C=O+(I^R^V)+x[12]+3873151461&4294967295,O=I+(C<<11&4294967295|C>>>21),C=V+(O^I^R)+x[15]+530742520&4294967295,V=O+(C<<16&4294967295|C>>>16),C=R+(V^O^I)+x[2]+3299628645&4294967295,R=V+(C<<23&4294967295|C>>>9),C=I+(V^(R|~O))+x[0]+4096336452&4294967295,I=R+(C<<6&4294967295|C>>>26),C=O+(R^(I|~V))+x[7]+1126891415&4294967295,O=I+(C<<10&4294967295|C>>>22),C=V+(I^(O|~R))+x[14]+2878612391&4294967295,V=O+(C<<15&4294967295|C>>>17),C=R+(O^(V|~I))+x[5]+4237533241&4294967295,R=V+(C<<21&4294967295|C>>>11),C=I+(V^(R|~O))+x[12]+1700485571&4294967295,I=R+(C<<6&4294967295|C>>>26),C=O+(R^(I|~V))+x[3]+2399980690&4294967295,O=I+(C<<10&4294967295|C>>>22),C=V+(I^(O|~R))+x[10]+4293915773&4294967295,V=O+(C<<15&4294967295|C>>>17),C=R+(O^(V|~I))+x[1]+2240044497&4294967295,R=V+(C<<21&4294967295|C>>>11),C=I+(V^(R|~O))+x[8]+1873313359&4294967295,I=R+(C<<6&4294967295|C>>>26),C=O+(R^(I|~V))+x[15]+4264355552&4294967295,O=I+(C<<10&4294967295|C>>>22),C=V+(I^(O|~R))+x[6]+2734768916&4294967295,V=O+(C<<15&4294967295|C>>>17),C=R+(O^(V|~I))+x[13]+1309151649&4294967295,R=V+(C<<21&4294967295|C>>>11),C=I+(V^(R|~O))+x[4]+4149444226&4294967295,I=R+(C<<6&4294967295|C>>>26),C=O+(R^(I|~V))+x[11]+3174756917&4294967295,O=I+(C<<10&4294967295|C>>>22),C=V+(I^(O|~R))+x[2]+718787259&4294967295,V=O+(C<<15&4294967295|C>>>17),C=R+(O^(V|~I))+x[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+O&4294967295}s.prototype.u=function(k,I){I===void 0&&(I=k.length);for(var R=I-this.blockSize,x=this.B,V=this.h,O=0;O<I;){if(V==0)for(;O<=R;)a(this,k,O),O+=this.blockSize;if(typeof k=="string"){for(;O<I;)if(x[V++]=k.charCodeAt(O++),V==this.blockSize){a(this,x),V=0;break}}else for(;O<I;)if(x[V++]=k[O++],V==this.blockSize){a(this,x),V=0;break}}this.h=V,this.o+=I},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;var R=8*this.o;for(I=k.length-8;I<k.length;++I)k[I]=R&255,R/=256;for(this.u(k),k=Array(16),I=R=0;4>I;++I)for(var x=0;32>x;x+=8)k[R++]=this.g[I]>>>x&255;return k};function u(k,I){var R=m;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=I(k)}function h(k,I){this.h=I;for(var R=[],x=!0,V=k.length-1;0<=V;V--){var O=k[V]|0;x&&O==I||(R[V]=O,x=!1)}this.g=R}var m={};function g(k){return-128<=k&&128>k?u(k,function(I){return new h([I|0],0>I?-1:0)}):new h([k|0],0>k?-1:0)}function v(k){if(isNaN(k)||!isFinite(k))return T;if(0>k)return U(v(-k));for(var I=[],R=1,x=0;k>=R;x++)I[x]=k/R|0,R*=4294967296;return new h(I,0)}function E(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return U(E(k.substring(1),I));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(I,8)),x=T,V=0;V<k.length;V+=8){var O=Math.min(8,k.length-V),C=parseInt(k.substring(V,V+O),I);8>O?(O=v(Math.pow(I,O)),x=x.j(O).add(v(C))):(x=x.j(R),x=x.add(v(C)))}return x}var T=g(0),A=g(1),D=g(16777216);i=h.prototype,i.m=function(){if($(this))return-U(this).m();for(var k=0,I=1,R=0;R<this.g.length;R++){var x=this.i(R);k+=(0<=x?x:4294967296+x)*I,I*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(M(this))return"0";if($(this))return"-"+U(this).toString(k);for(var I=v(Math.pow(k,6)),R=this,x="";;){var V=fe(R,I).g;R=q(R,V.j(I));var O=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=V,M(R))return O+x;for(;6>O.length;)O="0"+O;x=O+x}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function M(k){if(k.h!=0)return!1;for(var I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function $(k){return k.h==-1}i.l=function(k){return k=q(this,k),$(k)?-1:M(k)?0:1};function U(k){for(var I=k.g.length,R=[],x=0;x<I;x++)R[x]=~k.g[x];return new h(R,~k.h).add(A)}i.abs=function(){return $(this)?U(this):this},i.add=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],x=0,V=0;V<=I;V++){var O=x+(this.i(V)&65535)+(k.i(V)&65535),C=(O>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);x=C>>>16,O&=65535,C&=65535,R[V]=C<<16|O}return new h(R,R[R.length-1]&-2147483648?-1:0)};function q(k,I){return k.add(U(I))}i.j=function(k){if(M(this)||M(k))return T;if($(this))return $(k)?U(this).j(U(k)):U(U(this).j(k));if($(k))return U(this.j(U(k)));if(0>this.l(D)&&0>k.l(D))return v(this.m()*k.m());for(var I=this.g.length+k.g.length,R=[],x=0;x<2*I;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var V=0;V<k.g.length;V++){var O=this.i(x)>>>16,C=this.i(x)&65535,tt=k.i(V)>>>16,xt=k.i(V)&65535;R[2*x+2*V]+=C*xt,ne(R,2*x+2*V),R[2*x+2*V+1]+=O*xt,ne(R,2*x+2*V+1),R[2*x+2*V+1]+=C*tt,ne(R,2*x+2*V+1),R[2*x+2*V+2]+=O*tt,ne(R,2*x+2*V+2)}for(x=0;x<I;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=I;x<2*I;x++)R[x]=0;return new h(R,0)};function ne(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function Z(k,I){this.g=k,this.h=I}function fe(k,I){if(M(I))throw Error("division by zero");if(M(k))return new Z(T,T);if($(k))return I=fe(U(k),I),new Z(U(I.g),U(I.h));if($(I))return I=fe(k,U(I)),new Z(U(I.g),I.h);if(30<k.g.length){if($(k)||$(I))throw Error("slowDivide_ only works with positive integers.");for(var R=A,x=I;0>=x.l(k);)R=Ce(R),x=Ce(x);var V=Te(R,1),O=Te(x,1);for(x=Te(x,2),R=Te(R,2);!M(x);){var C=O.add(x);0>=C.l(k)&&(V=V.add(R),O=C),x=Te(x,1),R=Te(R,1)}return I=q(k,V.j(I)),new Z(V,I)}for(V=T;0<=k.l(I);){for(R=Math.max(1,Math.floor(k.m()/I.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),O=v(R),C=O.j(I);$(C)||0<C.l(k);)R-=x,O=v(R),C=O.j(I);M(O)&&(O=A),V=V.add(O),k=q(k,C)}return new Z(V,k)}i.A=function(k){return fe(this,k).h},i.and=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],x=0;x<I;x++)R[x]=this.i(x)&k.i(x);return new h(R,this.h&k.h)},i.or=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],x=0;x<I;x++)R[x]=this.i(x)|k.i(x);return new h(R,this.h|k.h)},i.xor=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],x=0;x<I;x++)R[x]=this.i(x)^k.i(x);return new h(R,this.h^k.h)};function Ce(k){for(var I=k.g.length+1,R=[],x=0;x<I;x++)R[x]=k.i(x)<<1|k.i(x-1)>>>31;return new h(R,k.h)}function Te(k,I){var R=I>>5;I%=32;for(var x=k.g.length-R,V=[],O=0;O<x;O++)V[O]=0<I?k.i(O+R)>>>I|k.i(O+R+1)<<32-I:k.i(O+R);return new h(V,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Zg=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=E,Jr=h}).apply(typeof Sm<"u"?Sm:typeof self<"u"?self:typeof window<"u"?window:{});var Ql=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ey,ia,ty,eu,Mh,ny,ry,iy;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,y){return l==Array.prototype||l==Object.prototype||(l[d]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ql=="object"&&Ql];for(var d=0;d<l.length;++d){var y=l[d];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var y=s;l=l.split(".");for(var w=0;w<l.length-1;w++){var F=l[w];if(!(F in y))break e;y=y[F]}l=l[l.length-1],w=y[l],d=d(w),d!=w&&d!=null&&e(y,l,{configurable:!0,writable:!0,value:d})}}function u(l,d){l instanceof String&&(l+="");var y=0,w=!1,F={next:function(){if(!w&&y<l.length){var B=y++;return{value:d(B,l[B]),done:!1}}return w=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}a("Array.prototype.values",function(l){return l||function(){return u(this,function(d,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function v(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function E(l,d,y){return l.call.apply(l.bind,arguments)}function T(l,d,y){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,w),l.apply(d,F)}}return function(){return l.apply(d,arguments)}}function A(l,d,y){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,A.apply(null,arguments)}function D(l,d){var y=Array.prototype.slice.call(arguments,1);return function(){var w=y.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function M(l,d){function y(){}y.prototype=d.prototype,l.aa=d.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(w,F,B){for(var te=Array(arguments.length-2),je=2;je<arguments.length;je++)te[je-2]=arguments[je];return d.prototype[F].apply(w,te)}}function $(l){const d=l.length;if(0<d){const y=Array(d);for(let w=0;w<d;w++)y[w]=l[w];return y}return[]}function U(l,d){for(let y=1;y<arguments.length;y++){const w=arguments[y];if(g(w)){const F=l.length||0,B=w.length||0;l.length=F+B;for(let te=0;te<B;te++)l[F+te]=w[te]}else l.push(w)}}class q{constructor(d,y){this.i=d,this.j=y,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function ne(l){return/^[\s\xa0]*$/.test(l)}function Z(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function fe(l){return fe[" "](l),l}fe[" "]=function(){};var Ce=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function Te(l,d,y){for(const w in l)d.call(y,l[w],w,l)}function k(l,d){for(const y in l)d.call(void 0,l[y],y,l)}function I(l){const d={};for(const y in l)d[y]=l[y];return d}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(l,d){let y,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(y in w)l[y]=w[y];for(let B=0;B<R.length;B++)y=R[B],Object.prototype.hasOwnProperty.call(w,y)&&(l[y]=w[y])}}function V(l){var d=1;l=l.split(":");const y=[];for(;0<d&&l.length;)y.push(l.shift()),d--;return l.length&&y.push(l.join(":")),y}function O(l){m.setTimeout(()=>{throw l},0)}function C(){var l=me;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class tt{constructor(){this.h=this.g=null}add(d,y){const w=xt.get();w.set(d,y),this.h?this.h.next=w:this.g=w,this.h=w}}var xt=new q(()=>new kt,l=>l.reset());class kt{constructor(){this.next=this.g=this.h=null}set(d,y){this.h=d,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,re=!1,me=new tt,se=()=>{const l=m.Promise.resolve(void 0);Ue=()=>{l.then(L)}};var L=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(y){O(y)}var d=xt;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}re=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};m.addEventListener("test",y,d),m.removeEventListener("test",y,d)}catch{}return l}();function Ae(l,d){if(de.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Ce){e:{try{fe(d.nodeName);var F=!0;break e}catch{}F=!1}F||(d=null)}}else y=="mouseover"?d=l.fromElement:y=="mouseout"&&(d=l.toElement);this.relatedTarget=d,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:ke[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ae.aa.h.call(this)}}M(Ae,de);var ke={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function Be(l,d,y,w,F){this.listener=l,this.proxy=null,this.src=d,this.type=y,this.capture=!!w,this.ha=F,this.key=++Fe,this.da=this.fa=!1}function gt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function er(l){this.src=l,this.g={},this.h=0}er.prototype.add=function(l,d,y,w,F){var B=l.toString();l=this.g[B],l||(l=this.g[B]=[],this.h++);var te=Sr(l,d,w,F);return-1<te?(d=l[te],y||(d.fa=!1)):(d=new Be(d,this.src,B,!!w,F),d.fa=y,l.push(d)),d};function Wi(l,d){var y=d.type;if(y in l.g){var w=l.g[y],F=Array.prototype.indexOf.call(w,d,void 0),B;(B=0<=F)&&Array.prototype.splice.call(w,F,1),B&&(gt(d),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Sr(l,d,y,w){for(var F=0;F<l.length;++F){var B=l[F];if(!B.da&&B.listener==d&&B.capture==!!y&&B.ha==w)return F}return-1}var ui="closure_lm_"+(1e6*Math.random()|0),Qi={};function oo(l,d,y,w,F){if(Array.isArray(d)){for(var B=0;B<d.length;B++)oo(l,d[B],y,w,F);return null}return y=uo(y),l&&l[Oe]?l.K(d,y,v(w)?!!w.capture:!1,F):ao(l,d,y,!1,w,F)}function ao(l,d,y,w,F,B){if(!d)throw Error("Invalid event type");var te=v(F)?!!F.capture:!!F,je=Gi(l);if(je||(l[ui]=je=new er(l)),y=je.add(d,y,w,te,B),y.proxy)return y;if(w=ka(),y.proxy=w,w.src=l,w.listener=y,l.addEventListener)Ie||(F=te),F===void 0&&(F=!1),l.addEventListener(d.toString(),w,F);else if(l.attachEvent)l.attachEvent(nr(d.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return y}function ka(){function l(y){return d.call(l.src,l.listener,y)}const d=lo;return l}function Ki(l,d,y,w,F){if(Array.isArray(d))for(var B=0;B<d.length;B++)Ki(l,d[B],y,w,F);else w=v(w)?!!w.capture:!!w,y=uo(y),l&&l[Oe]?(l=l.i,d=String(d).toString(),d in l.g&&(B=l.g[d],y=Sr(B,y,w,F),-1<y&&(gt(B[y]),Array.prototype.splice.call(B,y,1),B.length==0&&(delete l.g[d],l.h--)))):l&&(l=Gi(l))&&(d=l.g[d.toString()],l=-1,d&&(l=Sr(d,y,w,F)),(y=-1<l?d[l]:null)&&tr(y))}function tr(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Oe])Wi(d.i,l);else{var y=l.type,w=l.proxy;d.removeEventListener?d.removeEventListener(y,w,l.capture):d.detachEvent?d.detachEvent(nr(y),w):d.addListener&&d.removeListener&&d.removeListener(w),(y=Gi(d))?(Wi(y,l),y.h==0&&(y.src=null,d[ui]=null)):gt(l)}}}function nr(l){return l in Qi?Qi[l]:Qi[l]="on"+l}function lo(l,d){if(l.da)l=!0;else{d=new Ae(d,this);var y=l.listener,w=l.ha||l.src;l.fa&&tr(l),l=y.call(w,d)}return l}function Gi(l){return l=l[ui],l instanceof er?l:null}var Yi="__closure_events_fn_"+(1e9*Math.random()>>>0);function uo(l){return typeof l=="function"?l:(l[Yi]||(l[Yi]=function(d){return l.handleEvent(d)}),l[Yi])}function ut(){G.call(this),this.i=new er(this),this.M=this,this.F=null}M(ut,G),ut.prototype[Oe]=!0,ut.prototype.removeEventListener=function(l,d,y,w){Ki(this,l,d,y,w)};function ct(l,d){var y,w=l.F;if(w)for(y=[];w;w=w.F)y.push(w);if(l=l.M,w=d.type||d,typeof d=="string")d=new de(d,l);else if(d instanceof de)d.target=d.target||l;else{var F=d;d=new de(w,l),x(d,F)}if(F=!0,y)for(var B=y.length-1;0<=B;B--){var te=d.g=y[B];F=rr(te,w,!0,d)&&F}if(te=d.g=l,F=rr(te,w,!0,d)&&F,F=rr(te,w,!1,d)&&F,y)for(B=0;B<y.length;B++)te=d.g=y[B],F=rr(te,w,!1,d)&&F}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var y=l.g[d],w=0;w<y.length;w++)gt(y[w]);delete l.g[d],l.h--}}this.F=null},ut.prototype.K=function(l,d,y,w){return this.i.add(String(l),d,!1,y,w)},ut.prototype.L=function(l,d,y,w){return this.i.add(String(l),d,!0,y,w)};function rr(l,d,y,w){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var F=!0,B=0;B<d.length;++B){var te=d[B];if(te&&!te.da&&te.capture==y){var je=te.listener,ht=te.ha||te.src;te.fa&&Wi(l.i,te),F=je.call(ht,w)!==!1&&F}}return F&&!w.defaultPrevented}function co(l,d,y){if(typeof l=="function")y&&(l=A(l,y));else if(l&&typeof l.handleEvent=="function")l=A(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(l,d||0)}function Ar(l){l.g=co(()=>{l.g=null,l.i&&(l.i=!1,Ar(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class ci extends G{constructor(d,y){super(),this.m=d,this.l=y,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Ar(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hi(l){G.call(this),this.h=l,this.g={}}M(hi,G);var ho=[];function fo(l){Te(l.g,function(d,y){this.g.hasOwnProperty(y)&&tr(d)},l),l.g={}}hi.prototype.N=function(){hi.aa.N.call(this),fo(this)},hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var po=m.JSON.stringify,mo=m.JSON.parse,go=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function fi(){}fi.prototype.h=null;function Xi(l){return l.h||(l.h=l.i())}function Ji(){}var ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ln(){de.call(this,"d")}M(Ln,de);function Zi(){de.call(this,"c")}M(Zi,de);var Mn={},yo=null;function di(){return yo=yo||new ut}Mn.La="serverreachability";function vo(l){de.call(this,Mn.La,l)}M(vo,de);function ir(l){const d=di();ct(d,new vo(d))}Mn.STAT_EVENT="statevent";function _o(l,d){de.call(this,Mn.STAT_EVENT,l),this.stat=d}M(_o,de);function nt(l){const d=di();ct(d,new _o(d,l))}Mn.Ma="timingevent";function es(l,d){de.call(this,Mn.Ma,l),this.size=d}M(es,de);function vn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},d)}function pi(){this.g=!0}pi.prototype.xa=function(){this.g=!1};function mi(l,d,y,w,F,B){l.info(function(){if(l.g)if(B)for(var te="",je=B.split("&"),ht=0;ht<je.length;ht++){var Ne=je[ht].split("=");if(1<Ne.length){var yt=Ne[0];Ne=Ne[1];var st=yt.split("_");te=2<=st.length&&st[1]=="type"?te+(yt+"="+Ne+"&"):te+(yt+"=redacted&")}}else te=null;else te=B;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+d+`
`+y+`
`+te})}function ts(l,d,y,w,F,B,te){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+d+`
`+y+`
`+B+" "+te})}function _n(l,d,y,w){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+zu(l,y)+(w?" "+w:"")})}function Eo(l,d){l.info(function(){return"TIMEOUT: "+d})}pi.prototype.info=function(){};function zu(l,d){if(!l.g)return d;if(!d)return null;try{var y=JSON.parse(d);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var w=y[l];if(!(2>w.length)){var F=w[1];if(Array.isArray(F)&&!(1>F.length)){var B=F[0];if(B!="noop"&&B!="stop"&&B!="close")for(var te=1;te<F.length;te++)F[te]=""}}}}return po(y)}catch{return d}}var ns={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Na={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},En;function gi(){}M(gi,fi),gi.prototype.g=function(){return new XMLHttpRequest},gi.prototype.i=function(){return{}},En=new gi;function wn(l,d,y,w){this.j=l,this.i=d,this.l=y,this.R=w||1,this.U=new hi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Va}function Va(){this.i=null,this.g="",this.h=!1}var wo={},rs={};function is(l,d,y){l.L=1,l.v=kr(en(d)),l.m=y,l.P=!0,To(l,null)}function To(l,d){l.F=Date.now(),$e(l),l.A=en(l.v);var y=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),Vr(y.i,"t",w),l.C=0,y=l.j.J,l.h=new Va,l.g=Ya(l.j,y?d:null,!l.m),0<l.O&&(l.M=new ci(A(l.Y,l,l.g),l.O)),d=l.U,y=l.g,w=l.ca;var F="readystatechange";Array.isArray(F)||(F&&(ho[0]=F.toString()),F=ho);for(var B=0;B<F.length;B++){var te=oo(y,F[B],w||d.handleEvent,!1,d.h||d);if(!te)break;d.g[te.key]=te}d=l.H?I(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),ir(),mi(l.i,l.u,l.A,l.l,l.R,l.m)}wn.prototype.ca=function(l){l=l.target;const d=this.M;d&&Ht(l)==3?d.j():this.Y(l)},wn.prototype.Y=function(l){try{if(l==this.g)e:{const st=Ht(this.g);var d=this.g.Ba();const hn=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||Po(this.g)))){this.J||st!=4||d==7||(d==8||0>=hn?ir(3):ir(2)),yi(this);var y=this.g.Z();this.X=y;t:if(Da(this)){var w=Po(this.g);l="";var F=w.length,B=Ht(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){un(this),Rr(this);var te="";break t}this.h.i=new m.TextDecoder}for(d=0;d<F;d++)this.h.h=!0,l+=this.h.i.decode(w[d],{stream:!(B&&d==F-1)});w.length=0,this.h.g+=l,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=y==200,ts(this.i,this.u,this.A,this.l,this.R,st,y),this.o){if(this.T&&!this.K){t:{if(this.g){var je,ht=this.g;if((je=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(je)){var Ne=je;break t}}Ne=null}if(y=Ne)_n(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Io(this,y);else{this.o=!1,this.s=3,nt(12),un(this),Rr(this);break e}}if(this.P){y=!0;let nn;for(;!this.J&&this.C<te.length;)if(nn=Bu(this,te),nn==rs){st==4&&(this.s=4,nt(14),y=!1),_n(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==wo){this.s=4,nt(15),_n(this.i,this.l,te,"[Invalid Chunk]"),y=!1;break}else _n(this.i,this.l,nn,null),Io(this,nn);if(Da(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||te.length!=0||this.h.h||(this.s=1,nt(16),y=!1),this.o=this.o&&y,!y)_n(this.i,this.l,te,"[Invalid Chunked Response]"),un(this),Rr(this);else if(0<te.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),ko(yt),yt.M=!0,nt(11))}}else _n(this.i,this.l,te,null),Io(this,te);st==4&&un(this),this.o&&!this.J&&(st==4?ms(this.j,this):(this.o=!1,$e(this)))}else cs(this.g),y==400&&0<te.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),un(this),Rr(this)}}}catch{}finally{}};function Da(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Bu(l,d){var y=l.C,w=d.indexOf(`
`,y);return w==-1?rs:(y=Number(d.substring(y,w)),isNaN(y)?wo:(w+=1,w+y>d.length?rs:(d=d.slice(w,w+y),l.C=w+y,d)))}wn.prototype.cancel=function(){this.J=!0,un(this)};function $e(l){l.S=Date.now()+l.I,La(l,l.I)}function La(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=vn(A(l.ba,l),d)}function yi(l){l.B&&(m.clearTimeout(l.B),l.B=null)}wn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Eo(this.i,this.A),this.L!=2&&(ir(),nt(17)),un(this),this.s=2,Rr(this)):La(this,this.S-l)};function Rr(l){l.j.G==0||l.J||ms(l.j,l)}function un(l){yi(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,fo(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function Io(l,d){try{var y=l.j;if(y.G!=0&&(y.g==l||bt(y.h,l))){if(!l.K&&bt(y.h,l)&&y.G==3){try{var w=y.Da.g.parse(d)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)ps(y),Rn(y);else break e;ds(y),nt(18)}}else y.za=F[1],0<y.za-y.T&&37500>F[2]&&y.F&&y.v==0&&!y.C&&(y.C=vn(A(y.Za,y),6e3));if(1>=Oa(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else ur(y,11)}else if((l.K||y.g==l)&&ps(y),!ne(d))for(F=y.Da.g.parse(d),d=0;d<F.length;d++){let Ne=F[d];if(y.T=Ne[0],Ne=Ne[1],y.G==2)if(Ne[0]=="c"){y.K=Ne[1],y.ia=Ne[2];const yt=Ne[3];yt!=null&&(y.la=yt,y.j.info("VER="+y.la));const st=Ne[4];st!=null&&(y.Aa=st,y.j.info("SVER="+y.Aa));const hn=Ne[5];hn!=null&&typeof hn=="number"&&0<hn&&(w=1.5*hn,y.L=w,y.j.info("backChannelRequestTimeoutMs_="+w)),w=y;const nn=l.g;if(nn){const Si=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Si){var B=w.h;B.g||Si.indexOf("spdy")==-1&&Si.indexOf("quic")==-1&&Si.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(So(B,B.h),B.h=null))}if(w.D){const ys=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;ys&&(w.ya=ys,ze(w.I,w.D,ys))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),w=y;var te=l;if(w.qa=Ga(w,w.J?w.ia:null,w.W),te.K){Fa(w.h,te);var je=te,ht=w.L;ht&&(je.I=ht),je.B&&(yi(je),$e(je)),w.g=te}else Ii(w);0<y.i.length&&jn(y)}else Ne[0]!="stop"&&Ne[0]!="close"||ur(y,7);else y.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?ur(y,7):It(y):Ne[0]!="noop"&&y.l&&y.l.ta(Ne),y.v=0)}}ir(4)}catch{}}var Ma=class{constructor(l,d){this.g=l,this.map=d}};function vi(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Oa(l){return l.h?1:l.g?l.g.size:0}function bt(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function So(l,d){l.g?l.g.add(d):l.h=d}function Fa(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}vi.prototype.cancel=function(){if(this.i=ba(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function ba(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const y of l.g.values())d=d.concat(y.D);return d}return $(l.i)}function ss(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var d=[],y=l.length,w=0;w<y;w++)d.push(l[w]);return d}d=[],y=0;for(w in l)d[y++]=l[w];return d}function os(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var d=[];l=l.length;for(var y=0;y<l;y++)d.push(y);return d}d=[],y=0;for(const w in l)d[y++]=w;return d}}}function Cr(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var y=os(l),w=ss(l),F=w.length,B=0;B<F;B++)d.call(void 0,w[B],y&&y[B],l)}var _i=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $u(l,d){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var w=l[y].indexOf("="),F=null;if(0<=w){var B=l[y].substring(0,w);F=l[y].substring(w+1)}else B=l[y];d(B,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function sr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof sr){this.h=l.h,Ei(this,l.j),this.o=l.o,this.g=l.g,Pr(this,l.s),this.l=l.l;var d=l.i,y=new On;y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),xr(this,y),this.m=l.m}else l&&(d=String(l).match(_i))?(this.h=!1,Ei(this,d[1]||"",!0),this.o=xe(d[2]||""),this.g=xe(d[3]||"",!0),Pr(this,d[4]),this.l=xe(d[5]||"",!0),xr(this,d[6]||"",!0),this.m=xe(d[7]||"")):(this.h=!1,this.i=new On(null,this.h))}sr.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Nr(d,as,!0),":");var y=this.g;return(y||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Nr(d,as,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Nr(y,y.charAt(0)=="/"?za:Ua,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Nr(y,Ao)),l.join("")};function en(l){return new sr(l)}function Ei(l,d,y){l.j=y?xe(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Pr(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function xr(l,d,y){d instanceof On?(l.i=d,Fn(l.i,l.h)):(y||(d=Nr(d,Ba)),l.i=new On(d,l.h))}function ze(l,d,y){l.i.set(d,y)}function kr(l){return ze(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function xe(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Nr(l,d,y){return typeof l=="string"?(l=encodeURI(l).replace(d,ja),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function ja(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var as=/[#\/\?@]/g,Ua=/[#\?:]/g,za=/[#\?]/g,Ba=/[#\?@]/g,Ao=/#/g;function On(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Tt(l){l.g||(l.g=new Map,l.h=0,l.i&&$u(l.i,function(d,y){l.add(decodeURIComponent(d.replace(/\+/g," ")),y)}))}i=On.prototype,i.add=function(l,d){Tt(this),this.i=null,l=cn(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(d),this.h+=1,this};function Tn(l,d){Tt(l),d=cn(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function In(l,d){return Tt(l),d=cn(l,d),l.g.has(d)}i.forEach=function(l,d){Tt(this),this.g.forEach(function(y,w){y.forEach(function(F){l.call(d,F,w,this)},this)},this)},i.na=function(){Tt(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),y=[];for(let w=0;w<d.length;w++){const F=l[w];for(let B=0;B<F.length;B++)y.push(d[w])}return y},i.V=function(l){Tt(this);let d=[];if(typeof l=="string")In(this,l)&&(d=d.concat(this.g.get(cn(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)d=d.concat(l[y])}return d},i.set=function(l,d){return Tt(this),this.i=null,l=cn(this,l),In(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Vr(l,d,y){Tn(l,d),0<y.length&&(l.i=null,l.g.set(cn(l,d),$(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var y=0;y<d.length;y++){var w=d[y];const B=encodeURIComponent(String(w)),te=this.V(w);for(w=0;w<te.length;w++){var F=B;te[w]!==""&&(F+="="+encodeURIComponent(String(te[w]))),l.push(F)}}return this.i=l.join("&")};function cn(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function Fn(l,d){d&&!l.j&&(Tt(l),l.i=null,l.g.forEach(function(y,w){var F=w.toLowerCase();w!=F&&(Tn(this,w),Vr(this,F,y))},l)),l.j=d}function Hu(l,d){const y=new pi;if(m.Image){const w=new Image;w.onload=D($t,y,"TestLoadImage: loaded",!0,d,w),w.onerror=D($t,y,"TestLoadImage: error",!1,d,w),w.onabort=D($t,y,"TestLoadImage: abort",!1,d,w),w.ontimeout=D($t,y,"TestLoadImage: timeout",!1,d,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else d(!1)}function $a(l,d){const y=new pi,w=new AbortController,F=setTimeout(()=>{w.abort(),$t(y,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:w.signal}).then(B=>{clearTimeout(F),B.ok?$t(y,"TestPingServer: ok",!0,d):$t(y,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(F),$t(y,"TestPingServer: error",!1,d)})}function $t(l,d,y,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(y)}catch{}}function qu(){this.g=new go}function Ha(l,d,y){const w=y||"";try{Cr(l,function(F,B){let te=F;v(F)&&(te=po(F)),d.push(w+B+"="+encodeURIComponent(te))})}catch(F){throw d.push(w+"type="+encodeURIComponent("_badmap")),F}}function or(l){this.l=l.Ub||null,this.j=l.eb||!1}M(or,fi),or.prototype.g=function(){return new wi(this.l,this.j)},or.prototype.i=function(l){return function(){return l}}({});function wi(l,d){ut.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(wi,ut),i=wi.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,An(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,An(this)),this.g&&(this.readyState=3,An(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qa(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function qa(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Sn(this):An(this),this.readyState==3&&qa(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Sn(this))},i.Qa=function(l){this.g&&(this.response=l,Sn(this))},i.ga=function(){this.g&&Sn(this)};function Sn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,An(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var y=d.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=d.next();return l.join(`\r
`)};function An(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ar(l){let d="";return Te(l,function(y,w){d+=w,d+=":",d+=y,d+=`\r
`}),d}function Dr(l,d,y){e:{for(w in y){var w=!1;break e}w=!0}w||(y=ar(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):ze(l,d,y))}function Ke(l){ut.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Ke,ut);var Wu=/^https?$/i,Ro=["POST","PUT"];i=Ke.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,y,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():En.g(),this.v=this.o?Xi(this.o):Xi(En),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(B){Ti(this,B);return}if(l=y||"",y=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)y.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const B of w.keys())y.set(B,w.get(B));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),F=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ro,d,void 0))||w||F||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of y)this.g.setRequestHeader(B,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{us(this),this.u=!0,this.g.send(l),this.u=!1}catch(B){Ti(this,B)}};function Ti(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,ls(l),tn(l)}function ls(l){l.A||(l.A=!0,ct(l,"complete"),ct(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ct(this,"complete"),ct(this,"abort"),tn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tn(this,!0)),Ke.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Co(this):this.bb())},i.bb=function(){Co(this)};function Co(l){if(l.h&&typeof h<"u"&&(!l.v[1]||Ht(l)!=4||l.Z()!=2)){if(l.u&&Ht(l)==4)co(l.Ea,0,l);else if(ct(l,"readystatechange"),Ht(l)==4){l.h=!1;try{const te=l.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var y;if(!(y=d)){var w;if(w=te===0){var F=String(l.D).match(_i)[1]||null;!F&&m.self&&m.self.location&&(F=m.self.location.protocol.slice(0,-1)),w=!Wu.test(F?F.toLowerCase():"")}y=w}if(y)ct(l,"complete"),ct(l,"success");else{l.m=6;try{var B=2<Ht(l)?l.g.statusText:""}catch{B=""}l.l=B+" ["+l.Z()+"]",ls(l)}}finally{tn(l)}}}}function tn(l,d){if(l.g){us(l);const y=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||ct(l,"ready");try{y.onreadystatechange=w}catch{}}}function us(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function Ht(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),mo(d)}};function Po(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function cs(l){const d={};l=(l.g&&2<=Ht(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(ne(l[w]))continue;var y=V(l[w]);const F=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=d[F]||[];d[F]=B,B.push(y)}k(d,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bn(l,d,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||d}function xo(l){this.Aa=0,this.i=[],this.j=new pi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bn("baseRetryDelayMs",5e3,l),this.cb=bn("retryDelaySeedMs",1e4,l),this.Wa=bn("forwardChannelMaxRetries",2,l),this.wa=bn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new vi(l&&l.concurrentRequestLimit),this.Da=new qu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=xo.prototype,i.la=8,i.G=1,i.connect=function(l,d,y,w){nt(0),this.W=l,this.H=d||{},y&&w!==void 0&&(this.H.OSID=y,this.H.OAID=w),this.F=this.X,this.I=Ga(this,null,this.W),jn(this)};function It(l){if(hs(l),l.G==3){var d=l.U++,y=en(l.I);if(ze(y,"SID",l.K),ze(y,"RID",d),ze(y,"TYPE","terminate"),lr(l,y),d=new wn(l,l.j,d),d.L=2,d.v=kr(en(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=d.v,y=!0),y||(d.g=Ya(d.j,null),d.g.ea(d.v)),d.F=Date.now(),$e(d)}Ka(l)}function Rn(l){l.g&&(ko(l),l.g.cancel(),l.g=null)}function hs(l){Rn(l),l.u&&(m.clearTimeout(l.u),l.u=null),ps(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function jn(l){if(!Zt(l.h)&&!l.s){l.s=!0;var d=l.Ga;Ue||se(),re||(Ue(),re=!0),me.add(d,l),l.B=0}}function Qu(l,d){return Oa(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=vn(A(l.Ga,l,d),Qa(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const F=new wn(this,this.j,l);let B=this.o;if(this.S&&(B?(B=I(B),x(B,this.S)):B=this.S),this.m!==null||this.O||(F.H=B,B=null),this.P)e:{for(var d=0,y=0;y<this.i.length;y++){t:{var w=this.i[y];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(d+=w,4096<d){d=y;break e}if(d===4096||y===this.i.length-1){d=y+1;break e}}d=1e3}else d=1e3;d=Lr(this,F,d),y=en(this.I),ze(y,"RID",l),ze(y,"CVER",22),this.D&&ze(y,"X-HTTP-Session-Id",this.D),lr(this,y),B&&(this.O?d="headers="+encodeURIComponent(String(ar(B)))+"&"+d:this.m&&Dr(y,this.m,B)),So(this.h,F),this.Ua&&ze(y,"TYPE","init"),this.P?(ze(y,"$req",d),ze(y,"SID","null"),F.T=!0,is(F,y,null)):is(F,y,d),this.G=2}}else this.G==3&&(l?fs(this,l):this.i.length==0||Zt(this.h)||fs(this))};function fs(l,d){var y;d?y=d.l:y=l.U++;const w=en(l.I);ze(w,"SID",l.K),ze(w,"RID",y),ze(w,"AID",l.T),lr(l,w),l.m&&l.o&&Dr(w,l.m,l.o),y=new wn(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Lr(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),So(l.h,y),is(y,w,d)}function lr(l,d){l.H&&Te(l.H,function(y,w){ze(d,w,y)}),l.l&&Cr({},function(y,w){ze(d,w,y)})}function Lr(l,d,y){y=Math.min(l.i.length,y);var w=l.l?A(l.l.Na,l.l,l):null;e:{var F=l.i;let B=-1;for(;;){const te=["count="+y];B==-1?0<y?(B=F[0].g,te.push("ofs="+B)):B=0:te.push("ofs="+B);let je=!0;for(let ht=0;ht<y;ht++){let Ne=F[ht].g;const yt=F[ht].map;if(Ne-=B,0>Ne)B=Math.max(0,F[ht].g-100),je=!1;else try{Ha(yt,te,"req"+Ne+"_")}catch{w&&w(yt)}}if(je){w=te.join("&");break e}}}return l=l.i.splice(0,y),d.D=l,w}function Ii(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Ue||se(),re||(Ue(),re=!0),me.add(d,l),l.v=0}}function ds(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=vn(A(l.Fa,l),Qa(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Wa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=vn(A(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Rn(this),Wa(this))};function ko(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Wa(l){l.g=new wn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=en(l.qa);ze(d,"RID","rpc"),ze(d,"SID",l.K),ze(d,"AID",l.T),ze(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&ze(d,"TO",l.ja),ze(d,"TYPE","xmlhttp"),lr(l,d),l.m&&l.o&&Dr(d,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=kr(en(d)),y.m=null,y.P=!0,To(y,l)}i.Za=function(){this.C!=null&&(this.C=null,Rn(this),ds(this),nt(19))};function ps(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function ms(l,d){var y=null;if(l.g==d){ps(l),ko(l),l.g=null;var w=2}else if(bt(l.h,d))y=d.D,Fa(l.h,d),w=1;else return;if(l.G!=0){if(d.o)if(w==1){y=d.m?d.m.length:0,d=Date.now()-d.F;var F=l.B;w=di(),ct(w,new es(w,y)),jn(l)}else Ii(l);else if(F=d.s,F==3||F==0&&0<d.X||!(w==1&&Qu(l,d)||w==2&&ds(l)))switch(y&&0<y.length&&(d=l.h,d.i=d.i.concat(y)),F){case 1:ur(l,5);break;case 4:ur(l,10);break;case 3:ur(l,6);break;default:ur(l,2)}}}function Qa(l,d){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*d}function ur(l,d){if(l.j.info("Error code "+d),d==2){var y=A(l.fb,l),w=l.Xa;const F=!w;w=new sr(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ei(w,"https"),kr(w),F?Hu(w.toString(),y):$a(w.toString(),y)}else nt(2);l.G=0,l.l&&l.l.sa(d),Ka(l),hs(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Ka(l){if(l.G=0,l.ka=[],l.l){const d=ba(l.h);(d.length!=0||l.i.length!=0)&&(U(l.ka,d),U(l.ka,l.i),l.h.i.length=0,$(l.i),l.i.length=0),l.l.ra()}}function Ga(l,d,y){var w=y instanceof sr?en(y):new sr(y);if(w.g!="")d&&(w.g=d+"."+w.g),Pr(w,w.s);else{var F=m.location;w=F.protocol,d=d?d+"."+F.hostname:F.hostname,F=+F.port;var B=new sr(null);w&&Ei(B,w),d&&(B.g=d),F&&Pr(B,F),y&&(B.l=y),w=B}return y=l.D,d=l.ya,y&&d&&ze(w,y,d),ze(w,"VER",l.la),lr(l,w),w}function Ya(l,d,y){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Ke(new or({eb:y})):new Ke(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function No(){}i=No.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function gs(){}gs.prototype.g=function(l,d){return new jt(l,d)};function jt(l,d){ut.call(this),this.g=new xo(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!ne(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!ne(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Un(this)}M(jt,ut),jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jt.prototype.close=function(){It(this.g)},jt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=po(l),l=y);d.i.push(new Ma(d.Ya++,l)),d.G==3&&jn(d)},jt.prototype.N=function(){this.g.l=null,delete this.j,It(this.g),delete this.g,jt.aa.N.call(this)};function Xa(l){Ln.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const y in d){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}M(Xa,Ln);function Ja(){Zi.call(this),this.status=1}M(Ja,Zi);function Un(l){this.g=l}M(Un,No),Un.prototype.ua=function(){ct(this.g,"a")},Un.prototype.ta=function(l){ct(this.g,new Xa(l))},Un.prototype.sa=function(l){ct(this.g,new Ja)},Un.prototype.ra=function(){ct(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,jt.prototype.send=jt.prototype.o,jt.prototype.open=jt.prototype.m,jt.prototype.close=jt.prototype.close,iy=function(){return new gs},ry=function(){return di()},ny=Mn,Mh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ns.NO_ERROR=0,ns.TIMEOUT=8,ns.HTTP_ERROR=6,eu=ns,Na.COMPLETE="complete",ty=Na,Ji.EventType=ln,ln.OPEN="a",ln.CLOSE="b",ln.ERROR="c",ln.MESSAGE="d",ut.prototype.listen=ut.prototype.K,ia=Ji,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,ey=Ke}).apply(typeof Ql<"u"?Ql:typeof self<"u"?self:typeof window<"u"?window:{});const Am="@firebase/firestore",Rm="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new Qg("@firebase/firestore");function bs(){return Ui.logLevel}function oe(i,...e){if(Ui.logLevel<=De.DEBUG){const n=e.map(hf);Ui.debug(`Firestore (${to}): ${i}`,...n)}}function Tr(i,...e){if(Ui.logLevel<=De.ERROR){const n=e.map(hf);Ui.error(`Firestore (${to}): ${i}`,...n)}}function Hs(i,...e){if(Ui.logLevel<=De.WARN){const n=e.map(hf);Ui.warn(`Firestore (${to}): ${i}`,...n)}}function hf(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(i="Unexpected state"){const e=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: `+i;throw Tr(e),new Error(e)}function be(i,e){i||ve()}function we(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends eo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ot.UNAUTHENTICATED))}shutdown(){}}class nT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class rT{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){be(this.o===void 0);let s=this.i;const a=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Zr,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},m=g=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Zr)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(be(typeof s.accessToken=="string"),new sy(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new Ot(e)}}class iT{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class sT{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new iT(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oT{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,bw(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){be(this.o===void 0);const s=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const a=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?a(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Cm(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string"),this.R=n.token,new Cm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=aT(40);for(let u=0;u<a.length;++u)s.length<20&&a[u]<n&&(s+=e.charAt(a[u]%62))}return s}}function Se(i,e){return i<e?-1:i>e?1:0}function Oh(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),a=e.codePointAt(n);if(s!==a){if(s<128&&a<128)return Se(s,a);{const u=oy(),h=lT(u.encode(Pm(i,n)),u.encode(Pm(e,n)));return h!==0?h:Se(s,a)}}n+=s>65535?2:1}return Se(i.length,e.length)}function Pm(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function lT(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Se(i[n],e[n]);return Se(i.length,e.length)}function qs(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm=-62135596800,km=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*km);return new pt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<xm)throw new ae(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/km}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-xm;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new pt(0,0))}static max(){return new Ee(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="__name__";class qn{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(),s===void 0?s=e.length-n:s>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return qn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const u=qn.compareSegments(e.get(a),n.get(a));if(u!==0)return u}return Se(e.length,n.length)}static compareSegments(e,n){const s=qn.isNumericId(e),a=qn.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?qn.extractNumericId(e).compare(qn.extractNumericId(n)):Oh(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Jr.fromString(e.substring(4,e.length-2))}}class Qe extends qn{construct(e,n,s){return new Qe(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ae(Q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Qe(n)}static emptyPath(){return new Qe([])}}const uT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends qn{construct(e,n,s){return new Ct(e,n,s)}static isValidIdentifier(e){return uT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Nm}static keyField(){return new Ct([Nm])}static fromServerFormat(e){const n=[];let s="",a=0;const u=()=>{if(s.length===0)throw new ae(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new ae(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ae(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,a+=2}else m==="`"?(h=!h,a++):m!=="."||h?(s+=m,a++):(u(),a++)}if(u(),h)throw new ae(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Qe.fromString(e))}static fromName(e){return new pe(Qe.fromString(e).popFirst(5))}static empty(){return new pe(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=-1;function cT(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=Ee.fromTimestamp(s===1e9?new pt(n+1,0):new pt(n,s));return new ti(a,pe.empty(),e)}function hT(i){return new ti(i.readTime,i.key,ma)}class ti{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ti(Ee.min(),pe.empty(),ma)}static max(){return new ti(Ee.max(),pe.empty(),ma)}}function fT(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(i.documentKey,e.documentKey),n!==0?n:Se(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(i){if(i.code!==Q.FAILED_PRECONDITION||i.message!==dT)throw i;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((s,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,a)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,s)=>{n(e)})}static reject(e){return new K((n,s)=>{s(e)})}static waitFor(e){return new K((n,s)=>{let a=0,u=0,h=!1;e.forEach(m=>{++a,m.next(()=>{++u,h&&u===a&&n()},g=>s(g))}),h=!0,u===a&&n()})}static or(e){let n=K.resolve(!1);for(const s of e)n=n.next(a=>a?K.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,u)=>{s.push(n.call(this,a,u))}),this.waitFor(s)}static mapArray(e,n){return new K((s,a)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const v=g;n(e[v]).next(E=>{h[v]=E,++m,m===u&&s(h)},E=>a(E))}})}static doWhile(e,n){return new K((s,a)=>{const u=()=>{e()===!0?n().next(()=>{u()},a):s()};u()})}}function mT(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ro(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Au.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff=-1;function Ru(i){return i==null}function hu(i){return i===0&&1/i==-1/0}function gT(i){return typeof i=="number"&&Number.isInteger(i)&&!hu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly="";function yT(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Vm(e)),e=vT(i.get(n),e);return Vm(e)}function vT(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const u=i.charAt(a);switch(u){case"\0":n+="";break;case ly:n+="";break;default:n+=u}}return n}function Vm(i){return i+ly+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ai(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function uy(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new Ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kl(this.root,e,this.comparator,!0)}}class Kl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,s,a,u){this.key=e,this.value=n,this.color=s??Rt.RED,this.left=a??Rt.EMPTY,this.right=u??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,u){return new Rt(e??this.key,n??this.value,s??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const u=s(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,n,s),null):u===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Rt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,n,s,a,u){return this}insert(e,n,s){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Lm(this.data.getIterator())}getIteratorFrom(e){return new Lm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mt(this.comparator);return n.data=e,n}}class Lm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new an([])}unionWith(e){let n=new mt(Ct.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new an(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qs(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new cy("Invalid base64 string: "+u):u}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(a){let u="";for(let h=0;h<a.length;++h)u+=String.fromCharCode(a[h]);return u}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const _T=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ni(i){if(be(!!i),typeof i=="string"){let e=0;const n=_T.exec(i);if(be(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:it(i.seconds),nanos:it(i.nanos)}}function it(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ri(i){return typeof i=="string"?Pt.fromBase64String(i):Pt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="server_timestamp",fy="__type__",dy="__previous_value__",py="__local_write_time__";function df(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[fy])===null||n===void 0?void 0:n.stringValue)===hy}function Cu(i){const e=i.mapValue.fields[dy];return df(e)?Cu(e):e}function ga(i){const e=ni(i.mapValue.fields[py].timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n,s,a,u,h,m,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=v}}const fu="(default)";class ya{constructor(e,n){this.projectId=e,this.database=n||fu}static empty(){return new ya("","")}get isDefaultDatabase(){return this.database===fu}isEqual(e){return e instanceof ya&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="__type__",wT="__max__",Gl={mapValue:{}},gy="__vector__",du="value";function ii(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?df(i)?4:IT(i)?9007199254740991:TT(i)?10:11:ve()}function Xn(i,e){if(i===e)return!0;const n=ii(i);if(n!==ii(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ga(i).isEqual(ga(e));case 3:return function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const h=ni(a.timestampValue),m=ni(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,u){return ri(a.bytesValue).isEqual(ri(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,u){return it(a.geoPointValue.latitude)===it(u.geoPointValue.latitude)&&it(a.geoPointValue.longitude)===it(u.geoPointValue.longitude)}(i,e);case 2:return function(a,u){if("integerValue"in a&&"integerValue"in u)return it(a.integerValue)===it(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const h=it(a.doubleValue),m=it(u.doubleValue);return h===m?hu(h)===hu(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return qs(i.arrayValue.values||[],e.arrayValue.values||[],Xn);case 10:case 11:return function(a,u){const h=a.mapValue.fields||{},m=u.mapValue.fields||{};if(Dm(h)!==Dm(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Xn(h[g],m[g])))return!1;return!0}(i,e);default:return ve()}}function va(i,e){return(i.values||[]).find(n=>Xn(n,e))!==void 0}function Ws(i,e){if(i===e)return 0;const n=ii(i),s=ii(e);if(n!==s)return Se(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=it(u.integerValue||u.doubleValue),g=it(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return Mm(i.timestampValue,e.timestampValue);case 4:return Mm(ga(i),ga(e));case 5:return Oh(i.stringValue,e.stringValue);case 6:return function(u,h){const m=ri(u),g=ri(h);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),g=h.split("/");for(let v=0;v<m.length&&v<g.length;v++){const E=Se(m[v],g[v]);if(E!==0)return E}return Se(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Se(it(u.latitude),it(h.latitude));return m!==0?m:Se(it(u.longitude),it(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Om(i.arrayValue,e.arrayValue);case 10:return function(u,h){var m,g,v,E;const T=u.fields||{},A=h.fields||{},D=(m=T[du])===null||m===void 0?void 0:m.arrayValue,M=(g=A[du])===null||g===void 0?void 0:g.arrayValue,$=Se(((v=D==null?void 0:D.values)===null||v===void 0?void 0:v.length)||0,((E=M==null?void 0:M.values)===null||E===void 0?void 0:E.length)||0);return $!==0?$:Om(D,M)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===Gl.mapValue&&h===Gl.mapValue)return 0;if(u===Gl.mapValue)return 1;if(h===Gl.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),v=h.fields||{},E=Object.keys(v);g.sort(),E.sort();for(let T=0;T<g.length&&T<E.length;++T){const A=Oh(g[T],E[T]);if(A!==0)return A;const D=Ws(m[g[T]],v[E[T]]);if(D!==0)return D}return Se(g.length,E.length)}(i.mapValue,e.mapValue);default:throw ve()}}function Mm(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Se(i,e);const n=ni(i),s=ni(e),a=Se(n.seconds,s.seconds);return a!==0?a:Se(n.nanos,s.nanos)}function Om(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const u=Ws(n[a],s[a]);if(u)return u}return Se(n.length,s.length)}function Qs(i){return Fh(i)}function Fh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=ni(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return ri(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return pe.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const u of n.values||[])a?a=!1:s+=",",s+=Fh(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",u=!0;for(const h of s)u?u=!1:a+=",",a+=`${h}:${Fh(n.fields[h])}`;return a+"}"}(i.mapValue):ve()}function tu(i){switch(ii(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cu(i);return e?16+tu(e):16;case 5:return 2*i.stringValue.length;case 6:return ri(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,u)=>a+tu(u),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return ai(s.fields,(u,h)=>{a+=u.length+tu(h)}),a}(i.mapValue);default:throw ve()}}function Fm(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function bh(i){return!!i&&"integerValue"in i}function pf(i){return!!i&&"arrayValue"in i}function bm(i){return!!i&&"nullValue"in i}function jm(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function nu(i){return!!i&&"mapValue"in i}function TT(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[my])===null||n===void 0?void 0:n.stringValue)===gy}function la(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ai(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=la(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=la(i.arrayValue.values[n]);return e}return Object.assign({},i)}function IT(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===wT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.value=e}static empty(){return new Jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!nu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=la(n)}setAll(e){let n=Ct.emptyPath(),s={},a=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,a),s={},a=[],n=m.popLast()}h?s[m.lastSegment()]=la(h):a.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,a)}delete(e){const n=this.field(e.popLast());nu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];nu(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){ai(n,(a,u)=>e[a]=u);for(const a of s)delete e[a]}clone(){return new Jt(la(this.value))}}function yy(i){const e=[];return ai(i.fields,(n,s)=>{const a=new Ct([n]);if(nu(s)){const u=yy(s.mapValue).fields;if(u.length===0)e.push(a);else for(const h of u)e.push(a.child(h))}else e.push(a)}),new an(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,s,a,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Ft(e,0,Ee.min(),Ee.min(),Ee.min(),Jt.empty(),0)}static newFoundDocument(e,n,s,a){return new Ft(e,1,n,Ee.min(),s,a,0)}static newNoDocument(e,n){return new Ft(e,2,n,Ee.min(),Ee.min(),Jt.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,Ee.min(),Ee.min(),Jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n){this.position=e,this.inclusive=n}}function Um(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const u=e[a],h=i.position[a];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(h.referenceValue),n.key):s=Ws(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function zm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Xn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n="asc"){this.field=e,this.dir=n}}function ST(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{}class lt extends vy{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new RT(e,n,s):n==="array-contains"?new xT(e,s):n==="in"?new kT(e,s):n==="not-in"?new NT(e,s):n==="array-contains-any"?new VT(e,s):new lt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new CT(e,s):new PT(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ws(n,this.value)):n!==null&&ii(this.value)===ii(n)&&this.matchesComparison(Ws(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dn extends vy{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Dn(e,n)}matches(e){return _y(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function _y(i){return i.op==="and"}function Ey(i){return AT(i)&&_y(i)}function AT(i){for(const e of i.filters)if(e instanceof Dn)return!1;return!0}function jh(i){if(i instanceof lt)return i.field.canonicalString()+i.op.toString()+Qs(i.value);if(Ey(i))return i.filters.map(e=>jh(e)).join(",");{const e=i.filters.map(n=>jh(n)).join(",");return`${i.op}(${e})`}}function wy(i,e){return i instanceof lt?function(s,a){return a instanceof lt&&s.op===a.op&&s.field.isEqual(a.field)&&Xn(s.value,a.value)}(i,e):i instanceof Dn?function(s,a){return a instanceof Dn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((u,h,m)=>u&&wy(h,a.filters[m]),!0):!1}(i,e):void ve()}function Ty(i){return i instanceof lt?function(n){return`${n.field.canonicalString()} ${n.op} ${Qs(n.value)}`}(i):i instanceof Dn?function(n){return n.op.toString()+" {"+n.getFilters().map(Ty).join(" ,")+"}"}(i):"Filter"}class RT extends lt{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class CT extends lt{constructor(e,n){super(e,"in",n),this.keys=Iy("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class PT extends lt{constructor(e,n){super(e,"not-in",n),this.keys=Iy("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Iy(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>pe.fromName(s.referenceValue))}class xT extends lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pf(n)&&va(n.arrayValue,this.value)}}class kT extends lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&va(this.value.arrayValue,n)}}class NT extends lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(va(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!va(this.value.arrayValue,n)}}class VT extends lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>va(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n=null,s=[],a=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=u,this.startAt=h,this.endAt=m,this.le=null}}function Bm(i,e=null,n=[],s=[],a=null,u=null,h=null){return new DT(i,e,n,s,a,u,h)}function mf(i){const e=we(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>jh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Ru(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Qs(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Qs(s)).join(",")),e.le=n}return e.le}function gf(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!ST(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!wy(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!zm(i.startAt,e.startAt)&&zm(i.endAt,e.endAt)}function Uh(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n=null,s=[],a=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function LT(i,e,n,s,a,u,h,m){return new io(i,e,n,s,a,u,h,m)}function Pu(i){return new io(i)}function $m(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Sy(i){return i.collectionGroup!==null}function ua(i){const e=we(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new mt(Ct.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(v=>{v.isInequality()&&(m=m.add(v.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new _a(u,s))}),n.has(Ct.keyField().canonicalString())||e.he.push(new _a(Ct.keyField(),s))}return e.he}function Wn(i){const e=we(i);return e.Pe||(e.Pe=MT(e,ua(i))),e.Pe}function MT(i,e){if(i.limitType==="F")return Bm(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const u=a.dir==="desc"?"asc":"desc";return new _a(a.field,u)});const n=i.endAt?new pu(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new pu(i.startAt.position,i.startAt.inclusive):null;return Bm(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function zh(i,e){const n=i.filters.concat([e]);return new io(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Bh(i,e,n){return new io(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function xu(i,e){return gf(Wn(i),Wn(e))&&i.limitType===e.limitType}function Ay(i){return`${mf(Wn(i))}|lt:${i.limitType}`}function js(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>Ty(a)).join(", ")}]`),Ru(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>Qs(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>Qs(a)).join(",")),`Target(${s})`}(Wn(i))}; limitType=${i.limitType})`}function ku(i,e){return e.isFoundDocument()&&function(s,a){const u=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,a){for(const u of ua(s))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const u of s.filters)if(!u.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(h,m,g){const v=Um(h,m,g);return h.inclusive?v<=0:v<0}(s.startAt,ua(s),a)||s.endAt&&!function(h,m,g){const v=Um(h,m,g);return h.inclusive?v>=0:v>0}(s.endAt,ua(s),a))}(i,e)}function OT(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ry(i){return(e,n)=>{let s=!1;for(const a of ua(i)){const u=FT(a,e,n);if(u!==0)return u;s=s||a.field.isKeyField()}return 0}}function FT(i,e,n){const s=i.field.isKeyField()?pe.comparator(e.key,n.key):function(u,h,m){const g=h.data.field(u),v=m.data.field(u);return g!==null&&v!==null?Ws(g,v):ve()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,u]of s)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ai(this.inner,(n,s)=>{for(const[a,u]of s)e(a,u)})}isEmpty(){return uy(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=new Ze(pe.comparator);function Ir(){return bT}const Cy=new Ze(pe.comparator);function sa(...i){let e=Cy;for(const n of i)e=e.insert(n.key,n);return e}function Py(i){let e=Cy;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ji(){return ca()}function xy(){return ca()}function ca(){return new $i(i=>i.toString(),(i,e)=>i.isEqual(e))}const jT=new Ze(pe.comparator),UT=new mt(pe.comparator);function Pe(...i){let e=UT;for(const n of i)e=e.add(n);return e}const zT=new mt(Se);function BT(){return zT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hu(e)?"-0":e}}function ky(i){return{integerValue:""+i}}function $T(i,e){return gT(e)?ky(e):yf(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(){this._=void 0}}function HT(i,e,n){return i instanceof mu?function(a,u){const h={fields:{[fy]:{stringValue:hy},[py]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&df(u)&&(u=Cu(u)),u&&(h.fields[dy]=u),{mapValue:h}}(n,e):i instanceof Ea?Vy(i,e):i instanceof wa?Dy(i,e):function(a,u){const h=Ny(a,u),m=Hm(h)+Hm(a.Ie);return bh(h)&&bh(a.Ie)?ky(m):yf(a.serializer,m)}(i,e)}function qT(i,e,n){return i instanceof Ea?Vy(i,e):i instanceof wa?Dy(i,e):n}function Ny(i,e){return i instanceof gu?function(s){return bh(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class mu extends Nu{}class Ea extends Nu{constructor(e){super(),this.elements=e}}function Vy(i,e){const n=Ly(e);for(const s of i.elements)n.some(a=>Xn(a,s))||n.push(s);return{arrayValue:{values:n}}}class wa extends Nu{constructor(e){super(),this.elements=e}}function Dy(i,e){let n=Ly(e);for(const s of i.elements)n=n.filter(a=>!Xn(a,s));return{arrayValue:{values:n}}}class gu extends Nu{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Hm(i){return it(i.integerValue||i.doubleValue)}function Ly(i){return pf(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function WT(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof Ea&&a instanceof Ea||s instanceof wa&&a instanceof wa?qs(s.elements,a.elements,Xn):s instanceof gu&&a instanceof gu?Xn(s.Ie,a.Ie):s instanceof mu&&a instanceof mu}(i.transform,e.transform)}class QT{constructor(e,n){this.version=e,this.transformResults=n}}class Qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ru(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Vu{}function My(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Fy(i.key,Qn.none()):new Aa(i.key,i.data,Qn.none());{const n=i.data,s=Jt.empty();let a=new mt(Ct.comparator);for(let u of e.fields)if(!a.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),a=a.add(u)}return new li(i.key,s,new an(a.toArray()),Qn.none())}}function KT(i,e,n){i instanceof Aa?function(a,u,h){const m=a.value.clone(),g=Wm(a.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,n):i instanceof li?function(a,u,h){if(!ru(a.precondition,u))return void u.convertToUnknownDocument(h.version);const m=Wm(a.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(Oy(a)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,n):function(a,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function ha(i,e,n,s){return i instanceof Aa?function(u,h,m,g){if(!ru(u.precondition,h))return m;const v=u.value.clone(),E=Qm(u.fieldTransforms,g,h);return v.setAll(E),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null}(i,e,n,s):i instanceof li?function(u,h,m,g){if(!ru(u.precondition,h))return m;const v=Qm(u.fieldTransforms,g,h),E=h.data;return E.setAll(Oy(u)),E.setAll(v),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(i,e,n,s):function(u,h,m){return ru(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,n)}function GT(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),u=Ny(s.transform,a||null);u!=null&&(n===null&&(n=Jt.empty()),n.set(s.field,u))}return n||null}function qm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&qs(s,a,(u,h)=>WT(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Aa extends Vu{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class li extends Vu{constructor(e,n,s,a,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Oy(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Wm(i,e,n){const s=new Map;be(i.length===n.length);for(let a=0;a<n.length;a++){const u=i[a],h=u.transform,m=e.data.field(u.field);s.set(u.field,qT(h,m,n[a]))}return s}function Qm(i,e,n){const s=new Map;for(const a of i){const u=a.transform,h=n.data.field(a.field);s.set(a.field,HT(u,h,e))}return s}class Fy extends Vu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YT extends Vu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&KT(u,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ha(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ha(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=xy();return this.mutations.forEach(a=>{const u=e.get(a.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(a.key)?null:m;const g=My(h,m);g!==null&&s.set(a.key,g),h.isValidDocument()||h.convertToNoDocument(Ee.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&qs(this.mutations,e.mutations,(n,s)=>qm(n,s))&&qs(this.baseMutations,e.baseMutations,(n,s)=>qm(n,s))}}class vf{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){be(e.mutations.length===s.length);let a=function(){return jT}();const u=e.mutations;for(let h=0;h<u.length;h++)a=a.insert(u[h].key,s[h].version);return new vf(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,Ve;function eI(i){switch(i){case Q.OK:return ve();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return ve()}}function by(i){if(i===void 0)return Tr("GRPC error has no .code"),Q.UNKNOWN;switch(i){case at.OK:return Q.OK;case at.CANCELLED:return Q.CANCELLED;case at.UNKNOWN:return Q.UNKNOWN;case at.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case at.INTERNAL:return Q.INTERNAL;case at.UNAVAILABLE:return Q.UNAVAILABLE;case at.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case at.NOT_FOUND:return Q.NOT_FOUND;case at.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case at.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case at.ABORTED:return Q.ABORTED;case at.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case at.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case at.DATA_LOSS:return Q.DATA_LOSS;default:return ve()}}(Ve=at||(at={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=new Jr([4294967295,4294967295],0);function Km(i){const e=oy().encode(i),n=new Zg;return n.update(e),new Uint8Array(n.digest())}function Gm(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Jr([n,s],0),new Jr([a,u],0)]}class _f{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new oa(`Invalid padding: ${n}`);if(s<0)throw new oa(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new oa(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new oa(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Jr.fromNumber(this.Ee)}Ae(e,n,s){let a=e.add(n.multiply(Jr.fromNumber(s)));return a.compare(tI)===1&&(a=new Jr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Km(e),[s,a]=Gm(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,a,u);if(!this.Re(h))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new _f(u,a,n);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.Ee===0)return;const n=Km(e),[s,a]=Gm(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,a,u);this.Ve(h)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class oa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n,s,a,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Ra.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Du(Ee.min(),a,new Ze(Se),Ir(),Pe())}}class Ra{constructor(e,n,s,a,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ra(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n,s,a){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=a}}class jy{constructor(e,n){this.targetId=e,this.ge=n}}class Uy{constructor(e,n,s=Pt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Ym{constructor(){this.pe=0,this.ye=Xm(),this.we=Pt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Pe(),n=Pe(),s=Pe();return this.ye.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:ve()}}),new Ra(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=Xm()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,be(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class nI{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ir(),this.$e=Yl(),this.Ue=Yl(),this.Ke=new Ze(Se)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,a)=>{this.Je(a)&&n(a)})}Ze(e){const n=e.targetId,s=e.ge.count,a=this.Xe(n);if(a){const u=a.target;if(Uh(u))if(s===0){const h=new pe(u.path);this.ze(n,h,Ft.newNoDocument(h,Ee.min()))}else be(s===1);else{const h=this.et(n);if(h!==s){const m=this.tt(e),g=m?this.nt(m,e,h):1;if(g!==0){this.Ye(n);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,v)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=n;let h,m;try{h=ri(s).toUint8Array()}catch(g){if(g instanceof cy)return Hs("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new _f(h,a,u)}catch(g){return Hs(g instanceof oa?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let a=0;return s.forEach(u=>{const h=this.ke.it(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),a++)}),a}ot(e){const n=new Map;this.qe.forEach((u,h)=>{const m=this.Xe(h);if(m){if(u.current&&Uh(m.target)){const g=new pe(m.target.path);this._t(g).has(h)||this.ut(h,g)||this.ze(h,g,Ft.newNoDocument(g,e))}u.ve&&(n.set(h,u.Fe()),u.Me())}});let s=Pe();this.Ue.forEach((u,h)=>{let m=!0;h.forEachWhile(g=>{const v=this.Xe(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const a=new Du(e,n,this.Ke,this.Qe,s);return this.Qe=Ir(),this.$e=Yl(),this.Ue=Yl(),this.Ke=new Ze(Se),a}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const a=this.He(e);this.ut(e,n)?a.xe(n,1):a.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Ym,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new mt(Se),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new mt(Se),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Ym),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Yl(){return new Ze(pe.comparator)}function Xm(){return new Ze(pe.comparator)}const rI={asc:"ASCENDING",desc:"DESCENDING"},iI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sI={and:"AND",or:"OR"};class oI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $h(i,e){return i.useProto3Json||Ru(e)?e:{value:e}}function yu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zy(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function aI(i,e){return yu(i,e.toTimestamp())}function Kn(i){return be(!!i),Ee.fromTimestamp(function(n){const s=ni(n);return new pt(s.seconds,s.nanos)}(i))}function Ef(i,e){return Hh(i,e).canonicalString()}function Hh(i,e){const n=function(a){return new Qe(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function By(i){const e=Qe.fromString(i);return be(Qy(e)),e}function qh(i,e){return Ef(i.databaseId,e.path)}function Sh(i,e){const n=By(e);if(n.get(1)!==i.databaseId.projectId)throw new ae(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ae(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new pe(Hy(n))}function $y(i,e){return Ef(i.databaseId,e)}function lI(i){const e=By(i);return e.length===4?Qe.emptyPath():Hy(e)}function Wh(i){return new Qe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Hy(i){return be(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function Jm(i,e,n){return{name:qh(i,e),fields:n.value.mapValue.fields}}function uI(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=function(v,E){return v.useProto3Json?(be(E===void 0||typeof E=="string"),Pt.fromBase64String(E||"")):(be(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Pt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(v){const E=v.code===void 0?Q.UNKNOWN:by(v.code);return new ae(E,v.message||"")}(h);n=new Uy(s,a,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Sh(i,s.document.name),u=Kn(s.document.updateTime),h=s.document.createTime?Kn(s.document.createTime):Ee.min(),m=new Jt({mapValue:{fields:s.document.fields}}),g=Ft.newFoundDocument(a,u,h,m),v=s.targetIds||[],E=s.removedTargetIds||[];n=new iu(v,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Sh(i,s.document),u=s.readTime?Kn(s.readTime):Ee.min(),h=Ft.newNoDocument(a,u),m=s.removedTargetIds||[];n=new iu([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Sh(i,s.document),u=s.removedTargetIds||[];n=new iu([],u,a,null)}else{if(!("filter"in e))return ve();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:u}=s,h=new ZT(a,u),m=s.targetId;n=new jy(m,h)}}return n}function cI(i,e){let n;if(e instanceof Aa)n={update:Jm(i,e.key,e.value)};else if(e instanceof Fy)n={delete:qh(i,e.key)};else if(e instanceof li)n={update:Jm(i,e.key,e.data),updateMask:_I(e.fieldMask)};else{if(!(e instanceof YT))return ve();n={verify:qh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof mu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ea)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof wa)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof gu)return{fieldPath:h.field.canonicalString(),increment:m.Ie};throw ve()}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,u){return u.updateTime!==void 0?{updateTime:aI(a,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve()}(i,e.precondition)),n}function hI(i,e){return i&&i.length>0?(be(e!==void 0),i.map(n=>function(a,u){let h=a.updateTime?Kn(a.updateTime):Kn(u);return h.isEqual(Ee.min())&&(h=Kn(u)),new QT(h,a.transformResults||[])}(n,e))):[]}function fI(i,e){return{documents:[$y(i,e.path)]}}function dI(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=$y(i,a);const u=function(v){if(v.length!==0)return Wy(Dn.create(v,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(v){if(v.length!==0)return v.map(E=>function(A){return{field:Us(A.field),direction:gI(A.dir)}}(E))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=$h(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:n,parent:a}}function pI(i){let e=lI(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){be(s===1);const E=n.from[0];E.allDescendants?a=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(T){const A=qy(T);return A instanceof Dn&&Ey(A)?A.getFilters():[A]}(n.where));let h=[];n.orderBy&&(h=function(T){return T.map(A=>function(M){return new _a(zs(M.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(T){let A;return A=typeof T=="object"?T.value:T,Ru(A)?null:A}(n.limit));let g=null;n.startAt&&(g=function(T){const A=!!T.before,D=T.values||[];return new pu(D,A)}(n.startAt));let v=null;return n.endAt&&(v=function(T){const A=!T.before,D=T.values||[];return new pu(D,A)}(n.endAt)),LT(e,a,h,u,m,"F",g,v)}function mI(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qy(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=zs(n.unaryFilter.field);return lt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=zs(n.unaryFilter.field);return lt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=zs(n.unaryFilter.field);return lt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=zs(n.unaryFilter.field);return lt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(i):i.fieldFilter!==void 0?function(n){return lt.create(zs(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Dn.create(n.compositeFilter.filters.map(s=>qy(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ve()}}(n.compositeFilter.op))}(i):ve()}function gI(i){return rI[i]}function yI(i){return iI[i]}function vI(i){return sI[i]}function Us(i){return{fieldPath:i.canonicalString()}}function zs(i){return Ct.fromServerFormat(i.fieldPath)}function Wy(i){return i instanceof lt?function(n){if(n.op==="=="){if(jm(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NAN"}};if(bm(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jm(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NOT_NAN"}};if(bm(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Us(n.field),op:yI(n.op),value:n.value}}}(i):i instanceof Dn?function(n){const s=n.getFilters().map(a=>Wy(a));return s.length===1?s[0]:{compositeFilter:{op:vI(n.op),filters:s}}}(i):ve()}function _I(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Qy(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,n,s,a,u=Ee.min(),h=Ee.min(),m=Pt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Gr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.Tt=e}}function wI(i){const e=pI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Bh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.Tn=new II}addToCollectionParentIndex(e,n){return this.Tn.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(ti.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(ti.min())}updateCollectionGroup(e,n,s){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class II{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new mt(Qe.comparator),u=!a.has(s);return this.index[n]=a.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new mt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ky=41943040;class Xt{static withCacheSize(e){return new Xt(e,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(Ky,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ks(0)}static Kn(){return new Ks(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="LruGarbageCollector",SI=1048576;function tg([i,e],[n,s]){const a=Se(i,n);return a===0?Se(e,s):a}class AI{constructor(e){this.Hn=e,this.buffer=new mt(tg),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();tg(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){oe(eg,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ro(n)?oe(eg,"Ignoring IndexedDB error during garbage collection: ",n):await no(n)}await this.er(3e5)})}}class CI{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return K.resolve(Au.ae);const s=new AI(n);return this.tr.forEachTarget(e,a=>s.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>s.Zn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Zm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zm):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,a,u,h,m,g,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,h=Date.now(),this.nthSequenceNumber(e,a))).next(T=>(s=T,m=Date.now(),this.removeTargets(e,s,n))).next(T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(v=Date.now(),bs()<=De.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${a} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(v-g)+`ms
Total Duration: ${v-E}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:T})))}}function PI(i,e){return new CI(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.changes=new $i(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?K.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&ha(s.mutation,a,an.empty(),pt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Pe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Pe()){const a=ji();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(u=>{let h=sa();return u.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=ji();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Pe()))}populateOverlays(e,n,s){const a=[];return s.forEach(u=>{n.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,s,a){let u=Ir();const h=ca(),m=function(){return ca()}();return n.forEach((g,v)=>{const E=s.get(v.key);a.has(v.key)&&(E===void 0||E.mutation instanceof li)?u=u.insert(v.key,v):E!==void 0?(h.set(v.key,E.mutation.getFieldMask()),ha(E.mutation,v,E.mutation.getFieldMask(),pt.now())):h.set(v.key,an.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((v,E)=>h.set(v,E)),n.forEach((v,E)=>{var T;return m.set(v,new kI(E,(T=h.get(v))!==null&&T!==void 0?T:null))}),m))}recalculateAndSaveOverlays(e,n){const s=ca();let a=new Ze((h,m)=>h-m),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(g=>{const v=n.get(g);if(v===null)return;let E=s.get(g)||an.empty();E=m.applyToLocalView(v,E),s.set(g,E);const T=(a.get(m.batchId)||Pe()).add(g);a=a.insert(m.batchId,T)})}).next(()=>{const h=[],m=a.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),v=g.key,E=g.value,T=xy();E.forEach(A=>{if(!u.has(A)){const D=My(n.get(A),s.get(A));D!==null&&T.set(A,D),u=u.add(A)}}),h.push(this.documentOverlayCache.saveOverlays(e,v,T))}return K.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(h){return pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Sy(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(u=>{const h=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-u.size):K.resolve(ji());let m=ma,g=u;return h.next(v=>K.forEach(v,(E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?K.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{g=g.insert(E,A)}))).next(()=>this.populateOverlays(e,v,u)).next(()=>this.computeViews(e,g,v,Pe())).next(E=>({batchId:m,changes:Py(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(s=>{let a=sa();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const u=n.collectionGroup;let h=sa();return this.indexManager.getCollectionParents(e,u).next(m=>K.forEach(m,g=>{const v=function(T,A){return new io(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next(E=>{E.forEach((T,A)=>{h=h.insert(T,A)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,a))).next(h=>{u.forEach((g,v)=>{const E=v.getKey();h.get(E)===null&&(h=h.insert(E,Ft.newInvalidDocument(E)))});let m=sa();return h.forEach((g,v)=>{const E=u.get(g);E!==void 0&&ha(E.mutation,v,an.empty(),pt.now()),ku(n,v)&&(m=m.insert(g,v))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return K.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Kn(a.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:wI(a.bundledQuery),readTime:Kn(a.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this.overlays=new Ze(pe.comparator),this.Rr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ji();return K.forEach(n,a=>this.getOverlay(e,a).next(u=>{u!==null&&s.set(a,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,u)=>{this.Et(e,n,u)}),K.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Rr.get(s);return a!==void 0&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),K.resolve()}getOverlaysForCollection(e,n,s){const a=ji(),u=n.length+1,h=new pe(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,v=g.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>s&&a.set(g.getKey(),g)}return K.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let u=new Ze((v,E)=>v-E);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let E=u.get(v.largestBatchId);E===null&&(E=ji(),u=u.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const m=ji(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,E)=>m.set(v,E)),!(m.size()>=a)););return K.resolve(m)}Et(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const h=this.Rr.get(a.largestBatchId).delete(s.key);this.Rr.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new JT(n,s));let u=this.Rr.get(n);u===void 0&&(u=Pe(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(){this.Vr=new mt(wt.mr),this.gr=new mt(wt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new wt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new wt(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new pe(new Qe([])),s=new wt(n,e),a=new wt(n,e+1),u=[];return this.gr.forEachInRange([s,a],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new pe(new Qe([])),s=new wt(n,e),a=new wt(n,e+1);let u=Pe();return this.gr.forEachInRange([s,a],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new wt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class wt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return pe.comparator(e.key,n.key)||Se(e.Cr,n.Cr)}static pr(e,n){return Se(e.Cr,n.Cr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new mt(wt.mr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new XT(u,n,s,a);this.mutationQueue.push(h);for(const m of a)this.Mr=this.Mr.add(new wt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return K.resolve(h)}lookupMutationBatch(e,n){return K.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Nr(s),u=a<0?0:a;return K.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?ff:this.Fr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new wt(n,0),a=new wt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,a],h=>{const m=this.Or(h.Cr);u.push(m)}),K.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new mt(Se);return n.forEach(a=>{const u=new wt(a,0),h=new wt(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],m=>{s=s.add(m.Cr)})}),K.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const h=new wt(new pe(u),0);let m=new mt(Se);return this.Mr.forEachWhile(g=>{const v=g.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(m=m.add(g.Cr)),!0)},h),K.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const a=this.Or(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){be(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return K.forEach(n.mutations,a=>{const u=new wt(a.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new wt(n,0),a=this.Mr.firstAfterOrEqual(s);return K.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.kr=e,this.docs=function(){return new Ze(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),u=a?a.size:0,h=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return K.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let s=Ir();return n.forEach(a=>{const u=this.docs.get(a);s=s.insert(a,u?u.document.mutableCopy():Ft.newInvalidDocument(a))}),K.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let u=Ir();const h=n.path,m=new pe(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:v,value:{document:E}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||fT(hT(E),s)<=0||(a.has(E.key)||ku(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return K.resolve(u)}getAllFromCollectionGroup(e,n,s,a){ve()}qr(e,n){return K.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new FI(this)}getSize(e){return K.resolve(this.size)}}class FI extends xI{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(s)}),K.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.persistence=e,this.Qr=new $i(n=>mf(n),gf),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.$r=0,this.Ur=new wf,this.targetCount=0,this.Kr=Ks.Un()}forEachTarget(e,n){return this.Qr.forEach((s,a)=>n(a)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),K.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Ks(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.zn(n),K.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,s){let a=0;const u=[];return this.Qr.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),K.waitFor(u).next(()=>a)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return K.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),K.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const a=this.persistence.referenceDelegate,u=[];return a&&n.forEach(h=>{u.push(a.markPotentiallyOrphaned(e,h))}),K.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),K.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return K.resolve(s)}containsKey(e,n){return K.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Au(0),this.zr=!1,this.zr=!0,this.jr=new LI,this.referenceDelegate=e(this),this.Hr=new bI(this),this.indexManager=new TI,this.remoteDocumentCache=function(a){return new OI(a)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new EI(n),this.Yr=new VI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new MI(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const a=new jI(this.Gr.next());return this.referenceDelegate.Zr(),s(a).next(u=>this.referenceDelegate.Xr(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}ei(e,n){return K.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class jI extends pT{constructor(e){super(),this.currentSequenceNumber=e}}class Tf{constructor(e){this.persistence=e,this.ti=new wf,this.ni=null}static ri(e){return new Tf(e)}get ii(){if(this.ni)return this.ni;throw ve()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),K.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),K.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(a=>this.ii.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ii,s=>{const a=pe.fromPath(s);return this.si(e,a).next(u=>{u||n.removeEntry(a,Ee.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return K.or([()=>K.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class vu{constructor(e,n){this.persistence=e,this.oi=new $i(s=>yT(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=PI(this,n)}static ri(e,n){return new vu(e,n)}Zr(){}Xr(e){return K.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return K.forEach(this.oi,(s,a)=>this.ar(e,s,a).next(u=>u?K.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.qr(e,h=>this.ar(e,h,n).next(m=>{m||(s++,u.removeEntry(h,Ee.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),K.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),K.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=tu(e.data.value)),n}ar(e,n,s){return K.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.oi.get(n);return K.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=a}static Yi(e,n){let s=Pe(),a=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new If(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return M0()?8:mT(D0())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,a){const u={result:null};return this.rs(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,n,a,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new UI;return this._s(e,n,h).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,h,m.size)})}).next(()=>u.result)}us(e,n,s,a){return s.documentReadCount<this.es?(bs()<=De.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",js(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),K.resolve()):(bs()<=De.DEBUG&&oe("QueryEngine","Query:",js(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ts*a?(bs()<=De.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",js(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(n))):K.resolve())}rs(e,n){if($m(n))return K.resolve(null);let s=Wn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Bh(n,null,"F"),s=Wn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Pe(...u);return this.ns.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const v=this.cs(n,m);return this.ls(n,v,h,g.readTime)?this.rs(e,Bh(n,null,"F")):this.hs(e,v,n,g)}))})))}ss(e,n,s,a){return $m(n)||a.isEqual(Ee.min())?K.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(n,u);return this.ls(n,h,s,a)?K.resolve(null):(bs()<=De.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),js(n)),this.hs(e,h,n,cT(a,ma)).next(m=>m))})}cs(e,n){let s=new mt(Ry(e));return n.forEach((a,u)=>{ku(e,u)&&(s=s.add(u))}),s}ls(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}_s(e,n,s){return bs()<=De.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",js(n)),this.ns.getDocumentsMatchingQuery(e,n,ti.min(),s)}hs(e,n,s,a){return this.ns.getDocumentsMatchingQuery(e,s,a).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="LocalStore",BI=3e8;class $I{constructor(e,n,s,a){this.persistence=e,this.Ps=n,this.serializer=a,this.Ts=new Ze(Se),this.Is=new $i(u=>mf(u),gf),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NI(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function HI(i,e,n,s){return new $I(i,e,n,s)}async function Yy(i,e){const n=we(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(u=>(a=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let g=Pe();for(const v of a){h.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}for(const v of u){m.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next(v=>({Rs:v,removedBatchIds:h,addedBatchIds:m}))})})}function qI(i,e){const n=we(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,g,v,E){const T=v.batch,A=T.keys();let D=K.resolve();return A.forEach(M=>{D=D.next(()=>E.getEntry(g,M)).next($=>{const U=v.docVersions.get(M);be(U!==null),$.version.compareTo(U)<0&&(T.applyToRemoteDocument($,v),$.isValidDocument()&&($.setReadTime(v.commitVersion),E.addEntry($)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(g,T))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Pe();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(g=g.add(m.batch.mutations[v].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function Xy(i){const e=we(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function WI(i,e){const n=we(i),s=e.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const m=[];e.targetChanges.forEach((E,T)=>{const A=a.get(T);if(!A)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,T).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,T)));let D=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?D=D.withResumeToken(Pt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,s)),a=a.insert(T,D),function($,U,q){return $.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=BI?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(A,D,E)&&m.push(n.Hr.updateTargetData(u,D))});let g=Ir(),v=Pe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(QI(u,h,e.documentUpdates).next(E=>{g=E.Vs,v=E.fs})),!s.isEqual(Ee.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(T=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return K.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,v)).next(()=>g)}).then(u=>(n.Ts=a,u))}function QI(i,e,n){let s=Pe(),a=Pe();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=Ir();return n.forEach((m,g)=>{const v=u.get(m);g.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(m)),g.isNoDocument()&&g.version.isEqual(Ee.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):oe(Sf,"Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",g.version)}),{Vs:h,fs:a}})}function KI(i,e){const n=we(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=ff),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function GI(i,e){const n=we(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Hr.getTargetData(s,e).next(u=>u?(a=u,K.resolve(a)):n.Hr.allocateTargetId(s).next(h=>(a=new Gr(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.Ts.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Qh(i,e,n){const s=we(i),a=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,a))}catch(h){if(!ro(h))throw h;oe(Sf,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(a.target)}function ng(i,e,n){const s=we(i);let a=Ee.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,v,E){const T=we(g),A=T.Is.get(E);return A!==void 0?K.resolve(T.Ts.get(A)):T.Hr.getTargetData(v,E)}(s,h,Wn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,m.targetId).next(g=>{u=g})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,n?a:Ee.min(),n?u:Pe())).next(m=>(YI(s,OT(e),m),{documents:m,gs:u})))}function YI(i,e,n){let s=i.Es.get(e)||Ee.min();n.forEach((a,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class rg{constructor(){this.activeTargetIds=BT()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XI{constructor(){this.ho=new rg,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new rg,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="ConnectivityMonitor";class sg{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){oe(ig,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){oe(ig,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xl=null;function Kh(){return Xl===null?Xl=function(){return 268435456+Math.round(2147483648*Math.random())}():Xl++,"0x"+Xl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah="RestConnection",ZI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eS{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${a}`,this.wo=this.databaseId.database===fu?`project_id=${s}`:`project_id=${s}&database_id=${a}`}So(e,n,s,a,u){const h=Kh(),m=this.bo(e,n.toUriEncodedString());oe(Ah,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,a,u),this.vo(e,m,g,s).then(v=>(oe(Ah,`Received RPC '${e}' ${h}: `,v),v),v=>{throw Hs(Ah,`RPC '${e}' ${h} failed with error: `,v,"url: ",m,"request:",s),v})}Co(e,n,s,a,u,h){return this.So(e,n,s,a,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+to}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,u)=>e[u]=a),s&&s.headers.forEach((a,u)=>e[u]=a)}bo(e,n){const s=ZI[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class nS extends eS{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,a){const u=Kh();return new Promise((h,m)=>{const g=new ey;g.setWithCredentials(!0),g.listenOnce(ty.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case eu.NO_ERROR:const E=g.getResponseJson();oe(Mt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case eu.TIMEOUT:oe(Mt,`RPC '${e}' ${u} timed out`),m(new ae(Q.DEADLINE_EXCEEDED,"Request time out"));break;case eu.HTTP_ERROR:const T=g.getStatus();if(oe(Mt,`RPC '${e}' ${u} failed with status:`,T,"response text:",g.getResponseText()),T>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A==null?void 0:A.error;if(D&&D.status&&D.message){const M=function(U){const q=U.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(q)>=0?q:Q.UNKNOWN}(D.status);m(new ae(M,D.message))}else m(new ae(Q.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ae(Q.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{oe(Mt,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(a);oe(Mt,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",v,s,15)})}Wo(e,n,s){const a=Kh(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=iy(),m=ry(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");oe(Mt,`Creating RPC '${e}' stream ${a}: ${E}`,g);const T=h.createWebChannel(E,g);let A=!1,D=!1;const M=new tS({Fo:U=>{D?oe(Mt,`Not sending because RPC '${e}' stream ${a} is closed:`,U):(A||(oe(Mt,`Opening RPC '${e}' stream ${a} transport.`),T.open(),A=!0),oe(Mt,`RPC '${e}' stream ${a} sending:`,U),T.send(U))},Mo:()=>T.close()}),$=(U,q,ne)=>{U.listen(q,Z=>{try{ne(Z)}catch(fe){setTimeout(()=>{throw fe},0)}})};return $(T,ia.EventType.OPEN,()=>{D||(oe(Mt,`RPC '${e}' stream ${a} transport opened.`),M.Qo())}),$(T,ia.EventType.CLOSE,()=>{D||(D=!0,oe(Mt,`RPC '${e}' stream ${a} transport closed`),M.Uo())}),$(T,ia.EventType.ERROR,U=>{D||(D=!0,Hs(Mt,`RPC '${e}' stream ${a} transport errored:`,U),M.Uo(new ae(Q.UNAVAILABLE,"The operation could not be completed")))}),$(T,ia.EventType.MESSAGE,U=>{var q;if(!D){const ne=U.data[0];be(!!ne);const Z=ne,fe=(Z==null?void 0:Z.error)||((q=Z[0])===null||q===void 0?void 0:q.error);if(fe){oe(Mt,`RPC '${e}' stream ${a} received error:`,fe);const Ce=fe.status;let Te=function(R){const x=at[R];if(x!==void 0)return by(x)}(Ce),k=fe.message;Te===void 0&&(Te=Q.INTERNAL,k="Unknown error status: "+Ce+" with message "+fe.message),D=!0,M.Uo(new ae(Te,k)),T.close()}else oe(Mt,`RPC '${e}' stream ${a} received:`,ne),M.Ko(ne)}}),$(m,ny.STAT_EVENT,U=>{U.stat===Mh.PROXY?oe(Mt,`RPC '${e}' stream ${a} detected buffering proxy`):U.stat===Mh.NOPROXY&&oe(Mt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function Rh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(i){return new oI(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n,s=1e3,a=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=a,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),a=Math.max(0,n-s);a>0&&oe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="PersistentStream";class Zy{constructor(e,n,s,a,u,h,m,g){this.Ti=e,this.n_=s,this.r_=a,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Jy(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.i_===n&&this.V_(s,a)},s=>{e(()=>{const a=new ae(Q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(a)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{s(()=>this.m_(a))}),this.stream.onMessage(a=>{s(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return oe(og,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(oe(og,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rS extends Zy{constructor(e,n,s,a,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,h),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=uI(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ee.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ee.min():h.readTime?Kn(h.readTime):Ee.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Wh(this.serializer),n.addTarget=function(u,h){let m;const g=h.target;if(m=Uh(g)?{documents:fI(u,g)}:{query:dI(u,g).ht},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=zy(u,h.resumeToken);const v=$h(u,h.expectedCount);v!==null&&(m.expectedCount=v)}else if(h.snapshotVersion.compareTo(Ee.min())>0){m.readTime=yu(u,h.snapshotVersion.toTimestamp());const v=$h(u,h.expectedCount);v!==null&&(m.expectedCount=v)}return m}(this.serializer,e);const s=mI(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Wh(this.serializer),n.removeTarget=e,this.I_(n)}}class iS extends Zy{constructor(e,n,s,a,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return be(!!e.streamToken),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=hI(e.writeResults,e.commitTime),s=Kn(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Wh(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>cI(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{}class oS extends sS{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new ae(Q.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(e,Hh(n,s),a,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ae(Q.UNKNOWN,u.toString())})}Co(e,n,s,a,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Co(e,Hh(n,s),a,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ae(Q.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class aS{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Tr(n),this.N_=!1):oe("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="RemoteStore";class lS{constructor(e,n,s,a,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{Hi(this)&&(oe(zi,"Restarting streams for network reachability change."),await async function(g){const v=we(g);v.W_.add(4),await Ca(v),v.j_.set("Unknown"),v.W_.delete(4),await Mu(v)}(this))})}),this.j_=new aS(s,a)}}async function Mu(i){if(Hi(i))for(const e of i.G_)await e(!0)}async function Ca(i){for(const e of i.G_)await e(!1)}function ev(i,e){const n=we(i);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Pf(n)?Cf(n):so(n).c_()&&Rf(n,e))}function Af(i,e){const n=we(i),s=so(n);n.K_.delete(e),s.c_()&&tv(n,e),n.K_.size===0&&(s.c_()?s.P_():Hi(n)&&n.j_.set("Unknown"))}function Rf(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}so(i).y_(e)}function tv(i,e){i.H_.Ne(e),so(i).w_(e)}function Cf(i){i.H_=new nI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),so(i).start(),i.j_.B_()}function Pf(i){return Hi(i)&&!so(i).u_()&&i.K_.size>0}function Hi(i){return we(i).W_.size===0}function nv(i){i.H_=void 0}async function uS(i){i.j_.set("Online")}async function cS(i){i.K_.forEach((e,n)=>{Rf(i,e)})}async function hS(i,e){nv(i),Pf(i)?(i.j_.q_(e),Cf(i)):i.j_.set("Unknown")}async function fS(i,e,n){if(i.j_.set("Online"),e instanceof Uy&&e.state===2&&e.cause)try{await async function(a,u){const h=u.cause;for(const m of u.targetIds)a.K_.has(m)&&(await a.remoteSyncer.rejectListen(m,h),a.K_.delete(m),a.H_.removeTarget(m))}(i,e)}catch(s){oe(zi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await _u(i,s)}else if(e instanceof iu?i.H_.We(e):e instanceof jy?i.H_.Ze(e):i.H_.je(e),!n.isEqual(Ee.min()))try{const s=await Xy(i.localStore);n.compareTo(s)>=0&&await function(u,h){const m=u.H_.ot(h);return m.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.K_.get(v);E&&u.K_.set(v,E.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,v)=>{const E=u.K_.get(g);if(!E)return;u.K_.set(g,E.withResumeToken(Pt.EMPTY_BYTE_STRING,E.snapshotVersion)),tv(u,g);const T=new Gr(E.target,g,v,E.sequenceNumber);Rf(u,T)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){oe(zi,"Failed to raise snapshot:",s),await _u(i,s)}}async function _u(i,e,n){if(!ro(e))throw e;i.W_.add(1),await Ca(i),i.j_.set("Offline"),n||(n=()=>Xy(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{oe(zi,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await Mu(i)})}function rv(i,e){return e().catch(n=>_u(i,n,e))}async function Ou(i){const e=we(i),n=si(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:ff;for(;dS(e);)try{const a=await KI(e.localStore,s);if(a===null){e.U_.length===0&&n.P_();break}s=a.batchId,pS(e,a)}catch(a){await _u(e,a)}iv(e)&&sv(e)}function dS(i){return Hi(i)&&i.U_.length<10}function pS(i,e){i.U_.push(e);const n=si(i);n.c_()&&n.S_&&n.b_(e.mutations)}function iv(i){return Hi(i)&&!si(i).u_()&&i.U_.length>0}function sv(i){si(i).start()}async function mS(i){si(i).C_()}async function gS(i){const e=si(i);for(const n of i.U_)e.b_(n.mutations)}async function yS(i,e,n){const s=i.U_.shift(),a=vf.from(s,e,n);await rv(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await Ou(i)}async function vS(i,e){e&&si(i).S_&&await async function(s,a){if(function(h){return eI(h)&&h!==Q.ABORTED}(a.code)){const u=s.U_.shift();si(s).h_(),await rv(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,a)),await Ou(s)}}(i,e),iv(i)&&sv(i)}async function ag(i,e){const n=we(i);n.asyncQueue.verifyOperationInProgress(),oe(zi,"RemoteStore received new credentials");const s=Hi(n);n.W_.add(3),await Ca(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Mu(n)}async function _S(i,e){const n=we(i);e?(n.W_.delete(2),await Mu(n)):e||(n.W_.add(2),await Ca(n),n.j_.set("Unknown"))}function so(i){return i.J_||(i.J_=function(n,s,a){const u=we(n);return u.M_(),new rS(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(i.datastore,i.asyncQueue,{xo:uS.bind(null,i),No:cS.bind(null,i),Lo:hS.bind(null,i),p_:fS.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),Pf(i)?Cf(i):i.j_.set("Unknown")):(await i.J_.stop(),nv(i))})),i.J_}function si(i){return i.Y_||(i.Y_=function(n,s,a){const u=we(n);return u.M_(),new iS(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:mS.bind(null,i),Lo:vS.bind(null,i),D_:gS.bind(null,i),v_:yS.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await Ou(i)):(await i.Y_.stop(),i.U_.length>0&&(oe(zi,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n,s,a,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=u,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,u){const h=Date.now()+s,m=new xf(e,n,h,a,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kf(i,e){if(Tr("AsyncQueue",`${e}: ${i}`),ro(i))return new ae(Q.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{static emptySet(e){return new $s(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=sa(),this.sortedSet=new Ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $s)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new $s;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(){this.Z_=new Ze(pe.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):ve():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Gs{constructor(e,n,s,a,u,h,m,g,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,a,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new Gs(e,n,$s.emptySet(n),h,s,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class wS{constructor(){this.queries=ug(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const a=we(n),u=a.queries;a.queries=ug(),u.forEach((h,m)=>{for(const g of m.ta)g.onError(s)})})(this,new ae(Q.ABORTED,"Firestore shutting down"))}}function ug(){return new $i(i=>Ay(i),xu)}async function ov(i,e){const n=we(i);let s=3;const a=e.query;let u=n.queries.get(a);u?!u.na()&&e.ra()&&(s=2):(u=new ES,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(a,!0);break;case 1:u.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(h){const m=kf(h,`Initialization of query '${js(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Nf(n)}async function av(i,e){const n=we(i),s=e.query;let a=3;const u=n.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?a=e.ra()?0:1:!u.na()&&e.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function TS(i,e){const n=we(i);let s=!1;for(const a of e){const u=a.query,h=n.queries.get(u);if(h){for(const m of h.ta)m.oa(a)&&(s=!0);h.ea=a}}s&&Nf(n)}function IS(i,e,n){const s=we(i),a=s.queries.get(e);if(a)for(const u of a.ta)u.onError(n);s.queries.delete(e)}function Nf(i){i.ia.forEach(e=>{e.next()})}var Gh,cg;(cg=Gh||(Gh={}))._a="default",cg.Cache="cache";class lv{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Gs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Gs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Gh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e){this.key=e}}class cv{constructor(e){this.key=e}}class SS{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Pe(),this.mutatedKeys=Pe(),this.ya=Ry(e),this.wa=new $s(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new lg,a=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,h=a,m=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((E,T)=>{const A=a.get(E),D=ku(this.query,T)?T:null,M=!!A&&this.mutatedKeys.has(A.key),$=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let U=!1;A&&D?A.data.isEqual(D.data)?M!==$&&(s.track({type:3,doc:D}),U=!0):this.va(A,D)||(s.track({type:2,doc:D}),U=!0,(g&&this.ya(D,g)>0||v&&this.ya(D,v)<0)&&(m=!0)):!A&&D?(s.track({type:0,doc:D}),U=!0):A&&!D&&(s.track({type:1,doc:A}),U=!0,(g||v)&&(m=!0)),U&&(D?(h=h.add(D),u=$?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:h,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,T)=>function(D,M){const $=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return $(D)-$(M)}(E.type,T.type)||this.ya(E.doc,T.doc)),this.Ca(s),a=a!=null&&a;const m=n&&!a?this.Fa():[],g=this.pa.size===0&&this.current&&!a?1:0,v=g!==this.ga;return this.ga=g,h.length!==0||v?{snapshot:new Gs(this.query,e.wa,u,h,e.mutatedKeys,g===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new lg,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Pe(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new cv(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new uv(s))}),n}Oa(e){this.fa=e.gs,this.pa=Pe();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Gs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Vf="SyncEngine";class AS{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class RS{constructor(e){this.key=e,this.Ba=!1}}class CS{constructor(e,n,s,a,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new $i(m=>Ay(m),xu),this.qa=new Map,this.Qa=new Set,this.$a=new Ze(pe.comparator),this.Ua=new Map,this.Ka=new wf,this.Wa={},this.Ga=new Map,this.za=Ks.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function PS(i,e,n=!0){const s=gv(i);let a;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.Na()):a=await hv(s,e,n,!0),a}async function xS(i,e){const n=gv(i);await hv(n,e,!0,!1)}async function hv(i,e,n,s){const a=await GI(i.localStore,Wn(e)),u=a.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await kS(i,e,u,h==="current",a.resumeToken)),i.isPrimaryClient&&n&&ev(i.remoteStore,a),m}async function kS(i,e,n,s,a){i.Ha=(T,A,D)=>async function($,U,q,ne){let Z=U.view.ba(q);Z.ls&&(Z=await ng($.localStore,U.query,!1).then(({documents:k})=>U.view.ba(k,Z)));const fe=ne&&ne.targetChanges.get(U.targetId),Ce=ne&&ne.targetMismatches.get(U.targetId)!=null,Te=U.view.applyChanges(Z,$.isPrimaryClient,fe,Ce);return fg($,U.targetId,Te.Ma),Te.snapshot}(i,T,A,D);const u=await ng(i.localStore,e,!0),h=new SS(e,u.gs),m=h.ba(u.documents),g=Ra.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),v=h.applyChanges(m,i.isPrimaryClient,g);fg(i,n,v.Ma);const E=new AS(e,n,h);return i.ka.set(e,E),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),v.snapshot}async function NS(i,e,n){const s=we(i),a=s.ka.get(e),u=s.qa.get(a.targetId);if(u.length>1)return s.qa.set(a.targetId,u.filter(h=>!xu(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Qh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Af(s.remoteStore,a.targetId),Yh(s,a.targetId)}).catch(no)):(Yh(s,a.targetId),await Qh(s.localStore,a.targetId,!0))}async function VS(i,e){const n=we(i),s=n.ka.get(e),a=n.qa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Af(n.remoteStore,s.targetId))}async function DS(i,e,n){const s=US(i);try{const a=await function(h,m){const g=we(h),v=pt.now(),E=m.reduce((D,M)=>D.add(M.key),Pe());let T,A;return g.persistence.runTransaction("Locally write mutations","readwrite",D=>{let M=Ir(),$=Pe();return g.ds.getEntries(D,E).next(U=>{M=U,M.forEach((q,ne)=>{ne.isValidDocument()||($=$.add(q))})}).next(()=>g.localDocuments.getOverlayedDocuments(D,M)).next(U=>{T=U;const q=[];for(const ne of m){const Z=GT(ne,T.get(ne.key).overlayedDocument);Z!=null&&q.push(new li(ne.key,Z,yy(Z.value.mapValue),Qn.exists(!0)))}return g.mutationQueue.addMutationBatch(D,v,q,m)}).next(U=>{A=U;const q=U.applyToLocalDocumentSet(T,$);return g.documentOverlayCache.saveOverlays(D,U.batchId,q)})}).then(()=>({batchId:A.batchId,changes:Py(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(h,m,g){let v=h.Wa[h.currentUser.toKey()];v||(v=new Ze(Se)),v=v.insert(m,g),h.Wa[h.currentUser.toKey()]=v}(s,a.batchId,n),await Pa(s,a.changes),await Ou(s.remoteStore)}catch(a){const u=kf(a,"Failed to persist write");n.reject(u)}}async function fv(i,e){const n=we(i);try{const s=await WI(n.localStore,e);e.targetChanges.forEach((a,u)=>{const h=n.Ua.get(u);h&&(be(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.Ba=!0:a.modifiedDocuments.size>0?be(h.Ba):a.removedDocuments.size>0&&(be(h.Ba),h.Ba=!1))}),await Pa(n,s,e)}catch(s){await no(s)}}function hg(i,e,n){const s=we(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.ka.forEach((u,h)=>{const m=h.view.sa(e);m.snapshot&&a.push(m.snapshot)}),function(h,m){const g=we(h);g.onlineState=m;let v=!1;g.queries.forEach((E,T)=>{for(const A of T.ta)A.sa(m)&&(v=!0)}),v&&Nf(g)}(s.eventManager,e),a.length&&s.La.p_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function LS(i,e,n){const s=we(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Ua.get(e),u=a&&a.key;if(u){let h=new Ze(pe.comparator);h=h.insert(u,Ft.newNoDocument(u,Ee.min()));const m=Pe().add(u),g=new Du(Ee.min(),new Map,new Ze(Se),h,m);await fv(s,g),s.$a=s.$a.remove(u),s.Ua.delete(e),Df(s)}else await Qh(s.localStore,e,!1).then(()=>Yh(s,e,n)).catch(no)}async function MS(i,e){const n=we(i),s=e.batch.batchId;try{const a=await qI(n.localStore,e);pv(n,s,null),dv(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Pa(n,a)}catch(a){await no(a)}}async function OS(i,e,n){const s=we(i);try{const a=await function(h,m){const g=we(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let E;return g.mutationQueue.lookupMutationBatch(v,m).next(T=>(be(T!==null),E=T.keys(),g.mutationQueue.removeMutationBatch(v,T))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E)).next(()=>g.localDocuments.getDocuments(v,E))})}(s.localStore,e);pv(s,e,n),dv(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Pa(s,a)}catch(a){await no(a)}}function dv(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function pv(i,e,n){const s=we(i);let a=s.Wa[s.currentUser.toKey()];if(a){const u=a.get(e);u&&(n?u.reject(n):u.resolve(),a=a.remove(e)),s.Wa[s.currentUser.toKey()]=a}}function Yh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),n&&i.La.Ja(s,n);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(s=>{i.Ka.containsKey(s)||mv(i,s)})}function mv(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(Af(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ua.delete(n),Df(i))}function fg(i,e,n){for(const s of n)s instanceof uv?(i.Ka.addReference(s.key,e),FS(i,s)):s instanceof cv?(oe(Vf,"Document no longer in limbo: "+s.key),i.Ka.removeReference(s.key,e),i.Ka.containsKey(s.key)||mv(i,s.key)):ve()}function FS(i,e){const n=e.key,s=n.path.canonicalString();i.$a.get(n)||i.Qa.has(s)||(oe(Vf,"New document in limbo: "+n),i.Qa.add(s),Df(i))}function Df(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new pe(Qe.fromString(e)),s=i.za.next();i.Ua.set(s,new RS(n)),i.$a=i.$a.insert(n,s),ev(i.remoteStore,new Gr(Wn(Pu(n.path)),s,"TargetPurposeLimboResolution",Au.ae))}}async function Pa(i,e,n){const s=we(i),a=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((m,g)=>{h.push(s.Ha(g,e,n).then(v=>{var E;if((v||n)&&s.isPrimaryClient){const T=v?!v.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(v){a.push(v);const T=If.Yi(g.targetId,v);u.push(T)}}))}),await Promise.all(h),s.La.p_(a),await async function(g,v){const E=we(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>K.forEach(v,A=>K.forEach(A.Hi,D=>E.persistence.referenceDelegate.addReference(T,A.targetId,D)).next(()=>K.forEach(A.Ji,D=>E.persistence.referenceDelegate.removeReference(T,A.targetId,D)))))}catch(T){if(!ro(T))throw T;oe(Sf,"Failed to update sequence numbers: "+T)}for(const T of v){const A=T.targetId;if(!T.fromCache){const D=E.Ts.get(A),M=D.snapshotVersion,$=D.withLastLimboFreeSnapshotVersion(M);E.Ts=E.Ts.insert(A,$)}}}(s.localStore,u))}async function bS(i,e){const n=we(i);if(!n.currentUser.isEqual(e)){oe(Vf,"User change. New user:",e.toKey());const s=await Yy(n.localStore,e);n.currentUser=e,function(u,h){u.Ga.forEach(m=>{m.forEach(g=>{g.reject(new ae(Q.CANCELLED,h))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Pa(n,s.Rs)}}function jS(i,e){const n=we(i),s=n.Ua.get(e);if(s&&s.Ba)return Pe().add(s.key);{let a=Pe();const u=n.qa.get(e);if(!u)return a;for(const h of u){const m=n.ka.get(h);a=a.unionWith(m.view.Sa)}return a}}function gv(i){const e=we(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=fv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LS.bind(null,e),e.La.p_=TS.bind(null,e.eventManager),e.La.Ja=IS.bind(null,e.eventManager),e}function US(i){const e=we(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OS.bind(null,e),e}class Eu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lu(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return HI(this.persistence,new zI,e.initialUser,this.serializer)}Xa(e){return new Gy(Tf.ri,this.serializer)}Za(e){return new XI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eu.provider={build:()=>new Eu};class zS extends Eu{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){be(this.persistence.referenceDelegate instanceof vu);const s=this.persistence.referenceDelegate.garbageCollector;return new RI(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Xt.withCacheSize(this.cacheSizeBytes):Xt.DEFAULT;return new Gy(s=>vu.ri(s,n),this.serializer)}}class Xh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>hg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=bS.bind(null,this.syncEngine),await _S(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wS}()}createDatastore(e){const n=Lu(e.databaseInfo.databaseId),s=function(u){return new nS(u)}(e.databaseInfo);return function(u,h,m,g){return new oS(u,h,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,u,h,m){return new lS(s,a,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>hg(this.syncEngine,n,0),function(){return sg.D()?new sg:new JI}())}createSyncEngine(e,n){return function(a,u,h,m,g,v,E){const T=new CS(a,u,h,m,g,v);return E&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const u=we(a);oe(zi,"RemoteStore shutting down."),u.W_.add(5),await Ca(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Xh.provider={build:()=>new Xh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi="FirestoreClient";class BS{constructor(e,n,s,a,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Ot.UNAUTHENTICATED,this.clientId=ay.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{oe(oi,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(oe(oi,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=kf(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Ch(i,e){i.asyncQueue.verifyOperationInProgress(),oe(oi,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Yy(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function dg(i,e){i.asyncQueue.verifyOperationInProgress();const n=await $S(i);oe(oi,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>ag(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>ag(e.remoteStore,a)),i._onlineComponents=e}async function $S(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){oe(oi,"Using user provided OfflineComponentProvider");try{await Ch(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===Q.FAILED_PRECONDITION||a.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Hs("Error using user provided cache. Falling back to memory cache: "+n),await Ch(i,new Eu)}}else oe(oi,"Using default OfflineComponentProvider"),await Ch(i,new zS(void 0));return i._offlineComponents}async function vv(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(oe(oi,"Using user provided OnlineComponentProvider"),await dg(i,i._uninitializedComponentsProvider._online)):(oe(oi,"Using default OnlineComponentProvider"),await dg(i,new Xh))),i._onlineComponents}function HS(i){return vv(i).then(e=>e.syncEngine)}async function Jh(i){const e=await vv(i),n=e.eventManager;return n.onListen=PS.bind(null,e.syncEngine),n.onUnlisten=NS.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xS.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VS.bind(null,e.syncEngine),n}function qS(i,e,n={}){const s=new Zr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,g,v){const E=new yv({next:A=>{E.su(),h.enqueueAndForget(()=>av(u,T));const D=A.docs.has(m);!D&&A.fromCache?v.reject(new ae(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&A.fromCache&&g&&g.source==="server"?v.reject(new ae(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(A)},error:A=>v.reject(A)}),T=new lv(Pu(m.path),E,{includeMetadataChanges:!0,Ta:!0});return ov(u,T)}(await Jh(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(i,e,n){if(!n)throw new ae(Q.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function WS(i,e,n,s){if(e===!0&&s===!0)throw new ae(Q.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function mg(i){if(!pe.isDocumentKey(i))throw new ae(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function gg(i){if(pe.isDocumentKey(i))throw new ae(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Fu(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ve()}function _r(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ae(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fu(i);throw new ae(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="firestore.googleapis.com",yg=!0;class vg{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wv,this.ssl=yg}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:yg;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ky;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SI)throw new ae(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_v((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bu{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new tT;switch(s.type){case"firstParty":return new sT(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ae(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=pg.get(n);s&&(oe("ComponentProvider","Removing Datastore"),pg.delete(n),s.terminate())}(this),Promise.resolve()}}function QS(i,e,n,s={}){var a;const u=(i=_r(i,bu))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==wv&&u.host!==m&&Hs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!lu(g,h)&&(i._setSettings(g),s.mockUserToken)){let v,E;if(typeof s.mockUserToken=="string")v=s.mockUserToken,E=Ot.MOCK_USER;else{v=V0(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ae(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ot(T)}i._authCredentials=new nT(new sy(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new qi(this.firestore,e,this._query)}}class Bt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}}class ei extends qi{constructor(e,n,s){super(e,n,Pu(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new pe(e))}withConverter(e){return new ei(this.firestore,e,this._path)}}function KS(i,e,...n){if(i=Yn(i),Ev("collection","path",e),i instanceof bu){const s=Qe.fromString(e,...n);return gg(s),new ei(i,null,s)}{if(!(i instanceof Bt||i instanceof ei))throw new ae(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Qe.fromString(e,...n));return gg(s),new ei(i.firestore,null,s)}}function Zh(i,e,...n){if(i=Yn(i),arguments.length===1&&(e=ay.newId()),Ev("doc","path",e),i instanceof bu){const s=Qe.fromString(e,...n);return mg(s),new Bt(i,null,new pe(s))}{if(!(i instanceof Bt||i instanceof ei))throw new ae(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Qe.fromString(e,...n));return mg(s),new Bt(i.firestore,i instanceof ei?i.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="AsyncQueue";class Eg{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Jy(this,"async_queue_retry"),this.Su=()=>{const s=Rh();s&&oe(_g,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=Rh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Rh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Zr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ro(e))throw e;oe(_g,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const a=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(s);throw Tr("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const a=xf.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(a),a}Du(){this.gu&&ve()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function wg(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const u of s)if(u in a&&typeof a[u]=="function")return!0;return!1}(i,["next","error","complete"])}class Ys extends bu{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Eg,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Eg(e),this._firestoreClient=void 0,await e}}}function GS(i,e){const n=typeof i=="object"?i:Bw(),s=typeof i=="string"?i:fu,a=Fw(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const u=k0("firestore");u&&QS(a,...u)}return a}function Lf(i){if(i._terminated)throw new ae(Q.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||YS(i),i._firestoreClient}function YS(i){var e,n,s;const a=i._freezeSettings(),u=function(m,g,v,E){return new ET(m,g,v,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,_v(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new BS(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xs(Pt.fromBase64String(e))}catch(n){throw new ae(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xs(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==a[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=/^__.*__$/;class JS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new li(e,this.data,this.fieldMask,n,this.fieldTransforms):new Aa(e,this.data,n,this.fieldTransforms)}}class Tv{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new li(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Iv(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class bf{constructor(e,n,s,a,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new bf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:s,Qu:!1});return a.$u(e),a}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:s,Qu:!1});return a.Bu(),a}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return wu(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Iv(this.Lu)&&XS.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class ZS{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Lu(e)}ju(e,n,s,a=!1){return new bf({Lu:e,methodName:n,zu:s,path:Ct.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jf(i){const e=i._freezeSettings(),n=Lu(i._databaseId);return new ZS(i._databaseId,!!e.ignoreUndefinedProperties,n)}function e1(i,e,n,s,a,u={}){const h=i.ju(u.merge||u.mergeFields?2:0,e,n,a);Uf("Data must be an object, but it was:",h,s);const m=Sv(s,h);let g,v;if(u.merge)g=new an(h.fieldMask),v=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const A=ef(e,T,n);if(!h.contains(A))throw new ae(Q.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Rv(E,A)||E.push(A)}g=new an(E),v=h.fieldTransforms.filter(T=>g.covers(T.field))}else g=null,v=h.fieldTransforms;return new JS(new Jt(m),g,v)}class Uu extends Mf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uu}}function t1(i,e,n,s){const a=i.ju(1,e,n);Uf("Data must be an object, but it was:",a,s);const u=[],h=Jt.empty();ai(s,(g,v)=>{const E=zf(e,g,n);v=Yn(v);const T=a.Uu(E);if(v instanceof Uu)u.push(E);else{const A=xa(v,T);A!=null&&(u.push(E),h.set(E,A))}});const m=new an(u);return new Tv(h,m,a.fieldTransforms)}function n1(i,e,n,s,a,u){const h=i.ju(1,e,n),m=[ef(e,s,n)],g=[a];if(u.length%2!=0)throw new ae(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(ef(e,u[A])),g.push(u[A+1]);const v=[],E=Jt.empty();for(let A=m.length-1;A>=0;--A)if(!Rv(v,m[A])){const D=m[A];let M=g[A];M=Yn(M);const $=h.Uu(D);if(M instanceof Uu)v.push(D);else{const U=xa(M,$);U!=null&&(v.push(D),E.set(D,U))}}const T=new an(v);return new Tv(E,T,h.fieldTransforms)}function r1(i,e,n,s=!1){return xa(n,i.ju(s?4:3,e))}function xa(i,e){if(Av(i=Yn(i)))return Uf("Unsupported field value:",e,i),Sv(i,e);if(i instanceof Mf)return function(s,a){if(!Iv(a.Lu))throw a.Wu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(a);u&&a.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,a){const u=[];let h=0;for(const m of s){let g=xa(m,a.Ku(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,a){if((s=Yn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return $T(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=pt.fromDate(s);return{timestampValue:yu(a.serializer,u)}}if(s instanceof pt){const u=new pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:yu(a.serializer,u)}}if(s instanceof Of)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Xs)return{bytesValue:zy(a.serializer,s._byteString)};if(s instanceof Bt){const u=a.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw a.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ef(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Ff)return function(h,m){return{mapValue:{fields:{[my]:{stringValue:gy},[du]:{arrayValue:{values:h.toArray().map(v=>{if(typeof v!="number")throw m.Wu("VectorValues must only contain numeric values.");return yf(m.serializer,v)})}}}}}}(s,a);throw a.Wu(`Unsupported field value: ${Fu(s)}`)}(i,e)}function Sv(i,e){const n={};return uy(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ai(i,(s,a)=>{const u=xa(a,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Av(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof pt||i instanceof Of||i instanceof Xs||i instanceof Bt||i instanceof Mf||i instanceof Ff)}function Uf(i,e,n){if(!Av(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=Fu(n);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function ef(i,e,n){if((e=Yn(e))instanceof ju)return e._internalPath;if(typeof e=="string")return zf(i,e);throw wu("Field path arguments must be of type string or ",i,!1,void 0,n)}const i1=new RegExp("[~\\*/\\[\\]]");function zf(i,e,n){if(e.search(i1)>=0)throw wu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new ju(...e.split("."))._internalPath}catch{throw wu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function wu(i,e,n,s,a){const u=s&&!s.isEmpty(),h=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${a}`),g+=")"),new ae(Q.INVALID_ARGUMENT,m+i+g)}function Rv(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n,s,a,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class s1 extends Cv{data(){return super.data()}}function Bf(i,e){return typeof e=="string"?zf(i,e):e instanceof ju?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ae(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $f{}class Pv extends $f{}function a1(i,e,...n){let s=[];e instanceof $f&&s.push(e),s=s.concat(n),function(u){const h=u.filter(g=>g instanceof qf).length,m=u.filter(g=>g instanceof Hf).length;if(h>1||h>0&&m>0)throw new ae(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)i=a._apply(i);return i}class Hf extends Pv{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Hf(e,n,s)}_apply(e){const n=this._parse(e);return xv(e._query,n),new qi(e.firestore,e.converter,zh(e._query,n))}_parse(e){const n=jf(e.firestore);return function(u,h,m,g,v,E,T){let A;if(v.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ae(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Ig(T,E);const M=[];for(const $ of T)M.push(Tg(g,u,$));A={arrayValue:{values:M}}}else A=Tg(g,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Ig(T,E),A=r1(m,h,T,E==="in"||E==="not-in");return lt.create(v,E,A)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class qf extends $f{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new qf(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Dn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,u){let h=a;const m=u.getFlattenedFilters();for(const g of m)xv(h,g),h=zh(h,g)}(e._query,n),new qi(e.firestore,e.converter,zh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wf extends Pv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Wf(e,n)}_apply(e){const n=function(a,u,h){if(a.startAt!==null)throw new ae(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ae(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _a(u,h)}(e._query,this._field,this._direction);return new qi(e.firestore,e.converter,function(a,u){const h=a.explicitOrderBy.concat([u]);return new io(a.path,a.collectionGroup,h,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function l1(i,e="asc"){const n=e,s=Bf("orderBy",i);return Wf._create(s,n)}function Tg(i,e,n){if(typeof(n=Yn(n))=="string"){if(n==="")throw new ae(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sy(e)&&n.indexOf("/")!==-1)throw new ae(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Qe.fromString(n));if(!pe.isDocumentKey(s))throw new ae(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Fm(i,new pe(s))}if(n instanceof Bt)return Fm(i,n._key);throw new ae(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fu(n)}.`)}function Ig(i,e){if(!Array.isArray(i)||i.length===0)throw new ae(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xv(i,e){const n=function(a,u){for(const h of a)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ae(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class u1{convertValue(e,n="none"){switch(ii(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ai(e,(a,u)=>{s[a]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,a;const u=(a=(s=(n=e.fields)===null||n===void 0?void 0:n[du].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(h=>it(h.doubleValue));return new Ff(u)}convertGeoPoint(e){return new Of(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Cu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ga(e));default:return null}}convertTimestamp(e){const n=ni(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Qe.fromString(e);be(Qy(s));const a=new ya(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return a.isEqual(n)||Tr(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kv extends Cv{constructor(e,n,s,a,u,h){super(e,n,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new su(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Bf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class su extends kv{data(e={}){return super.data(e)}}class h1{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new aa(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new su(this._firestore,this._userDataWriter,s.key,s,new aa(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,u){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(m=>{const g=new su(a._firestore,a._userDataWriter,m.doc.key,m.doc,new aa(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new su(a._firestore,a._userDataWriter,m.doc.key,m.doc,new aa(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,E=-1;return m.type!==0&&(v=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:f1(m.type),doc:g,oldIndex:v,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function f1(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(i){i=_r(i,Bt);const e=_r(i.firestore,Ys);return qS(Lf(e),i._key).then(n=>Dv(e,i,n))}class Nv extends u1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,n)}}function p1(i,e,n,...s){i=_r(i,Bt);const a=_r(i.firestore,Ys),u=jf(a);let h;return h=typeof(e=Yn(e))=="string"||e instanceof ju?n1(u,"updateDoc",i._key,e,n,s):t1(u,"updateDoc",i._key,e),Vv(a,[h.toMutation(i._key,Qn.exists(!0))])}function m1(i,e){const n=_r(i.firestore,Ys),s=Zh(i),a=c1(i.converter,e);return Vv(n,[e1(jf(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,Qn.exists(!1))]).then(()=>s)}function g1(i,...e){var n,s,a;i=Yn(i);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||wg(e[h])||(u=e[h],h++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(wg(e[h])){const T=e[h];e[h]=(n=T.next)===null||n===void 0?void 0:n.bind(T),e[h+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),e[h+2]=(a=T.complete)===null||a===void 0?void 0:a.bind(T)}let g,v,E;if(i instanceof Bt)v=_r(i.firestore,Ys),E=Pu(i._key.path),g={next:T=>{e[h]&&e[h](Dv(v,i,T))},error:e[h+1],complete:e[h+2]};else{const T=_r(i,qi);v=_r(T.firestore,Ys),E=T._query;const A=new Nv(v);g={next:D=>{e[h]&&e[h](new h1(v,A,T,D))},error:e[h+1],complete:e[h+2]},o1(i._query)}return function(A,D,M,$){const U=new yv($),q=new lv(D,U,M);return A.asyncQueue.enqueueAndForget(async()=>ov(await Jh(A),q)),()=>{U.su(),A.asyncQueue.enqueueAndForget(async()=>av(await Jh(A),q))}}(Lf(v),E,m,g)}function Vv(i,e){return function(s,a){const u=new Zr;return s.asyncQueue.enqueueAndForget(async()=>DS(await HS(s),a,u)),u.promise}(Lf(i),e)}function Dv(i,e,n){const s=n.docs.get(e._key),a=new Nv(i);return new kv(i,a,e._key,s,new aa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){to=a})(zw),cu(new da("firestore",(s,{instanceIdentifier:a,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Ys(new rT(s.getProvider("auth-internal")),new oT(h,s.getProvider("app-check-internal")),function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ae(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ya(v.options.projectId,E)}(h,a),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Bs(Am,Rm,e),Bs(Am,Rm,"esm2017")})();const y1={apiKey:"AIzaSyDuy1izP03AHsaBbpYNT1E1GJfQ7pSLauA",authDomain:"web-portofolio-50bd5.firebaseapp.com",projectId:"web-portofolio-50bd5",storageBucket:"web-portofolio-50bd5.firebasestorage.app",messagingSenderId:"668944595115",appId:"1:668944595115:web:3c7b7cb04361b1a1579fee"},v1=Yg(y1),_1=GS(v1),Tu=KS(_1,"Graduation"),tf=({message:i="Not Found"})=>H.jsx("div",{className:"flex min-h-screen w-full items-center justify-center bg-amber-950/20",children:H.jsx("div",{children:H.jsxs("h1",{className:"font-Poppins text-xl font-bold text-gray-300/60",children:["404 | ",i]})})}),Sg=()=>{document.title="Rizem Mahendra Graduation Celebration";let{inviteeId:i}=TE();if(!i)return H.jsx(tf,{});const[e,n]=W.useState(null),[s,a]=W.useState(!1),[u,h]=W.useState(!1);W.useEffect(()=>{i&&(async()=>{const v=Zh(Tu,i),E=await d1(v);E.exists()?n(E.data()):console.log("not found")})()},[i]);const m=async g=>{try{await p1(Zh(Tu,i),{attendanceStatus:g}).catch(v=>console.log(v)),n(v=>v&&{...v,attendanceStatus:g})}catch(v){console.log(v)}};return e?H.jsx(H.Fragment,{children:H.jsxs("div",{className:"bg-black-100 flex min-h-screen w-full flex-col items-center justify-center gap-4 bg-cover bg-right bg-no-repeat px-4 py-2 text-white md:gap-10 md:px-40 md:py-4",style:{backgroundImage:"linear-gradient(rgba(0,0,0,0.72),rgba(0,0,0,0.72)),url('/background.png')"},children:[H.jsxs("div",{className:"flex w-full items-center justify-start gap-2",children:[H.jsx("img",{src:"/icons/graduated.png",className:"aspect-square h-20 md:h-10",alt:""}),H.jsx("h1",{className:"text-left font-Montserrat text-5xl font-bold text-third",style:{textShadow:"2px 1px 5px red, -2px -2px 5px blue"},children:"Graduation Invitation"})]}),H.jsxs("div",{className:"flex w-full flex-col justify-end gap-5 md:flex-row md:gap-0",children:[H.jsxs("div",{className:"flex flex-1 flex-col justify-between md:justify-around",id:"detail-event",children:[H.jsxs("div",{className:"text-third",id:"invitation-sentence",children:[H.jsxs("span",{className:"text-3xl font-bold capitalize",children:["Hi ",e==null?void 0:e.prefix," ",e==null?void 0:e.name,","]}),H.jsx("p",{className:"text-2xl",children:"I’m excited to invite you to the my graduation celebration"})]}),H.jsxs("div",{className:"hidden text-[#B7B7B7] md:block",id:"place-datetime",children:[H.jsxs("div",{className:"flex items-center justify-start gap-2",children:[H.jsx("img",{src:"/icons/clock.png",alt:"",className:"h-6 w-6"}),H.jsx("p",{className:"text-2xl font-semibold",children:"13:00 PM - Finish"})]}),H.jsxs("div",{className:"flex items-center justify-start gap-3",children:[H.jsx("img",{src:"/icons/calendar.png",alt:"",className:"h-5 w-5"}),H.jsx("p",{className:"text-2xl font-semibold",children:"3 May 2025"})]}),H.jsx("div",{className:"flex items-center justify-start gap-3",children:H.jsxs("a",{href:"https://maps.app.goo.gl/x9tGQT9cTLrjtZ6z7",target:"blank",className:"flex items-center justify-start gap-3",children:[H.jsx("img",{src:"/icons/map.png",alt:"",className:"h-5 w-5"}),H.jsx("p",{className:"flex text-2xl font-semibold",children:"Seminar F"})]})}),H.jsxs("div",{className:"flex items-center justify-start gap-3",children:[H.jsx("img",{src:"/icons/university.png",alt:"",className:"h-5 w-5"}),H.jsx("p",{className:"text-2xl font-semibold",children:"Andalas University"})]})]}),H.jsx("div",{className:"hidden md:block",id:"cta-container",children:H.jsxs("button",{className:"flex items-center gap-2 rounded-md bg-third px-4 py-2 text-xl font-semibold text-black",onClick:()=>a(!0),children:[H.jsx("img",{src:"/icons/tap.png",alt:"",className:"h-5 w-5"}),"Confirm Your Attendance"]})})]}),H.jsxs("div",{className:"flex flex-1 gap-x-4 md:gap-x-12",id:"photo-galery",children:[H.jsx("div",{className:"flex flex-col justify-end",id:"photo-1",children:H.jsx("img",{className:"bottom-0",src:"/foto-2.jpg",alt:""})}),H.jsxs("div",{className:"md:gap2 flex flex-col gap-1",id:"photo-2",children:[H.jsx("img",{className:"",src:"/foto-1.jpg",alt:""}),H.jsx("span",{className:"text-center font-Poppins text-3xl font-black text-white text-stroke-2",children:"CLASS OF"}),H.jsx("span",{className:"text-center font-Poppins text-5xl font-black tracking-widest text-white text-stroke-2",children:"2025"})]})]}),H.jsx("div",{className:"flex w-full justify-around md:hidden",children:H.jsxs("div",{className:"text-white",id:"place-datetime",children:[H.jsxs("div",{className:"flex items-center justify-start gap-2",children:[H.jsx("img",{src:"/icons/clock.png",alt:"",className:"h-6 w-6"}),H.jsx("p",{className:"text-2xl font-semibold",children:"13:00 PM - Finish"})]}),H.jsxs("div",{className:"flex items-center justify-start gap-3",children:[H.jsx("img",{src:"/icons/calendar.png",alt:"",className:"h-5 w-5"}),H.jsx("p",{className:"text-2xl font-semibold",children:"3 May 2025"})]}),H.jsx("div",{className:"flex items-center justify-start gap-3",children:H.jsxs("a",{href:"https://maps.app.goo.gl/x9tGQT9cTLrjtZ6z7",target:"blank",className:"flex items-center justify-start gap-3",children:[H.jsx("img",{src:"/icons/map.png",alt:"",className:"h-5 w-5"}),H.jsx("p",{className:"flex text-2xl font-semibold",children:"Seminar F"})]})}),H.jsxs("div",{className:"flex items-center justify-start gap-3",children:[H.jsx("img",{src:"/icons/university.png",alt:"",className:"h-5 w-5"}),H.jsx("p",{className:"text-2xl font-semibold",children:"Andalas University"})]})]})}),H.jsx("div",{className:"flex items-center justify-center md:hidden",id:"cta-container",children:H.jsxs("button",{className:"flex w-5/6 items-center justify-center rounded-md bg-third px-2 py-2 text-xl font-semibold text-black",onClick:()=>a(!0),children:[H.jsx("img",{src:"/icons/tap.png",alt:"",className:"aspect-square h-9"}),"Confirm Your Attendance"]})})]}),s&&H.jsx("div",{className:"absolute flex min-h-screen min-w-full items-center justify-center bg-black/50 transition-transform",children:H.jsxs("div",{className:`relative h-1/2 w-5/6 transform rounded-md border-[4px] border-third bg-gray-700/60 px-2 py-5 text-gray-200 transition-all delay-500 duration-300 ease-in-out sm:px-5 ${s?"scale-100 opacity-100":"scale-75 opacity-0"} ${u?"md:w-3/5":"md:w-3/5 lg:w-2/5"}`,children:[H.jsx("button",{className:"absolute -right-2 -top-2 flex h-2 w-2 items-center justify-center rounded-md bg-gray-500 p-3 hover:scale-150",onClick:()=>a(!1),children:H.jsx("span",{children:"X"})}),H.jsxs("div",{children:[H.jsx("h1",{className:"text-center text-2xl",children:"Are You Coming?"}),H.jsx("h3",{className:"text-center text-lg",children:"Are you available to attend the event?"}),H.jsxs("div",{className:"my-3 flex justify-evenly",children:[H.jsx("button",{className:`rounded-md border-[4px] border-solid bg-green-700/90 px-2 py-2 transition delay-75 duration-75 ease-in-out hover:scale-[1.025] ${(e==null?void 0:e.attendanceStatus)===!0?"border-white-500":"border-transparent"} hover:bg-green-600/90`,onClick:()=>m(!0),children:"I’ll Be There!"}),H.jsx("button",{className:`rounded-md border-[4px] border-solid bg-red-700/90 px-2 py-2 transition delay-75 duration-75 ease-in-out hover:scale-[1.025] hover:bg-red-600/90 ${(e==null?void 0:e.attendanceStatus)===!1?"border-white-500":"border-transparent"}`,onClick:()=>m(!1),children:"Sorry, I Can't Make It"})]})]}),H.jsx("div",{className:"border-b-4 py-2",children:H.jsx("h1",{className:"text-center",children:(e==null?void 0:e.attendanceStatus)===!0?"🥳 Thank you for planning to come":(e==null?void 0:e.attendanceStatus)===!1?"😊 No Problem, I Appreciate That":"🤔 You haven't made a choice yet"})}),H.jsxs("div",{className:"mt-2 flex flex-col items-center justify-center gap-2 text-center",children:[H.jsx("h2",{children:"Want to support me in another way?"}),H.jsx("div",{className:"items center mb-5 flex justify-center",children:H.jsxs("button",{className:"flex items-center justify-between rounded-md bg-third px-2 py-1 font-semibold text-black",onClick:()=>h(g=>!g),children:[H.jsx("img",{src:"/icons/tap.png",alt:"",className:"aspect-square h-5"})," ","Click Me to ",u?"Close":"Open"," Option"]})}),H.jsx("div",{className:`w-full transform overflow-y-scroll transition-all duration-1000 ease-in-out md:overflow-hidden ${u?"max-h-96":"max-h-0"}`,children:H.jsxs("div",{className:"flex h-auto w-full flex-col items-center justify-around gap-4 md:flex-row md:gap-0",children:[H.jsxs("div",{id:"dana",className:"flex flex-col items-center justify-center gap-1",children:[H.jsx("img",{src:"/dana.jpg",className:"aspect-square w-48",alt:""}),H.jsx("img",{src:"/logo_dana.png",className:"aspect-video h-9 w-16 object-contain",alt:""})]}),H.jsxs("div",{id:"gopay",className:"flex flex-col items-center justify-center gap-1",children:[H.jsx("img",{src:"/gopay.jpg",className:"aspect-square w-48",alt:""}),H.jsx("img",{src:"/logo_gopay.png",className:"aspect-video h-9 w-16 object-contain",alt:""})]})]})})]})]})})]})}):H.jsx(tf,{message:"Are You Authorized?"})},E1=()=>{const[i,e]=W.useState({name:null,prefix:null,attendanceStatus:null}),[n,s]=W.useState([]);W.useEffect(()=>{const h=a1(Tu,l1("name","asc")),m=g1(h,g=>{const v=g.docs.map(E=>({id:E.id,name:E.data().name}));s(v)});return()=>{m()}},[]);const a=async()=>{i.name!=null&&await m1(Tu,i).then(h=>console.log(h.id)).finally(()=>e({name:null,prefix:null,attendanceStatus:null}))},u=(h,m)=>{h.preventDefault(),navigator.clipboard.writeText(m).then(()=>{alert("Link copied to clipboard!")}).catch(g=>{console.error("Failed to copy: ",g)})};return H.jsx(H.Fragment,{children:H.jsx("div",{className:"flex min-h-screen w-full items-center justify-center bg-gray-600",children:H.jsxs("div",{className:"flex h-[80svh] w-3/4 flex-col items-center justify-start gap-4 rounded-sm bg-gray-800 p-4 md:w-3/5 md:flex-row md:justify-around",children:[H.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[H.jsxs("div",{className:"flex flex-col items-center justify-center gap-1",children:[H.jsx("label",{htmlFor:"invitee-name",children:"Name"}),H.jsx("input",{type:"text",name:"invitee-name",id:"invitee-name",className:"text-black",value:i.name??"",autoComplete:"off",onChange:h=>e({...i,name:h.target.value})})]}),H.jsxs("div",{className:"flex flex-col items-center justify-center gap-1",children:[H.jsx("label",{htmlFor:"invitee-prefix",children:"Prefix"}),H.jsx("input",{type:"text",name:"invitee-prefix",id:"invitee-prefix",className:"text-black",autoComplete:"off",value:i.prefix??"",onChange:h=>e({...i,prefix:h.target.value})})]}),H.jsx("div",{children:H.jsx("button",{type:"button",className:"bg-black p-2 text-white",onClick:()=>a(),children:"Added a invitee"})})]}),H.jsx("div",{className:"flex max-h-[calc(55svh-1rem)] items-start justify-center overflow-y-auto md:max-h-[calc(85svh-5rem)]",children:H.jsxs("table",{className:"",children:[H.jsxs("thead",{className:"sticky top-0 bg-gray-800",children:[H.jsx("th",{className:"border-2 border-gray-600 text-center",children:"No"}),H.jsx("th",{className:"border-2 border-gray-600 text-center",children:"Nama"})]}),H.jsx("tbody",{className:"",children:n.map((h,m)=>H.jsxs("tr",{className:"border-gray-600 text-left capitalize [&:not(:last-child)]:border-b-2",children:[H.jsx("td",{children:m+1}),H.jsx("td",{children:H.jsx("a",{href:`${window.location.origin}/graduation/${h.id}`,onClick:g=>u(g,`${window.location.origin}/graduation/${h.id}`),children:h.name})})]},h.id))})]})})]})})})};function w1(){return H.jsx(H.Fragment,{children:H.jsx(a0,{children:H.jsxs(FE,{children:[H.jsx(Fi,{index:!0,Component:v0}),H.jsx(Fi,{path:"/about",Component:_0}),H.jsx(Fi,{path:"/graduation",Component:Sg}),H.jsx(Fi,{path:"/graduation/listinvitee",Component:E1}),H.jsx(Fi,{path:"/graduation/:inviteeId",Component:Sg}),H.jsx(Fi,{path:"*",Component:tf})]})})})}q_.createRoot(document.getElementById("root")).render(H.jsx(W.StrictMode,{children:H.jsx(w1,{})}));
